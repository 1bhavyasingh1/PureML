import{a as qb}from"/build/_shared/chunk-GA5CE6QK.js";import{a as Sb}from"/build/_shared/chunk-LQHMM3AA.js";import{a as tr,b as kr}from"/build/_shared/chunk-CXVWUV7G.js";import{a as er,c as d,e as Me}from"/build/_shared/chunk-ADMCF34Z.js";var Is=d(Os=>{"use strict";var Bn=tr(),Nb=Sb();function Cb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ab=typeof Object.is=="function"?Object.is:Cb,Mb=Nb.useSyncExternalStore,Tb=Bn.useRef,Ob=Bn.useEffect,Ib=Bn.useMemo,Pb=Bn.useDebugValue;Os.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var i=Tb(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=Ib(function(){function u(p){if(!c){if(c=!0,l=p,p=n(p),o!==void 0&&a.hasValue){var g=a.value;if(o(g,p))return f=g}return f=p}if(g=f,Ab(l,p))return g;var m=n(p);return o!==void 0&&o(g,m)?g:(l=p,f=m)}var c=!1,l,f,h=r===void 0?null:r;return[function(){return u(t())},h===null?void 0:function(){return u(h())}]},[t,r,n,o]);var s=Mb(e,i[0],i[1]);return Ob(function(){a.hasValue=!0,a.value=s},[s]),Pb(s),s}});var ks=d((s5,Ps)=>{"use strict";Ps.exports=Is()});var jl=d((rG,Yl)=>{function G1(){this.__data__=[],this.size=0}Yl.exports=G1});var Ht=d((nG,Kl)=>{function U1(e,t){return e===t||e!==e&&t!==t}Kl.exports=U1});var fn=d((oG,Xl)=>{var Y1=Ht();function j1(e,t){for(var r=e.length;r--;)if(Y1(e[r][0],t))return r;return-1}Xl.exports=j1});var Zl=d((iG,Wl)=>{var K1=fn(),X1=Array.prototype,W1=X1.splice;function Z1(e){var t=this.__data__,r=K1(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():W1.call(t,r,1),--this.size,!0}Wl.exports=Z1});var Jl=d((aG,Ql)=>{var Q1=fn();function J1(e){var t=this.__data__,r=Q1(t,e);return r<0?void 0:t[r][1]}Ql.exports=J1});var tf=d((sG,ef)=>{var eq=fn();function tq(e){return eq(this.__data__,e)>-1}ef.exports=tq});var nf=d((uG,rf)=>{var rq=fn();function nq(e,t){var r=this.__data__,n=rq(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}rf.exports=nq});var dn=d((cG,of)=>{var oq=jl(),iq=Zl(),aq=Jl(),sq=tf(),uq=nf();function gr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gr.prototype.clear=oq;gr.prototype.delete=iq;gr.prototype.get=aq;gr.prototype.has=sq;gr.prototype.set=uq;of.exports=gr});var sf=d((lG,af)=>{var cq=dn();function lq(){this.__data__=new cq,this.size=0}af.exports=lq});var cf=d((fG,uf)=>{function fq(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}uf.exports=fq});var ff=d((dG,lf)=>{function dq(e){return this.__data__.get(e)}lf.exports=dq});var hf=d((hG,df)=>{function hq(e){return this.__data__.has(e)}df.exports=hq});var Wi=d((pG,pf)=>{var pq=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;pf.exports=pq});var De=d((gG,gf)=>{var gq=Wi(),mq=typeof self=="object"&&self&&self.Object===Object&&self,yq=gq||mq||Function("return this")();gf.exports=yq});var Vt=d((mG,mf)=>{var vq=De(),xq=vq.Symbol;mf.exports=xq});var wf=d((yG,xf)=>{var yf=Vt(),vf=Object.prototype,wq=vf.hasOwnProperty,bq=vf.toString,hn=yf?yf.toStringTag:void 0;function _q(e){var t=wq.call(e,hn),r=e[hn];try{e[hn]=void 0;var n=!0}catch{}var o=bq.call(e);return n&&(t?e[hn]=r:delete e[hn]),o}xf.exports=_q});var _f=d((vG,bf)=>{var Eq=Object.prototype,Sq=Eq.toString;function qq(e){return Sq.call(e)}bf.exports=qq});var yt=d((xG,qf)=>{var Ef=Vt(),Nq=wf(),Cq=_f(),Aq="[object Null]",Mq="[object Undefined]",Sf=Ef?Ef.toStringTag:void 0;function Tq(e){return e==null?e===void 0?Mq:Aq:Sf&&Sf in Object(e)?Nq(e):Cq(e)}qf.exports=Tq});var Te=d((wG,Nf)=>{function Oq(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}Nf.exports=Oq});var mr=d((bG,Cf)=>{var Iq=yt(),Pq=Te(),kq="[object AsyncFunction]",Rq="[object Function]",Dq="[object GeneratorFunction]",Lq="[object Proxy]";function zq(e){if(!Pq(e))return!1;var t=Iq(e);return t==Rq||t==Dq||t==kq||t==Lq}Cf.exports=zq});var Mf=d((_G,Af)=>{var Bq=De(),$q=Bq["__core-js_shared__"];Af.exports=$q});var If=d((EG,Of)=>{var Zi=Mf(),Tf=function(){var e=/[^.]+$/.exec(Zi&&Zi.keys&&Zi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Fq(e){return!!Tf&&Tf in e}Of.exports=Fq});var Qi=d((SG,Pf)=>{var Hq=Function.prototype,Vq=Hq.toString;function Gq(e){if(e!=null){try{return Vq.call(e)}catch{}try{return e+""}catch{}}return""}Pf.exports=Gq});var Rf=d((qG,kf)=>{var Uq=mr(),Yq=If(),jq=Te(),Kq=Qi(),Xq=/[\\^$.*+?()[\]{}|]/g,Wq=/^\[object .+?Constructor\]$/,Zq=Function.prototype,Qq=Object.prototype,Jq=Zq.toString,eN=Qq.hasOwnProperty,tN=RegExp("^"+Jq.call(eN).replace(Xq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rN(e){if(!jq(e)||Yq(e))return!1;var t=Uq(e)?tN:Wq;return t.test(Kq(e))}kf.exports=rN});var Lf=d((NG,Df)=>{function nN(e,t){return e?.[t]}Df.exports=nN});var vt=d((CG,zf)=>{var oN=Rf(),iN=Lf();function aN(e,t){var r=iN(e,t);return oN(r)?r:void 0}zf.exports=aN});var Co=d((AG,Bf)=>{var sN=vt(),uN=De(),cN=sN(uN,"Map");Bf.exports=cN});var pn=d((MG,$f)=>{var lN=vt(),fN=lN(Object,"create");$f.exports=fN});var Vf=d((TG,Hf)=>{var Ff=pn();function dN(){this.__data__=Ff?Ff(null):{},this.size=0}Hf.exports=dN});var Uf=d((OG,Gf)=>{function hN(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}Gf.exports=hN});var jf=d((IG,Yf)=>{var pN=pn(),gN="__lodash_hash_undefined__",mN=Object.prototype,yN=mN.hasOwnProperty;function vN(e){var t=this.__data__;if(pN){var r=t[e];return r===gN?void 0:r}return yN.call(t,e)?t[e]:void 0}Yf.exports=vN});var Xf=d((PG,Kf)=>{var xN=pn(),wN=Object.prototype,bN=wN.hasOwnProperty;function _N(e){var t=this.__data__;return xN?t[e]!==void 0:bN.call(t,e)}Kf.exports=_N});var Zf=d((kG,Wf)=>{var EN=pn(),SN="__lodash_hash_undefined__";function qN(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=EN&&t===void 0?SN:t,this}Wf.exports=qN});var Jf=d((RG,Qf)=>{var NN=Vf(),CN=Uf(),AN=jf(),MN=Xf(),TN=Zf();function yr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yr.prototype.clear=NN;yr.prototype.delete=CN;yr.prototype.get=AN;yr.prototype.has=MN;yr.prototype.set=TN;Qf.exports=yr});var rd=d((DG,td)=>{var ed=Jf(),ON=dn(),IN=Co();function PN(){this.size=0,this.__data__={hash:new ed,map:new(IN||ON),string:new ed}}td.exports=PN});var od=d((LG,nd)=>{function kN(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}nd.exports=kN});var gn=d((zG,id)=>{var RN=od();function DN(e,t){var r=e.__data__;return RN(t)?r[typeof t=="string"?"string":"hash"]:r.map}id.exports=DN});var sd=d((BG,ad)=>{var LN=gn();function zN(e){var t=LN(this,e).delete(e);return this.size-=t?1:0,t}ad.exports=zN});var cd=d(($G,ud)=>{var BN=gn();function $N(e){return BN(this,e).get(e)}ud.exports=$N});var fd=d((FG,ld)=>{var FN=gn();function HN(e){return FN(this,e).has(e)}ld.exports=HN});var hd=d((HG,dd)=>{var VN=gn();function GN(e,t){var r=VN(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}dd.exports=GN});var Ao=d((VG,pd)=>{var UN=rd(),YN=sd(),jN=cd(),KN=fd(),XN=hd();function vr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vr.prototype.clear=UN;vr.prototype.delete=YN;vr.prototype.get=jN;vr.prototype.has=KN;vr.prototype.set=XN;pd.exports=vr});var md=d((GG,gd)=>{var WN=dn(),ZN=Co(),QN=Ao(),JN=200;function eC(e,t){var r=this.__data__;if(r instanceof WN){var n=r.__data__;if(!ZN||n.length<JN-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new QN(n)}return r.set(e,t),this.size=r.size,this}gd.exports=eC});var mn=d((UG,yd)=>{var tC=dn(),rC=sf(),nC=cf(),oC=ff(),iC=hf(),aC=md();function xr(e){var t=this.__data__=new tC(e);this.size=t.size}xr.prototype.clear=rC;xr.prototype.delete=nC;xr.prototype.get=oC;xr.prototype.has=iC;xr.prototype.set=aC;yd.exports=xr});var Mo=d((YG,vd)=>{function sC(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}vd.exports=sC});var Ji=d((jG,xd)=>{var uC=vt(),cC=function(){try{var e=uC(Object,"defineProperty");return e({},"",{}),e}catch{}}();xd.exports=cC});var yn=d((KG,bd)=>{var wd=Ji();function lC(e,t,r){t=="__proto__"&&wd?wd(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}bd.exports=lC});var vn=d((XG,_d)=>{var fC=yn(),dC=Ht(),hC=Object.prototype,pC=hC.hasOwnProperty;function gC(e,t,r){var n=e[t];(!(pC.call(e,t)&&dC(n,r))||r===void 0&&!(t in e))&&fC(e,t,r)}_d.exports=gC});var wr=d((WG,Ed)=>{var mC=vn(),yC=yn();function vC(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var s=t[i],u=n?n(r[s],e[s],s,r,e):void 0;u===void 0&&(u=e[s]),o?yC(r,s,u):mC(r,s,u)}return r}Ed.exports=vC});var qd=d((ZG,Sd)=>{function xC(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}Sd.exports=xC});var He=d((QG,Nd)=>{function wC(e){return e!=null&&typeof e=="object"}Nd.exports=wC});var Ad=d((JG,Cd)=>{var bC=yt(),_C=He(),EC="[object Arguments]";function SC(e){return _C(e)&&bC(e)==EC}Cd.exports=SC});var br=d((eU,Od)=>{var Md=Ad(),qC=He(),Td=Object.prototype,NC=Td.hasOwnProperty,CC=Td.propertyIsEnumerable,AC=Md(function(){return arguments}())?Md:function(e){return qC(e)&&NC.call(e,"callee")&&!CC.call(e,"callee")};Od.exports=AC});var fe=d((tU,Id)=>{var MC=Array.isArray;Id.exports=MC});var kd=d((rU,Pd)=>{function TC(){return!1}Pd.exports=TC});var Gt=d((xn,_r)=>{var OC=De(),IC=kd(),Ld=typeof xn=="object"&&xn&&!xn.nodeType&&xn,Rd=Ld&&typeof _r=="object"&&_r&&!_r.nodeType&&_r,PC=Rd&&Rd.exports===Ld,Dd=PC?OC.Buffer:void 0,kC=Dd?Dd.isBuffer:void 0,RC=kC||IC;_r.exports=RC});var wn=d((nU,zd)=>{var DC=9007199254740991,LC=/^(?:0|[1-9]\d*)$/;function zC(e,t){var r=typeof e;return t=t??DC,!!t&&(r=="number"||r!="symbol"&&LC.test(e))&&e>-1&&e%1==0&&e<t}zd.exports=zC});var To=d((oU,Bd)=>{var BC=9007199254740991;function $C(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=BC}Bd.exports=$C});var Fd=d((iU,$d)=>{var FC=yt(),HC=To(),VC=He(),GC="[object Arguments]",UC="[object Array]",YC="[object Boolean]",jC="[object Date]",KC="[object Error]",XC="[object Function]",WC="[object Map]",ZC="[object Number]",QC="[object Object]",JC="[object RegExp]",eA="[object Set]",tA="[object String]",rA="[object WeakMap]",nA="[object ArrayBuffer]",oA="[object DataView]",iA="[object Float32Array]",aA="[object Float64Array]",sA="[object Int8Array]",uA="[object Int16Array]",cA="[object Int32Array]",lA="[object Uint8Array]",fA="[object Uint8ClampedArray]",dA="[object Uint16Array]",hA="[object Uint32Array]",ae={};ae[iA]=ae[aA]=ae[sA]=ae[uA]=ae[cA]=ae[lA]=ae[fA]=ae[dA]=ae[hA]=!0;ae[GC]=ae[UC]=ae[nA]=ae[YC]=ae[oA]=ae[jC]=ae[KC]=ae[XC]=ae[WC]=ae[ZC]=ae[QC]=ae[JC]=ae[eA]=ae[tA]=ae[rA]=!1;function pA(e){return VC(e)&&HC(e.length)&&!!ae[FC(e)]}$d.exports=pA});var bn=d((aU,Hd)=>{function gA(e){return function(t){return e(t)}}Hd.exports=gA});var Oo=d((_n,Er)=>{var mA=Wi(),Vd=typeof _n=="object"&&_n&&!_n.nodeType&&_n,En=Vd&&typeof Er=="object"&&Er&&!Er.nodeType&&Er,yA=En&&En.exports===Vd,ea=yA&&mA.process,vA=function(){try{var e=En&&En.require&&En.require("util").types;return e||ea&&ea.binding&&ea.binding("util")}catch{}}();Er.exports=vA});var Sr=d((sU,Yd)=>{var xA=Fd(),wA=bn(),Gd=Oo(),Ud=Gd&&Gd.isTypedArray,bA=Ud?wA(Ud):xA;Yd.exports=bA});var ta=d((uU,jd)=>{var _A=qd(),EA=br(),SA=fe(),qA=Gt(),NA=wn(),CA=Sr(),AA=Object.prototype,MA=AA.hasOwnProperty;function TA(e,t){var r=SA(e),n=!r&&EA(e),o=!r&&!n&&qA(e),i=!r&&!n&&!o&&CA(e),a=r||n||o||i,s=a?_A(e.length,String):[],u=s.length;for(var c in e)(t||MA.call(e,c))&&!(a&&(c=="length"||o&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||NA(c,u)))&&s.push(c);return s}jd.exports=TA});var Sn=d((cU,Kd)=>{var OA=Object.prototype;function IA(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||OA;return e===r}Kd.exports=IA});var ra=d((lU,Xd)=>{function PA(e,t){return function(r){return e(t(r))}}Xd.exports=PA});var Zd=d((fU,Wd)=>{var kA=ra(),RA=kA(Object.keys,Object);Wd.exports=RA});var Io=d((dU,Qd)=>{var DA=Sn(),LA=Zd(),zA=Object.prototype,BA=zA.hasOwnProperty;function $A(e){if(!DA(e))return LA(e);var t=[];for(var r in Object(e))BA.call(e,r)&&r!="constructor"&&t.push(r);return t}Qd.exports=$A});var Ue=d((hU,Jd)=>{var FA=mr(),HA=To();function VA(e){return e!=null&&HA(e.length)&&!FA(e)}Jd.exports=VA});var tt=d((pU,eh)=>{var GA=ta(),UA=Io(),YA=Ue();function jA(e){return YA(e)?GA(e):UA(e)}eh.exports=jA});var rh=d((gU,th)=>{var KA=wr(),XA=tt();function WA(e,t){return e&&KA(t,XA(t),e)}th.exports=WA});var oh=d((mU,nh)=>{function ZA(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}nh.exports=ZA});var ah=d((yU,ih)=>{var QA=Te(),JA=Sn(),eM=oh(),tM=Object.prototype,rM=tM.hasOwnProperty;function nM(e){if(!QA(e))return eM(e);var t=JA(e),r=[];for(var n in e)n=="constructor"&&(t||!rM.call(e,n))||r.push(n);return r}ih.exports=nM});var xt=d((vU,sh)=>{var oM=ta(),iM=ah(),aM=Ue();function sM(e){return aM(e)?oM(e,!0):iM(e)}sh.exports=sM});var ch=d((xU,uh)=>{var uM=wr(),cM=xt();function lM(e,t){return e&&uM(t,cM(t),e)}uh.exports=lM});var na=d((qn,qr)=>{var fM=De(),hh=typeof qn=="object"&&qn&&!qn.nodeType&&qn,lh=hh&&typeof qr=="object"&&qr&&!qr.nodeType&&qr,dM=lh&&lh.exports===hh,fh=dM?fM.Buffer:void 0,dh=fh?fh.allocUnsafe:void 0;function hM(e,t){if(t)return e.slice();var r=e.length,n=dh?dh(r):new e.constructor(r);return e.copy(n),n}qr.exports=hM});var oa=d((wU,ph)=>{function pM(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}ph.exports=pM});var ia=d((bU,gh)=>{function gM(e,t){for(var r=-1,n=e==null?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}gh.exports=gM});var aa=d((_U,mh)=>{function mM(){return[]}mh.exports=mM});var Po=d((EU,vh)=>{var yM=ia(),vM=aa(),xM=Object.prototype,wM=xM.propertyIsEnumerable,yh=Object.getOwnPropertySymbols,bM=yh?function(e){return e==null?[]:(e=Object(e),yM(yh(e),function(t){return wM.call(e,t)}))}:vM;vh.exports=bM});var wh=d((SU,xh)=>{var _M=wr(),EM=Po();function SM(e,t){return _M(e,EM(e),t)}xh.exports=SM});var ko=d((qU,bh)=>{function qM(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}bh.exports=qM});var Nn=d((NU,_h)=>{var NM=ra(),CM=NM(Object.getPrototypeOf,Object);_h.exports=CM});var sa=d((CU,Eh)=>{var AM=ko(),MM=Nn(),TM=Po(),OM=aa(),IM=Object.getOwnPropertySymbols,PM=IM?function(e){for(var t=[];e;)AM(t,TM(e)),e=MM(e);return t}:OM;Eh.exports=PM});var qh=d((AU,Sh)=>{var kM=wr(),RM=sa();function DM(e,t){return kM(e,RM(e),t)}Sh.exports=DM});var ua=d((MU,Nh)=>{var LM=ko(),zM=fe();function BM(e,t,r){var n=t(e);return zM(e)?n:LM(n,r(e))}Nh.exports=BM});var ca=d((TU,Ch)=>{var $M=ua(),FM=Po(),HM=tt();function VM(e){return $M(e,HM,FM)}Ch.exports=VM});var Mh=d((OU,Ah)=>{var GM=ua(),UM=sa(),YM=xt();function jM(e){return GM(e,YM,UM)}Ah.exports=jM});var Oh=d((IU,Th)=>{var KM=vt(),XM=De(),WM=KM(XM,"DataView");Th.exports=WM});var Ph=d((PU,Ih)=>{var ZM=vt(),QM=De(),JM=ZM(QM,"Promise");Ih.exports=JM});var la=d((kU,kh)=>{var eT=vt(),tT=De(),rT=eT(tT,"Set");kh.exports=rT});var Dh=d((RU,Rh)=>{var nT=vt(),oT=De(),iT=nT(oT,"WeakMap");Rh.exports=iT});var Yt=d((DU,Vh)=>{var fa=Oh(),da=Co(),ha=Ph(),pa=la(),ga=Dh(),Hh=yt(),Nr=Qi(),Lh="[object Map]",aT="[object Object]",zh="[object Promise]",Bh="[object Set]",$h="[object WeakMap]",Fh="[object DataView]",sT=Nr(fa),uT=Nr(da),cT=Nr(ha),lT=Nr(pa),fT=Nr(ga),Ut=Hh;(fa&&Ut(new fa(new ArrayBuffer(1)))!=Fh||da&&Ut(new da)!=Lh||ha&&Ut(ha.resolve())!=zh||pa&&Ut(new pa)!=Bh||ga&&Ut(new ga)!=$h)&&(Ut=function(e){var t=Hh(e),r=t==aT?e.constructor:void 0,n=r?Nr(r):"";if(n)switch(n){case sT:return Fh;case uT:return Lh;case cT:return zh;case lT:return Bh;case fT:return $h}return t});Vh.exports=Ut});var Uh=d((LU,Gh)=>{var dT=Object.prototype,hT=dT.hasOwnProperty;function pT(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&hT.call(e,"index")&&(r.index=e.index,r.input=e.input),r}Gh.exports=pT});var ma=d((zU,Yh)=>{var gT=De(),mT=gT.Uint8Array;Yh.exports=mT});var Ro=d((BU,Kh)=>{var jh=ma();function yT(e){var t=new e.constructor(e.byteLength);return new jh(t).set(new jh(e)),t}Kh.exports=yT});var Wh=d(($U,Xh)=>{var vT=Ro();function xT(e,t){var r=t?vT(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}Xh.exports=xT});var Qh=d((FU,Zh)=>{var wT=/\w*$/;function bT(e){var t=new e.constructor(e.source,wT.exec(e));return t.lastIndex=e.lastIndex,t}Zh.exports=bT});var np=d((HU,rp)=>{var Jh=Vt(),ep=Jh?Jh.prototype:void 0,tp=ep?ep.valueOf:void 0;function _T(e){return tp?Object(tp.call(e)):{}}rp.exports=_T});var ya=d((VU,op)=>{var ET=Ro();function ST(e,t){var r=t?ET(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}op.exports=ST});var ap=d((GU,ip)=>{var qT=Ro(),NT=Wh(),CT=Qh(),AT=np(),MT=ya(),TT="[object Boolean]",OT="[object Date]",IT="[object Map]",PT="[object Number]",kT="[object RegExp]",RT="[object Set]",DT="[object String]",LT="[object Symbol]",zT="[object ArrayBuffer]",BT="[object DataView]",$T="[object Float32Array]",FT="[object Float64Array]",HT="[object Int8Array]",VT="[object Int16Array]",GT="[object Int32Array]",UT="[object Uint8Array]",YT="[object Uint8ClampedArray]",jT="[object Uint16Array]",KT="[object Uint32Array]";function XT(e,t,r){var n=e.constructor;switch(t){case zT:return qT(e);case TT:case OT:return new n(+e);case BT:return NT(e,r);case $T:case FT:case HT:case VT:case GT:case UT:case YT:case jT:case KT:return MT(e,r);case IT:return new n;case PT:case DT:return new n(e);case kT:return CT(e);case RT:return new n;case LT:return AT(e)}}ip.exports=XT});var va=d((UU,up)=>{var WT=Te(),sp=Object.create,ZT=function(){function e(){}return function(t){if(!WT(t))return{};if(sp)return sp(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();up.exports=ZT});var xa=d((YU,cp)=>{var QT=va(),JT=Nn(),eO=Sn();function tO(e){return typeof e.constructor=="function"&&!eO(e)?QT(JT(e)):{}}cp.exports=tO});var fp=d((jU,lp)=>{var rO=Yt(),nO=He(),oO="[object Map]";function iO(e){return nO(e)&&rO(e)==oO}lp.exports=iO});var gp=d((KU,pp)=>{var aO=fp(),sO=bn(),dp=Oo(),hp=dp&&dp.isMap,uO=hp?sO(hp):aO;pp.exports=uO});var yp=d((XU,mp)=>{var cO=Yt(),lO=He(),fO="[object Set]";function dO(e){return lO(e)&&cO(e)==fO}mp.exports=dO});var bp=d((WU,wp)=>{var hO=yp(),pO=bn(),vp=Oo(),xp=vp&&vp.isSet,gO=xp?pO(xp):hO;wp.exports=gO});var wa=d((ZU,qp)=>{var mO=mn(),yO=Mo(),vO=vn(),xO=rh(),wO=ch(),bO=na(),_O=oa(),EO=wh(),SO=qh(),qO=ca(),NO=Mh(),CO=Yt(),AO=Uh(),MO=ap(),TO=xa(),OO=fe(),IO=Gt(),PO=gp(),kO=Te(),RO=bp(),DO=tt(),LO=xt(),zO=1,BO=2,$O=4,_p="[object Arguments]",FO="[object Array]",HO="[object Boolean]",VO="[object Date]",GO="[object Error]",Ep="[object Function]",UO="[object GeneratorFunction]",YO="[object Map]",jO="[object Number]",Sp="[object Object]",KO="[object RegExp]",XO="[object Set]",WO="[object String]",ZO="[object Symbol]",QO="[object WeakMap]",JO="[object ArrayBuffer]",eI="[object DataView]",tI="[object Float32Array]",rI="[object Float64Array]",nI="[object Int8Array]",oI="[object Int16Array]",iI="[object Int32Array]",aI="[object Uint8Array]",sI="[object Uint8ClampedArray]",uI="[object Uint16Array]",cI="[object Uint32Array]",re={};re[_p]=re[FO]=re[JO]=re[eI]=re[HO]=re[VO]=re[tI]=re[rI]=re[nI]=re[oI]=re[iI]=re[YO]=re[jO]=re[Sp]=re[KO]=re[XO]=re[WO]=re[ZO]=re[aI]=re[sI]=re[uI]=re[cI]=!0;re[GO]=re[Ep]=re[QO]=!1;function Do(e,t,r,n,o,i){var a,s=t&zO,u=t&BO,c=t&$O;if(r&&(a=o?r(e,n,o,i):r(e)),a!==void 0)return a;if(!kO(e))return e;var l=OO(e);if(l){if(a=AO(e),!s)return _O(e,a)}else{var f=CO(e),h=f==Ep||f==UO;if(IO(e))return bO(e,s);if(f==Sp||f==_p||h&&!o){if(a=u||h?{}:TO(e),!s)return u?SO(e,wO(a,e)):EO(e,xO(a,e))}else{if(!re[f])return o?e:{};a=MO(e,f,s)}}i||(i=new mO);var p=i.get(e);if(p)return p;i.set(e,a),RO(e)?e.forEach(function(_){a.add(Do(_,t,r,_,e,i))}):PO(e)&&e.forEach(function(_,v){a.set(v,Do(_,t,r,v,e,i))});var g=c?u?NO:qO:u?LO:DO,m=l?void 0:g(e);return yO(m||e,function(_,v){m&&(v=_,_=e[v]),vO(a,v,Do(_,t,r,v,e,i))}),a}qp.exports=Do});var Cp=d((QU,Np)=>{var lI=wa(),fI=4;function dI(e){return lI(e,fI)}Np.exports=dI});var Lo=d((JU,Ap)=>{function hI(e){return function(){return e}}Ap.exports=hI});var Tp=d((e9,Mp)=>{function pI(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),s=a.length;s--;){var u=a[e?s:++o];if(r(i[u],u,i)===!1)break}return t}}Mp.exports=pI});var zo=d((t9,Op)=>{var gI=Tp(),mI=gI();Op.exports=mI});var Bo=d((r9,Ip)=>{var yI=zo(),vI=tt();function xI(e,t){return e&&yI(e,t,vI)}Ip.exports=xI});var kp=d((n9,Pp)=>{var wI=Ue();function bI(e,t){return function(r,n){if(r==null)return r;if(!wI(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Object(r);(t?i--:++i<o)&&n(a[i],i,a)!==!1;);return r}}Pp.exports=bI});var Cn=d((o9,Rp)=>{var _I=Bo(),EI=kp(),SI=EI(_I);Rp.exports=SI});var wt=d((i9,Dp)=>{function qI(e){return e}Dp.exports=qI});var ba=d((a9,Lp)=>{var NI=wt();function CI(e){return typeof e=="function"?e:NI}Lp.exports=CI});var _a=d((s9,zp)=>{var AI=Mo(),MI=Cn(),TI=ba(),OI=fe();function II(e,t){var r=OI(e)?AI:MI;return r(e,TI(t))}zp.exports=II});var Ea=d((u9,Bp)=>{Bp.exports=_a()});var Fp=d((c9,$p)=>{var PI=Cn();function kI(e,t){var r=[];return PI(e,function(n,o,i){t(n,o,i)&&r.push(n)}),r}$p.exports=kI});var Vp=d((l9,Hp)=>{var RI="__lodash_hash_undefined__";function DI(e){return this.__data__.set(e,RI),this}Hp.exports=DI});var Up=d((f9,Gp)=>{function LI(e){return this.__data__.has(e)}Gp.exports=LI});var Sa=d((d9,Yp)=>{var zI=Ao(),BI=Vp(),$I=Up();function $o(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new zI;++t<r;)this.add(e[t])}$o.prototype.add=$o.prototype.push=BI;$o.prototype.has=$I;Yp.exports=$o});var Kp=d((h9,jp)=>{function FI(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}jp.exports=FI});var qa=d((p9,Xp)=>{function HI(e,t){return e.has(t)}Xp.exports=HI});var Na=d((g9,Wp)=>{var VI=Sa(),GI=Kp(),UI=qa(),YI=1,jI=2;function KI(e,t,r,n,o,i){var a=r&YI,s=e.length,u=t.length;if(s!=u&&!(a&&u>s))return!1;var c=i.get(e),l=i.get(t);if(c&&l)return c==t&&l==e;var f=-1,h=!0,p=r&jI?new VI:void 0;for(i.set(e,t),i.set(t,e);++f<s;){var g=e[f],m=t[f];if(n)var _=a?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(_!==void 0){if(_)continue;h=!1;break}if(p){if(!GI(t,function(v,S){if(!UI(p,S)&&(g===v||o(g,v,r,n,i)))return p.push(S)})){h=!1;break}}else if(!(g===m||o(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}Wp.exports=KI});var Qp=d((m9,Zp)=>{function XI(e){var t=-1,r=Array(e.size);return e.forEach(function(n,o){r[++t]=[o,n]}),r}Zp.exports=XI});var Fo=d((y9,Jp)=>{function WI(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}Jp.exports=WI});var og=d((v9,ng)=>{var eg=Vt(),tg=ma(),ZI=Ht(),QI=Na(),JI=Qp(),e2=Fo(),t2=1,r2=2,n2="[object Boolean]",o2="[object Date]",i2="[object Error]",a2="[object Map]",s2="[object Number]",u2="[object RegExp]",c2="[object Set]",l2="[object String]",f2="[object Symbol]",d2="[object ArrayBuffer]",h2="[object DataView]",rg=eg?eg.prototype:void 0,Ca=rg?rg.valueOf:void 0;function p2(e,t,r,n,o,i,a){switch(r){case h2:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case d2:return!(e.byteLength!=t.byteLength||!i(new tg(e),new tg(t)));case n2:case o2:case s2:return ZI(+e,+t);case i2:return e.name==t.name&&e.message==t.message;case u2:case l2:return e==t+"";case a2:var s=JI;case c2:var u=n&t2;if(s||(s=e2),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;n|=r2,a.set(e,t);var l=QI(s(e),s(t),n,o,i,a);return a.delete(e),l;case f2:if(Ca)return Ca.call(e)==Ca.call(t)}return!1}ng.exports=p2});var sg=d((x9,ag)=>{var ig=ca(),g2=1,m2=Object.prototype,y2=m2.hasOwnProperty;function v2(e,t,r,n,o,i){var a=r&g2,s=ig(e),u=s.length,c=ig(t),l=c.length;if(u!=l&&!a)return!1;for(var f=u;f--;){var h=s[f];if(!(a?h in t:y2.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var _=a;++f<u;){h=s[f];var v=e[h],S=t[h];if(n)var A=a?n(S,v,h,t,e,i):n(v,S,h,e,t,i);if(!(A===void 0?v===S||o(v,S,r,n,i):A)){m=!1;break}_||(_=h=="constructor")}if(m&&!_){var w=e.constructor,E=t.constructor;w!=E&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof E=="function"&&E instanceof E)&&(m=!1)}return i.delete(e),i.delete(t),m}ag.exports=v2});var gg=d((w9,pg)=>{var Aa=mn(),x2=Na(),w2=og(),b2=sg(),ug=Yt(),cg=fe(),lg=Gt(),_2=Sr(),E2=1,fg="[object Arguments]",dg="[object Array]",Ho="[object Object]",S2=Object.prototype,hg=S2.hasOwnProperty;function q2(e,t,r,n,o,i){var a=cg(e),s=cg(t),u=a?dg:ug(e),c=s?dg:ug(t);u=u==fg?Ho:u,c=c==fg?Ho:c;var l=u==Ho,f=c==Ho,h=u==c;if(h&&lg(e)){if(!lg(t))return!1;a=!0,l=!1}if(h&&!l)return i||(i=new Aa),a||_2(e)?x2(e,t,r,n,o,i):w2(e,t,u,r,n,o,i);if(!(r&E2)){var p=l&&hg.call(e,"__wrapped__"),g=f&&hg.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,_=g?t.value():t;return i||(i=new Aa),o(m,_,r,n,i)}}return h?(i||(i=new Aa),b2(e,t,r,n,o,i)):!1}pg.exports=q2});var Ma=d((b9,vg)=>{var N2=gg(),mg=He();function yg(e,t,r,n,o){return e===t?!0:e==null||t==null||!mg(e)&&!mg(t)?e!==e&&t!==t:N2(e,t,r,n,yg,o)}vg.exports=yg});var wg=d((_9,xg)=>{var C2=mn(),A2=Ma(),M2=1,T2=2;function O2(e,t,r,n){var o=r.length,i=o,a=!n;if(e==null)return!i;for(e=Object(e);o--;){var s=r[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){s=r[o];var u=s[0],c=e[u],l=s[1];if(a&&s[2]){if(c===void 0&&!(u in e))return!1}else{var f=new C2;if(n)var h=n(c,l,u,e,t,f);if(!(h===void 0?A2(l,c,M2|T2,n,f):h))return!1}}return!0}xg.exports=O2});var Ta=d((E9,bg)=>{var I2=Te();function P2(e){return e===e&&!I2(e)}bg.exports=P2});var Eg=d((S9,_g)=>{var k2=Ta(),R2=tt();function D2(e){for(var t=R2(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,k2(o)]}return t}_g.exports=D2});var Oa=d((q9,Sg)=>{function L2(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}Sg.exports=L2});var Ng=d((N9,qg)=>{var z2=wg(),B2=Eg(),$2=Oa();function F2(e){var t=B2(e);return t.length==1&&t[0][2]?$2(t[0][0],t[0][1]):function(r){return r===e||z2(r,e,t)}}qg.exports=F2});var jt=d((C9,Cg)=>{var H2=yt(),V2=He(),G2="[object Symbol]";function U2(e){return typeof e=="symbol"||V2(e)&&H2(e)==G2}Cg.exports=U2});var Vo=d((A9,Ag)=>{var Y2=fe(),j2=jt(),K2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X2=/^\w*$/;function W2(e,t){if(Y2(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||j2(e)?!0:X2.test(e)||!K2.test(e)||t!=null&&e in Object(t)}Ag.exports=W2});var Og=d((M9,Tg)=>{var Mg=Ao(),Z2="Expected a function";function Ia(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Z2);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(Ia.Cache||Mg),r}Ia.Cache=Mg;Tg.exports=Ia});var Pg=d((T9,Ig)=>{var Q2=Og(),J2=500;function eP(e){var t=Q2(e,function(n){return r.size===J2&&r.clear(),n}),r=t.cache;return t}Ig.exports=eP});var Rg=d((O9,kg)=>{var tP=Pg(),rP=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nP=/\\(\\)?/g,oP=tP(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rP,function(r,n,o,i){t.push(o?i.replace(nP,"$1"):n||r)}),t});kg.exports=oP});var An=d((I9,Dg)=>{function iP(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}Dg.exports=iP});var Hg=d((P9,Fg)=>{var Lg=Vt(),aP=An(),sP=fe(),uP=jt(),cP=1/0,zg=Lg?Lg.prototype:void 0,Bg=zg?zg.toString:void 0;function $g(e){if(typeof e=="string")return e;if(sP(e))return aP(e,$g)+"";if(uP(e))return Bg?Bg.call(e):"";var t=e+"";return t=="0"&&1/e==-cP?"-0":t}Fg.exports=$g});var Pa=d((k9,Vg)=>{var lP=Hg();function fP(e){return e==null?"":lP(e)}Vg.exports=fP});var Mn=d((R9,Gg)=>{var dP=fe(),hP=Vo(),pP=Rg(),gP=Pa();function mP(e,t){return dP(e)?e:hP(e,t)?[e]:pP(gP(e))}Gg.exports=mP});var Cr=d((D9,Ug)=>{var yP=jt(),vP=1/0;function xP(e){if(typeof e=="string"||yP(e))return e;var t=e+"";return t=="0"&&1/e==-vP?"-0":t}Ug.exports=xP});var Tn=d((L9,Yg)=>{var wP=Mn(),bP=Cr();function _P(e,t){t=wP(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[bP(t[r++])];return r&&r==n?e:void 0}Yg.exports=_P});var Kg=d((z9,jg)=>{var EP=Tn();function SP(e,t,r){var n=e==null?void 0:EP(e,t);return n===void 0?r:n}jg.exports=SP});var Wg=d((B9,Xg)=>{function qP(e,t){return e!=null&&t in Object(e)}Xg.exports=qP});var ka=d(($9,Zg)=>{var NP=Mn(),CP=br(),AP=fe(),MP=wn(),TP=To(),OP=Cr();function IP(e,t,r){t=NP(t,e);for(var n=-1,o=t.length,i=!1;++n<o;){var a=OP(t[n]);if(!(i=e!=null&&r(e,a)))break;e=e[a]}return i||++n!=o?i:(o=e==null?0:e.length,!!o&&TP(o)&&MP(a,o)&&(AP(e)||CP(e)))}Zg.exports=IP});var Ra=d((F9,Qg)=>{var PP=Wg(),kP=ka();function RP(e,t){return e!=null&&kP(e,t,PP)}Qg.exports=RP});var em=d((H9,Jg)=>{var DP=Ma(),LP=Kg(),zP=Ra(),BP=Vo(),$P=Ta(),FP=Oa(),HP=Cr(),VP=1,GP=2;function UP(e,t){return BP(e)&&$P(t)?FP(HP(e),t):function(r){var n=LP(r,e);return n===void 0&&n===t?zP(r,e):DP(t,n,VP|GP)}}Jg.exports=UP});var Da=d((V9,tm)=>{function YP(e){return function(t){return t?.[e]}}tm.exports=YP});var nm=d((G9,rm)=>{var jP=Tn();function KP(e){return function(t){return jP(t,e)}}rm.exports=KP});var im=d((U9,om)=>{var XP=Da(),WP=nm(),ZP=Vo(),QP=Cr();function JP(e){return ZP(e)?XP(QP(e)):WP(e)}om.exports=JP});var Ye=d((Y9,am)=>{var ek=Ng(),tk=em(),rk=wt(),nk=fe(),ok=im();function ik(e){return typeof e=="function"?e:e==null?rk:typeof e=="object"?nk(e)?tk(e[0],e[1]):ek(e):ok(e)}am.exports=ik});var La=d((j9,sm)=>{var ak=ia(),sk=Fp(),uk=Ye(),ck=fe();function lk(e,t){var r=ck(e)?ak:sk;return r(e,uk(t,3))}sm.exports=lk});var cm=d((K9,um)=>{var fk=Object.prototype,dk=fk.hasOwnProperty;function hk(e,t){return e!=null&&dk.call(e,t)}um.exports=hk});var za=d((X9,lm)=>{var pk=cm(),gk=ka();function mk(e,t){return e!=null&&gk(e,t,pk)}lm.exports=mk});var dm=d((W9,fm)=>{var yk=Io(),vk=Yt(),xk=br(),wk=fe(),bk=Ue(),_k=Gt(),Ek=Sn(),Sk=Sr(),qk="[object Map]",Nk="[object Set]",Ck=Object.prototype,Ak=Ck.hasOwnProperty;function Mk(e){if(e==null)return!0;if(bk(e)&&(wk(e)||typeof e=="string"||typeof e.splice=="function"||_k(e)||Sk(e)||xk(e)))return!e.length;var t=vk(e);if(t==qk||t==Nk)return!e.size;if(Ek(e))return!yk(e).length;for(var r in e)if(Ak.call(e,r))return!1;return!0}fm.exports=Mk});var Ba=d((Z9,hm)=>{function Tk(e){return e===void 0}hm.exports=Tk});var $a=d((Q9,pm)=>{var Ok=Cn(),Ik=Ue();function Pk(e,t){var r=-1,n=Ik(e)?Array(e.length):[];return Ok(e,function(o,i,a){n[++r]=t(o,i,a)}),n}pm.exports=Pk});var Fa=d((J9,gm)=>{var kk=An(),Rk=Ye(),Dk=$a(),Lk=fe();function zk(e,t){var r=Lk(e)?kk:Dk;return r(e,Rk(t,3))}gm.exports=zk});var ym=d((eY,mm)=>{function Bk(e,t,r,n){var o=-1,i=e==null?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}mm.exports=Bk});var xm=d((tY,vm)=>{function $k(e,t,r,n,o){return o(e,function(i,a,s){r=n?(n=!1,i):t(r,i,a,s)}),r}vm.exports=$k});var Ha=d((rY,wm)=>{var Fk=ym(),Hk=Cn(),Vk=Ye(),Gk=xm(),Uk=fe();function Yk(e,t,r){var n=Uk(e)?Fk:Gk,o=arguments.length<3;return n(e,Vk(t,4),r,o,Hk)}wm.exports=Yk});var _m=d((nY,bm)=>{var jk=yt(),Kk=fe(),Xk=He(),Wk="[object String]";function Zk(e){return typeof e=="string"||!Kk(e)&&Xk(e)&&jk(e)==Wk}bm.exports=Zk});var Sm=d((oY,Em)=>{var Qk=Da(),Jk=Qk("length");Em.exports=Jk});var Nm=d((iY,qm)=>{var eR="\\ud800-\\udfff",tR="\\u0300-\\u036f",rR="\\ufe20-\\ufe2f",nR="\\u20d0-\\u20ff",oR=tR+rR+nR,iR="\\ufe0e\\ufe0f",aR="\\u200d",sR=RegExp("["+aR+eR+oR+iR+"]");function uR(e){return sR.test(e)}qm.exports=uR});var Rm=d((aY,km)=>{var Am="\\ud800-\\udfff",cR="\\u0300-\\u036f",lR="\\ufe20-\\ufe2f",fR="\\u20d0-\\u20ff",dR=cR+lR+fR,hR="\\ufe0e\\ufe0f",pR="["+Am+"]",Va="["+dR+"]",Ga="\\ud83c[\\udffb-\\udfff]",gR="(?:"+Va+"|"+Ga+")",Mm="[^"+Am+"]",Tm="(?:\\ud83c[\\udde6-\\uddff]){2}",Om="[\\ud800-\\udbff][\\udc00-\\udfff]",mR="\\u200d",Im=gR+"?",Pm="["+hR+"]?",yR="(?:"+mR+"(?:"+[Mm,Tm,Om].join("|")+")"+Pm+Im+")*",vR=Pm+Im+yR,xR="(?:"+[Mm+Va+"?",Va,Tm,Om,pR].join("|")+")",Cm=RegExp(Ga+"(?="+Ga+")|"+xR+vR,"g");function wR(e){for(var t=Cm.lastIndex=0;Cm.test(e);)++t;return t}km.exports=wR});var Lm=d((sY,Dm)=>{var bR=Sm(),_R=Nm(),ER=Rm();function SR(e){return _R(e)?ER(e):bR(e)}Dm.exports=SR});var Bm=d((uY,zm)=>{var qR=Io(),NR=Yt(),CR=Ue(),AR=_m(),MR=Lm(),TR="[object Map]",OR="[object Set]";function IR(e){if(e==null)return 0;if(CR(e))return AR(e)?MR(e):e.length;var t=NR(e);return t==TR||t==OR?e.size:qR(e).length}zm.exports=IR});var Fm=d((cY,$m)=>{var PR=Mo(),kR=va(),RR=Bo(),DR=Ye(),LR=Nn(),zR=fe(),BR=Gt(),$R=mr(),FR=Te(),HR=Sr();function VR(e,t,r){var n=zR(e),o=n||BR(e)||HR(e);if(t=DR(t,4),r==null){var i=e&&e.constructor;o?r=n?new i:[]:FR(e)?r=$R(i)?kR(LR(e)):{}:r={}}return(o?PR:RR)(e,function(a,s,u){return t(r,a,s,u)}),r}$m.exports=VR});var Um=d((lY,Gm)=>{var Hm=Vt(),GR=br(),UR=fe(),Vm=Hm?Hm.isConcatSpreadable:void 0;function YR(e){return UR(e)||GR(e)||!!(Vm&&e&&e[Vm])}Gm.exports=YR});var Go=d((fY,jm)=>{var jR=ko(),KR=Um();function Ym(e,t,r,n,o){var i=-1,a=e.length;for(r||(r=KR),o||(o=[]);++i<a;){var s=e[i];t>0&&r(s)?t>1?Ym(s,t-1,r,n,o):jR(o,s):n||(o[o.length]=s)}return o}jm.exports=Ym});var Xm=d((dY,Km)=>{function XR(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}Km.exports=XR});var Ua=d((hY,Zm)=>{var WR=Xm(),Wm=Math.max;function ZR(e,t,r){return t=Wm(t===void 0?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=Wm(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=r(a),WR(e,this,s)}}Zm.exports=ZR});var ey=d((pY,Jm)=>{var QR=Lo(),Qm=Ji(),JR=wt(),e3=Qm?function(e,t){return Qm(e,"toString",{configurable:!0,enumerable:!1,value:QR(t),writable:!0})}:JR;Jm.exports=e3});var ry=d((gY,ty)=>{var t3=800,r3=16,n3=Date.now;function o3(e){var t=0,r=0;return function(){var n=n3(),o=r3-(n-r);if(r=n,o>0){if(++t>=t3)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}ty.exports=o3});var Ya=d((mY,ny)=>{var i3=ey(),a3=ry(),s3=a3(i3);ny.exports=s3});var On=d((yY,oy)=>{var u3=wt(),c3=Ua(),l3=Ya();function f3(e,t){return l3(c3(e,t,u3),e+"")}oy.exports=f3});var ja=d((vY,iy)=>{function d3(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}iy.exports=d3});var sy=d((xY,ay)=>{function h3(e){return e!==e}ay.exports=h3});var cy=d((wY,uy)=>{function p3(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}uy.exports=p3});var fy=d((bY,ly)=>{var g3=ja(),m3=sy(),y3=cy();function v3(e,t,r){return t===t?y3(e,t,r):g3(e,m3,r)}ly.exports=v3});var hy=d((_Y,dy)=>{var x3=fy();function w3(e,t){var r=e==null?0:e.length;return!!r&&x3(e,t,0)>-1}dy.exports=w3});var gy=d((EY,py)=>{function b3(e,t,r){for(var n=-1,o=e==null?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}py.exports=b3});var yy=d((SY,my)=>{function _3(){}my.exports=_3});var xy=d((qY,vy)=>{var Ka=la(),E3=yy(),S3=Fo(),q3=1/0,N3=Ka&&1/S3(new Ka([,-0]))[1]==q3?function(e){return new Ka(e)}:E3;vy.exports=N3});var by=d((NY,wy)=>{var C3=Sa(),A3=hy(),M3=gy(),T3=qa(),O3=xy(),I3=Fo(),P3=200;function k3(e,t,r){var n=-1,o=A3,i=e.length,a=!0,s=[],u=s;if(r)a=!1,o=M3;else if(i>=P3){var c=t?null:O3(e);if(c)return I3(c);a=!1,o=T3,u=new C3}else u=t?[]:s;e:for(;++n<i;){var l=e[n],f=t?t(l):l;if(l=r||l!==0?l:0,a&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(l)}else o(u,f,r)||(u!==s&&u.push(f),s.push(l))}return s}wy.exports=k3});var Xa=d((CY,_y)=>{var R3=Ue(),D3=He();function L3(e){return D3(e)&&R3(e)}_y.exports=L3});var Sy=d((AY,Ey)=>{var z3=Go(),B3=On(),$3=by(),F3=Xa(),H3=B3(function(e){return $3(z3(e,1,F3,!0))});Ey.exports=H3});var Ny=d((MY,qy)=>{var V3=An();function G3(e,t){return V3(t,function(r){return e[r]})}qy.exports=G3});var Wa=d((TY,Cy)=>{var U3=Ny(),Y3=tt();function j3(e){return e==null?[]:U3(e,Y3(e))}Cy.exports=j3});var Oe=d((OY,Ay)=>{var Uo;if(typeof er=="function")try{Uo={clone:Cp(),constant:Lo(),each:Ea(),filter:La(),has:za(),isArray:fe(),isEmpty:dm(),isFunction:mr(),isUndefined:Ba(),keys:tt(),map:Fa(),reduce:Ha(),size:Bm(),transform:Fm(),union:Sy(),values:Wa()}}catch{}Uo||(Uo=window._);Ay.exports=Uo});var Yo=d((PY,Iy)=>{"use strict";var Y=Oe();Iy.exports=W;var K3="\0",Kt="\0",My="";function W(e){this._isDirected=Y.has(e,"directed")?e.directed:!0,this._isMultigraph=Y.has(e,"multigraph")?e.multigraph:!1,this._isCompound=Y.has(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Y.constant(void 0),this._defaultEdgeLabelFn=Y.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Kt]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}W.prototype._nodeCount=0;W.prototype._edgeCount=0;W.prototype.isDirected=function(){return this._isDirected};W.prototype.isMultigraph=function(){return this._isMultigraph};W.prototype.isCompound=function(){return this._isCompound};W.prototype.setGraph=function(e){return this._label=e,this};W.prototype.graph=function(){return this._label};W.prototype.setDefaultNodeLabel=function(e){return Y.isFunction(e)||(e=Y.constant(e)),this._defaultNodeLabelFn=e,this};W.prototype.nodeCount=function(){return this._nodeCount};W.prototype.nodes=function(){return Y.keys(this._nodes)};W.prototype.sources=function(){var e=this;return Y.filter(this.nodes(),function(t){return Y.isEmpty(e._in[t])})};W.prototype.sinks=function(){var e=this;return Y.filter(this.nodes(),function(t){return Y.isEmpty(e._out[t])})};W.prototype.setNodes=function(e,t){var r=arguments,n=this;return Y.each(e,function(o){r.length>1?n.setNode(o,t):n.setNode(o)}),this};W.prototype.setNode=function(e,t){return Y.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Kt,this._children[e]={},this._children[Kt][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)};W.prototype.node=function(e){return this._nodes[e]};W.prototype.hasNode=function(e){return Y.has(this._nodes,e)};W.prototype.removeNode=function(e){var t=this;if(Y.has(this._nodes,e)){var r=function(n){t.removeEdge(t._edgeObjs[n])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],Y.each(this.children(e),function(n){t.setParent(n)}),delete this._children[e]),Y.each(Y.keys(this._in[e]),r),delete this._in[e],delete this._preds[e],Y.each(Y.keys(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this};W.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Y.isUndefined(t))t=Kt;else{t+="";for(var r=t;!Y.isUndefined(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this};W.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]};W.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==Kt)return t}};W.prototype.children=function(e){if(Y.isUndefined(e)&&(e=Kt),this._isCompound){var t=this._children[e];if(t)return Y.keys(t)}else{if(e===Kt)return this.nodes();if(this.hasNode(e))return[]}};W.prototype.predecessors=function(e){var t=this._preds[e];if(t)return Y.keys(t)};W.prototype.successors=function(e){var t=this._sucs[e];if(t)return Y.keys(t)};W.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return Y.union(t,this.successors(e))};W.prototype.isLeaf=function(e){var t;return this.isDirected()?t=this.successors(e):t=this.neighbors(e),t.length===0};W.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;Y.each(this._nodes,function(i,a){e(a)&&t.setNode(a,i)}),Y.each(this._edgeObjs,function(i){t.hasNode(i.v)&&t.hasNode(i.w)&&t.setEdge(i,r.edge(i))});var n={};function o(i){var a=r.parent(i);return a===void 0||t.hasNode(a)?(n[i]=a,a):a in n?n[a]:o(a)}return this._isCompound&&Y.each(t.nodes(),function(i){t.setParent(i,o(i))}),t};W.prototype.setDefaultEdgeLabel=function(e){return Y.isFunction(e)||(e=Y.constant(e)),this._defaultEdgeLabelFn=e,this};W.prototype.edgeCount=function(){return this._edgeCount};W.prototype.edges=function(){return Y.values(this._edgeObjs)};W.prototype.setPath=function(e,t){var r=this,n=arguments;return Y.reduce(e,function(o,i){return n.length>1?r.setEdge(o,i,t):r.setEdge(o,i),i}),this};W.prototype.setEdge=function(){var e,t,r,n,o=!1,i=arguments[0];typeof i=="object"&&i!==null&&"v"in i?(e=i.v,t=i.w,r=i.name,arguments.length===2&&(n=arguments[1],o=!0)):(e=i,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],o=!0)),e=""+e,t=""+t,Y.isUndefined(r)||(r=""+r);var a=In(this._isDirected,e,t,r);if(Y.has(this._edgeLabels,a))return o&&(this._edgeLabels[a]=n),this;if(!Y.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[a]=o?n:this._defaultEdgeLabelFn(e,t,r);var s=X3(this._isDirected,e,t,r);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[a]=s,Ty(this._preds[t],e),Ty(this._sucs[e],t),this._in[t][a]=s,this._out[e][a]=s,this._edgeCount++,this};W.prototype.edge=function(e,t,r){var n=arguments.length===1?Za(this._isDirected,arguments[0]):In(this._isDirected,e,t,r);return this._edgeLabels[n]};W.prototype.hasEdge=function(e,t,r){var n=arguments.length===1?Za(this._isDirected,arguments[0]):In(this._isDirected,e,t,r);return Y.has(this._edgeLabels,n)};W.prototype.removeEdge=function(e,t,r){var n=arguments.length===1?Za(this._isDirected,arguments[0]):In(this._isDirected,e,t,r),o=this._edgeObjs[n];return o&&(e=o.v,t=o.w,delete this._edgeLabels[n],delete this._edgeObjs[n],Oy(this._preds[t],e),Oy(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this};W.prototype.inEdges=function(e,t){var r=this._in[e];if(r){var n=Y.values(r);return t?Y.filter(n,function(o){return o.v===t}):n}};W.prototype.outEdges=function(e,t){var r=this._out[e];if(r){var n=Y.values(r);return t?Y.filter(n,function(o){return o.w===t}):n}};W.prototype.nodeEdges=function(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))};function Ty(e,t){e[t]?e[t]++:e[t]=1}function Oy(e,t){--e[t]||delete e[t]}function In(e,t,r,n){var o=""+t,i=""+r;if(!e&&o>i){var a=o;o=i,i=a}return o+My+i+My+(Y.isUndefined(n)?K3:n)}function X3(e,t,r,n){var o=""+t,i=""+r;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return n&&(s.name=n),s}function Za(e,t){return In(e,t.v,t.w,t.name)}});var ky=d((kY,Py)=>{Py.exports="2.1.8"});var Dy=d((RY,Ry)=>{Ry.exports={Graph:Yo(),version:ky()}});var zy=d((DY,Ly)=>{var je=Oe(),W3=Yo();Ly.exports={write:Z3,read:eD};function Z3(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:Q3(e),edges:J3(e)};return je.isUndefined(e.graph())||(t.value=je.clone(e.graph())),t}function Q3(e){return je.map(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),o={v:t};return je.isUndefined(r)||(o.value=r),je.isUndefined(n)||(o.parent=n),o})}function J3(e){return je.map(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return je.isUndefined(t.name)||(n.name=t.name),je.isUndefined(r)||(n.value=r),n})}function eD(e){var t=new W3(e.options).setGraph(e.value);return je.each(e.nodes,function(r){t.setNode(r.v,r.value),r.parent&&t.setParent(r.v,r.parent)}),je.each(e.edges,function(r){t.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),t}});var $y=d((LY,By)=>{var jo=Oe();By.exports=tD;function tD(e){var t={},r=[],n;function o(i){jo.has(t,i)||(t[i]=!0,n.push(i),jo.each(e.successors(i),o),jo.each(e.predecessors(i),o))}return jo.each(e.nodes(),function(i){n=[],o(i),n.length&&r.push(n)}),r}});var Qa=d((zY,Hy)=>{var Fy=Oe();Hy.exports=Le;function Le(){this._arr=[],this._keyIndices={}}Le.prototype.size=function(){return this._arr.length};Le.prototype.keys=function(){return this._arr.map(function(e){return e.key})};Le.prototype.has=function(e){return Fy.has(this._keyIndices,e)};Le.prototype.priority=function(e){var t=this._keyIndices[e];if(t!==void 0)return this._arr[t].priority};Le.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};Le.prototype.add=function(e,t){var r=this._keyIndices;if(e=String(e),!Fy.has(r,e)){var n=this._arr,o=n.length;return r[e]=o,n.push({key:e,priority:t}),this._decrease(o),!0}return!1};Le.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key};Le.prototype.decrease=function(e,t){var r=this._keyIndices[e];if(t>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+t);this._arr[r].priority=t,this._decrease(r)};Le.prototype._heapify=function(e){var t=this._arr,r=2*e,n=r+1,o=e;r<t.length&&(o=t[r].priority<t[o].priority?r:o,n<t.length&&(o=t[n].priority<t[o].priority?n:o),o!==e&&(this._swap(e,o),this._heapify(o)))};Le.prototype._decrease=function(e){for(var t=this._arr,r=t[e].priority,n;e!==0&&(n=e>>1,!(t[n].priority<r));)this._swap(e,n),e=n};Le.prototype._swap=function(e,t){var r=this._arr,n=this._keyIndices,o=r[e],i=r[t];r[e]=i,r[t]=o,n[i.key]=e,n[o.key]=t}});var Ja=d((BY,Vy)=>{var rD=Oe(),nD=Qa();Vy.exports=iD;var oD=rD.constant(1);function iD(e,t,r,n){return aD(e,String(t),r||oD,n||function(o){return e.outEdges(o)})}function aD(e,t,r,n){var o={},i=new nD,a,s,u=function(c){var l=c.v!==a?c.v:c.w,f=o[l],h=r(c),p=s.distance+h;if(h<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+c+" Weight: "+h);p<f.distance&&(f.distance=p,f.predecessor=a,i.decrease(l,p))};for(e.nodes().forEach(function(c){var l=c===t?0:Number.POSITIVE_INFINITY;o[c]={distance:l},i.add(c,l)});i.size()>0&&(a=i.removeMin(),s=o[a],s.distance!==Number.POSITIVE_INFINITY);)n(a).forEach(u);return o}});var Uy=d(($Y,Gy)=>{var sD=Ja(),uD=Oe();Gy.exports=cD;function cD(e,t,r){return uD.transform(e.nodes(),function(n,o){n[o]=sD(e,o,t,r)},{})}});var es=d((FY,jy)=>{var Yy=Oe();jy.exports=lD;function lD(e){var t=0,r=[],n={},o=[];function i(a){var s=n[a]={onStack:!0,lowlink:t,index:t++};if(r.push(a),e.successors(a).forEach(function(l){Yy.has(n,l)?n[l].onStack&&(s.lowlink=Math.min(s.lowlink,n[l].index)):(i(l),s.lowlink=Math.min(s.lowlink,n[l].lowlink))}),s.lowlink===s.index){var u=[],c;do c=r.pop(),n[c].onStack=!1,u.push(c);while(a!==c);o.push(u)}}return e.nodes().forEach(function(a){Yy.has(n,a)||i(a)}),o}});var Xy=d((HY,Ky)=>{var fD=Oe(),dD=es();Ky.exports=hD;function hD(e){return fD.filter(dD(e),function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})}});var Zy=d((VY,Wy)=>{var pD=Oe();Wy.exports=mD;var gD=pD.constant(1);function mD(e,t,r){return yD(e,t||gD,r||function(n){return e.outEdges(n)})}function yD(e,t,r){var n={},o=e.nodes();return o.forEach(function(i){n[i]={},n[i][i]={distance:0},o.forEach(function(a){i!==a&&(n[i][a]={distance:Number.POSITIVE_INFINITY})}),r(i).forEach(function(a){var s=a.v===i?a.w:a.v,u=t(a);n[i][s]={distance:u,predecessor:i}})}),o.forEach(function(i){var a=n[i];o.forEach(function(s){var u=n[s];o.forEach(function(c){var l=u[i],f=a[c],h=u[c],p=l.distance+f.distance;p<h.distance&&(h.distance=p,h.predecessor=f.predecessor)})})}),n}});var ts=d((GY,Jy)=>{var Pn=Oe();Jy.exports=Qy;Qy.CycleException=Ko;function Qy(e){var t={},r={},n=[];function o(i){if(Pn.has(r,i))throw new Ko;Pn.has(t,i)||(r[i]=!0,t[i]=!0,Pn.each(e.predecessors(i),o),delete r[i],n.push(i))}if(Pn.each(e.sinks(),o),Pn.size(t)!==e.nodeCount())throw new Ko;return n}function Ko(){}Ko.prototype=new Error});var rv=d((UY,tv)=>{var ev=ts();tv.exports=vD;function vD(e){try{ev(e)}catch(t){if(t instanceof ev.CycleException)return!1;throw t}return!0}});var rs=d((YY,ov)=>{var Xo=Oe();ov.exports=xD;function xD(e,t,r){Xo.isArray(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],i={};return Xo.each(t,function(a){if(!e.hasNode(a))throw new Error("Graph does not have node: "+a);nv(e,a,r==="post",i,n,o)}),o}function nv(e,t,r,n,o,i){Xo.has(n,t)||(n[t]=!0,r||i.push(t),Xo.each(o(t),function(a){nv(e,a,r,n,o,i)}),r&&i.push(t))}});var av=d((jY,iv)=>{var wD=rs();iv.exports=bD;function bD(e,t){return wD(e,t,"post")}});var uv=d((KY,sv)=>{var _D=rs();sv.exports=ED;function ED(e,t){return _D(e,t,"pre")}});var fv=d((XY,lv)=>{var cv=Oe(),SD=Yo(),qD=Qa();lv.exports=ND;function ND(e,t){var r=new SD,n={},o=new qD,i;function a(u){var c=u.v===i?u.w:u.v,l=o.priority(c);if(l!==void 0){var f=t(u);f<l&&(n[c]=i,o.decrease(c,f))}}if(e.nodeCount()===0)return r;cv.each(e.nodes(),function(u){o.add(u,Number.POSITIVE_INFINITY),r.setNode(u)}),o.decrease(e.nodes()[0],0);for(var s=!1;o.size()>0;){if(i=o.removeMin(),cv.has(n,i))r.setEdge(i,n[i]);else{if(s)throw new Error("Input graph is not connected: "+e);s=!0}e.nodeEdges(i).forEach(a)}return r}});var hv=d((WY,dv)=>{dv.exports={components:$y(),dijkstra:Ja(),dijkstraAll:Uy(),findCycles:Xy(),floydWarshall:Zy(),isAcyclic:rv(),postorder:av(),preorder:uv(),prim:fv(),tarjan:es(),topsort:ts()}});var mv=d((ZY,gv)=>{var pv=Dy();gv.exports={Graph:pv.Graph,json:zy(),alg:hv(),version:pv.version}});var ze=d((QY,yv)=>{var Wo;if(typeof er=="function")try{Wo=mv()}catch{}Wo||(Wo=window.graphlib);yv.exports=Wo});var xv=d((e7,vv)=>{var CD=wa(),AD=1,MD=4;function TD(e){return CD(e,AD|MD)}vv.exports=TD});var kn=d((t7,wv)=>{var OD=Ht(),ID=Ue(),PD=wn(),kD=Te();function RD(e,t,r){if(!kD(r))return!1;var n=typeof t;return(n=="number"?ID(r)&&PD(t,r.length):n=="string"&&t in r)?OD(r[t],e):!1}wv.exports=RD});var Ev=d((r7,_v)=>{var DD=On(),LD=Ht(),zD=kn(),BD=xt(),bv=Object.prototype,$D=bv.hasOwnProperty,FD=DD(function(e,t){e=Object(e);var r=-1,n=t.length,o=n>2?t[2]:void 0;for(o&&zD(t[0],t[1],o)&&(n=1);++r<n;)for(var i=t[r],a=BD(i),s=-1,u=a.length;++s<u;){var c=a[s],l=e[c];(l===void 0||LD(l,bv[c])&&!$D.call(e,c))&&(e[c]=i[c])}return e});_v.exports=FD});var qv=d((n7,Sv)=>{var HD=Ye(),VD=Ue(),GD=tt();function UD(e){return function(t,r,n){var o=Object(t);if(!VD(t)){var i=HD(r,3);t=GD(t),r=function(s){return i(o[s],s,o)}}var a=e(t,r,n);return a>-1?o[i?t[a]:a]:void 0}}Sv.exports=UD});var Cv=d((o7,Nv)=>{var YD=/\s/;function jD(e){for(var t=e.length;t--&&YD.test(e.charAt(t)););return t}Nv.exports=jD});var Mv=d((i7,Av)=>{var KD=Cv(),XD=/^\s+/;function WD(e){return e&&e.slice(0,KD(e)+1).replace(XD,"")}Av.exports=WD});var Pv=d((a7,Iv)=>{var ZD=Mv(),Tv=Te(),QD=jt(),Ov=0/0,JD=/^[-+]0x[0-9a-f]+$/i,eL=/^0b[01]+$/i,tL=/^0o[0-7]+$/i,rL=parseInt;function nL(e){if(typeof e=="number")return e;if(QD(e))return Ov;if(Tv(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Tv(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ZD(e);var r=eL.test(e);return r||tL.test(e)?rL(e.slice(2),r?2:8):JD.test(e)?Ov:+e}Iv.exports=nL});var ns=d((s7,Rv)=>{var oL=Pv(),kv=1/0,iL=17976931348623157e292;function aL(e){if(!e)return e===0?e:0;if(e=oL(e),e===kv||e===-kv){var t=e<0?-1:1;return t*iL}return e===e?e:0}Rv.exports=aL});var Lv=d((u7,Dv)=>{var sL=ns();function uL(e){var t=sL(e),r=t%1;return t===t?r?t-r:t:0}Dv.exports=uL});var Bv=d((c7,zv)=>{var cL=ja(),lL=Ye(),fL=Lv(),dL=Math.max;function hL(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var o=r==null?0:fL(r);return o<0&&(o=dL(n+o,0)),cL(e,lL(t,3),o)}zv.exports=hL});var Fv=d((l7,$v)=>{var pL=qv(),gL=Bv(),mL=pL(gL);$v.exports=mL});var os=d((f7,Hv)=>{var yL=Go();function vL(e){var t=e==null?0:e.length;return t?yL(e,1):[]}Hv.exports=vL});var Gv=d((d7,Vv)=>{var xL=zo(),wL=ba(),bL=xt();function _L(e,t){return e==null?e:xL(e,wL(t),bL)}Vv.exports=_L});var Yv=d((h7,Uv)=>{function EL(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}Uv.exports=EL});var Kv=d((p7,jv)=>{var SL=yn(),qL=Bo(),NL=Ye();function CL(e,t){var r={};return t=NL(t,3),qL(e,function(n,o,i){SL(r,o,t(n,o,i))}),r}jv.exports=CL});var Zo=d((g7,Xv)=>{var AL=jt();function ML(e,t,r){for(var n=-1,o=e.length;++n<o;){var i=e[n],a=t(i);if(a!=null&&(s===void 0?a===a&&!AL(a):r(a,s)))var s=a,u=i}return u}Xv.exports=ML});var Zv=d((m7,Wv)=>{function TL(e,t){return e>t}Wv.exports=TL});var Jv=d((y7,Qv)=>{var OL=Zo(),IL=Zv(),PL=wt();function kL(e){return e&&e.length?OL(e,PL,IL):void 0}Qv.exports=kL});var is=d((v7,e0)=>{var RL=yn(),DL=Ht();function LL(e,t,r){(r!==void 0&&!DL(e[t],r)||r===void 0&&!(t in e))&&RL(e,t,r)}e0.exports=LL});var n0=d((x7,r0)=>{var zL=yt(),BL=Nn(),$L=He(),FL="[object Object]",HL=Function.prototype,VL=Object.prototype,t0=HL.toString,GL=VL.hasOwnProperty,UL=t0.call(Object);function YL(e){if(!$L(e)||zL(e)!=FL)return!1;var t=BL(e);if(t===null)return!0;var r=GL.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&t0.call(r)==UL}r0.exports=YL});var as=d((w7,o0)=>{function jL(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}o0.exports=jL});var a0=d((b7,i0)=>{var KL=wr(),XL=xt();function WL(e){return KL(e,XL(e))}i0.exports=WL});var d0=d((_7,f0)=>{var s0=is(),ZL=na(),QL=ya(),JL=oa(),ez=xa(),u0=br(),c0=fe(),tz=Xa(),rz=Gt(),nz=mr(),oz=Te(),iz=n0(),az=Sr(),l0=as(),sz=a0();function uz(e,t,r,n,o,i,a){var s=l0(e,r),u=l0(t,r),c=a.get(u);if(c){s0(e,r,c);return}var l=i?i(s,u,r+"",e,t,a):void 0,f=l===void 0;if(f){var h=c0(u),p=!h&&rz(u),g=!h&&!p&&az(u);l=u,h||p||g?c0(s)?l=s:tz(s)?l=JL(s):p?(f=!1,l=ZL(u,!0)):g?(f=!1,l=QL(u,!0)):l=[]:iz(u)||u0(u)?(l=s,u0(s)?l=sz(s):(!oz(s)||nz(s))&&(l=ez(u))):f=!1}f&&(a.set(u,l),o(l,u,n,i,a),a.delete(u)),s0(e,r,l)}f0.exports=uz});var g0=d((E7,p0)=>{var cz=mn(),lz=is(),fz=zo(),dz=d0(),hz=Te(),pz=xt(),gz=as();function h0(e,t,r,n,o){e!==t&&fz(t,function(i,a){if(o||(o=new cz),hz(i))dz(e,t,a,r,h0,n,o);else{var s=n?n(gz(e,a),i,a+"",e,t,o):void 0;s===void 0&&(s=i),lz(e,a,s)}},pz)}p0.exports=h0});var y0=d((S7,m0)=>{var mz=On(),yz=kn();function vz(e){return mz(function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,a&&yz(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var s=r[n];s&&e(t,s,n,i)}return t})}m0.exports=vz});var x0=d((q7,v0)=>{var xz=g0(),wz=y0(),bz=wz(function(e,t,r){xz(e,t,r)});v0.exports=bz});var ss=d((N7,w0)=>{function _z(e,t){return e<t}w0.exports=_z});var _0=d((C7,b0)=>{var Ez=Zo(),Sz=ss(),qz=wt();function Nz(e){return e&&e.length?Ez(e,qz,Sz):void 0}b0.exports=Nz});var S0=d((A7,E0)=>{var Cz=Zo(),Az=Ye(),Mz=ss();function Tz(e,t){return e&&e.length?Cz(e,Az(t,2),Mz):void 0}E0.exports=Tz});var N0=d((M7,q0)=>{var Oz=De(),Iz=function(){return Oz.Date.now()};q0.exports=Iz});var M0=d((T7,A0)=>{var Pz=vn(),kz=Mn(),Rz=wn(),C0=Te(),Dz=Cr();function Lz(e,t,r,n){if(!C0(e))return e;t=kz(t,e);for(var o=-1,i=t.length,a=i-1,s=e;s!=null&&++o<i;){var u=Dz(t[o]),c=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(o!=a){var l=s[u];c=n?n(l,u,s):void 0,c===void 0&&(c=C0(l)?l:Rz(t[o+1])?[]:{})}Pz(s,u,c),s=s[u]}return e}A0.exports=Lz});var O0=d((O7,T0)=>{var zz=Tn(),Bz=M0(),$z=Mn();function Fz(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],s=zz(e,a);r(s,a)&&Bz(i,$z(a,e),s)}return i}T0.exports=Fz});var P0=d((I7,I0)=>{var Hz=O0(),Vz=Ra();function Gz(e,t){return Hz(e,t,function(r,n){return Vz(e,n)})}I0.exports=Gz});var R0=d((P7,k0)=>{var Uz=os(),Yz=Ua(),jz=Ya();function Kz(e){return jz(Yz(e,void 0,Uz),e+"")}k0.exports=Kz});var L0=d((k7,D0)=>{var Xz=P0(),Wz=R0(),Zz=Wz(function(e,t){return e==null?{}:Xz(e,t)});D0.exports=Zz});var B0=d((R7,z0)=>{var Qz=Math.ceil,Jz=Math.max;function eB(e,t,r,n){for(var o=-1,i=Jz(Qz((t-e)/(r||1)),0),a=Array(i);i--;)a[n?i:++o]=e,e+=r;return a}z0.exports=eB});var F0=d((D7,$0)=>{var tB=B0(),rB=kn(),us=ns();function nB(e){return function(t,r,n){return n&&typeof n!="number"&&rB(t,r,n)&&(r=n=void 0),t=us(t),r===void 0?(r=t,t=0):r=us(r),n=n===void 0?t<r?1:-1:us(n),tB(t,r,n,e)}}$0.exports=nB});var V0=d((L7,H0)=>{var oB=F0(),iB=oB();H0.exports=iB});var U0=d((z7,G0)=>{function aB(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}G0.exports=aB});var K0=d((B7,j0)=>{var Y0=jt();function sB(e,t){if(e!==t){var r=e!==void 0,n=e===null,o=e===e,i=Y0(e),a=t!==void 0,s=t===null,u=t===t,c=Y0(t);if(!s&&!c&&!i&&e>t||i&&a&&u&&!s&&!c||n&&a&&u||!r&&u||!o)return 1;if(!n&&!i&&!c&&e<t||c&&r&&o&&!n&&!i||s&&r&&o||!a&&o||!u)return-1}return 0}j0.exports=sB});var W0=d(($7,X0)=>{var uB=K0();function cB(e,t,r){for(var n=-1,o=e.criteria,i=t.criteria,a=o.length,s=r.length;++n<a;){var u=uB(o[n],i[n]);if(u){if(n>=s)return u;var c=r[n];return u*(c=="desc"?-1:1)}}return e.index-t.index}X0.exports=cB});var Q0=d((F7,Z0)=>{var cs=An(),lB=Tn(),fB=Ye(),dB=$a(),hB=U0(),pB=bn(),gB=W0(),mB=wt(),yB=fe();function vB(e,t,r){t.length?t=cs(t,function(i){return yB(i)?function(a){return lB(a,i.length===1?i[0]:i)}:i}):t=[mB];var n=-1;t=cs(t,pB(fB));var o=dB(e,function(i,a,s){var u=cs(t,function(c){return c(i)});return{criteria:u,index:++n,value:i}});return hB(o,function(i,a){return gB(i,a,r)})}Z0.exports=vB});var tx=d((H7,ex)=>{var xB=Go(),wB=Q0(),bB=On(),J0=kn(),_B=bB(function(e,t){if(e==null)return[];var r=t.length;return r>1&&J0(e,t[0],t[1])?t=[]:r>2&&J0(t[0],t[1],t[2])&&(t=[t[0]]),wB(e,xB(t,1),[])});ex.exports=_B});var nx=d((V7,rx)=>{var EB=Pa(),SB=0;function qB(e){var t=++SB;return EB(e)+t}rx.exports=qB});var ix=d((G7,ox)=>{function NB(e,t,r){for(var n=-1,o=e.length,i=t.length,a={};++n<o;){var s=n<i?t[n]:void 0;r(a,e[n],s)}return a}ox.exports=NB});var sx=d((U7,ax)=>{var CB=vn(),AB=ix();function MB(e,t){return AB(e||[],t||[],CB)}ax.exports=MB});var se=d((Y7,ux)=>{var Qo;if(typeof er=="function")try{Qo={cloneDeep:xv(),constant:Lo(),defaults:Ev(),each:Ea(),filter:La(),find:Fv(),flatten:os(),forEach:_a(),forIn:Gv(),has:za(),isUndefined:Ba(),last:Yv(),map:Fa(),mapValues:Kv(),max:Jv(),merge:x0(),min:_0(),minBy:S0(),now:N0(),pick:L0(),range:V0(),reduce:Ha(),sortBy:tx(),uniqueId:nx(),values:Wa(),zipObject:sx()}}catch{}Qo||(Qo=window._);ux.exports=Qo});var fx=d((K7,lx)=>{lx.exports=Jo;function Jo(){var e={};e._next=e._prev=e,this._sentinel=e}Jo.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return cx(t),t};Jo.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&cx(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Jo.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,TB)),r=r._prev;return"["+e.join(", ")+"]"};function cx(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function TB(e,t){if(e!=="_next"&&e!=="_prev")return t}});var hx=d((X7,dx)=>{var rt=se(),OB=ze().Graph,IB=fx();dx.exports=kB;var PB=rt.constant(1);function kB(e,t){if(e.nodeCount()<=1)return[];var r=DB(e,t||PB),n=RB(r.graph,r.buckets,r.zeroIdx);return rt.flatten(rt.map(n,function(o){return e.outEdges(o.v,o.w)}),!0)}function RB(e,t,r){for(var n=[],o=t[t.length-1],i=t[0],a;e.nodeCount();){for(;a=i.dequeue();)ls(e,t,r,a);for(;a=o.dequeue();)ls(e,t,r,a);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(a=t[s].dequeue(),a){n=n.concat(ls(e,t,r,a,!0));break}}}return n}function ls(e,t,r,n,o){var i=o?[]:void 0;return rt.forEach(e.inEdges(n.v),function(a){var s=e.edge(a),u=e.node(a.v);o&&i.push({v:a.v,w:a.w}),u.out-=s,fs(t,r,u)}),rt.forEach(e.outEdges(n.v),function(a){var s=e.edge(a),u=a.w,c=e.node(u);c.in-=s,fs(t,r,c)}),e.removeNode(n.v),i}function DB(e,t){var r=new OB,n=0,o=0;rt.forEach(e.nodes(),function(s){r.setNode(s,{v:s,in:0,out:0})}),rt.forEach(e.edges(),function(s){var u=r.edge(s.v,s.w)||0,c=t(s),l=u+c;r.setEdge(s.v,s.w,l),o=Math.max(o,r.node(s.v).out+=c),n=Math.max(n,r.node(s.w).in+=c)});var i=rt.range(o+n+3).map(function(){return new IB}),a=n+1;return rt.forEach(r.nodes(),function(s){fs(i,a,r.node(s))}),{graph:r,buckets:i,zeroIdx:a}}function fs(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}});var gx=d((W7,px)=>{"use strict";var Xt=se(),LB=hx();px.exports={run:zB,undo:$B};function zB(e){var t=e.graph().acyclicer==="greedy"?LB(e,r(e)):BB(e);Xt.forEach(t,function(n){var o=e.edge(n);e.removeEdge(n),o.forwardName=n.name,o.reversed=!0,e.setEdge(n.w,n.v,o,Xt.uniqueId("rev"))});function r(n){return function(o){return n.edge(o).weight}}}function BB(e){var t=[],r={},n={};function o(i){Xt.has(n,i)||(n[i]=!0,r[i]=!0,Xt.forEach(e.outEdges(i),function(a){Xt.has(r,a.w)?t.push(a):o(a.w)}),delete r[i])}return Xt.forEach(e.nodes(),o),t}function $B(e){Xt.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}});var qe=d((Z7,xx)=>{"use strict";var ee=se(),mx=ze().Graph;xx.exports={addDummyNode:yx,simplify:FB,asNonCompoundGraph:HB,successorWeights:VB,predecessorWeights:GB,intersectRect:UB,buildLayerMatrix:YB,normalizeRanks:jB,removeEmptyRanks:KB,addBorderNode:XB,maxRank:vx,partition:WB,time:ZB,notime:QB};function yx(e,t,r,n){var o;do o=ee.uniqueId(n);while(e.hasNode(o));return r.dummy=t,e.setNode(o,r),o}function FB(e){var t=new mx().setGraph(e.graph());return ee.forEach(e.nodes(),function(r){t.setNode(r,e.node(r))}),ee.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},o=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+o.weight,minlen:Math.max(n.minlen,o.minlen)})}),t}function HB(e){var t=new mx({multigraph:e.isMultigraph()}).setGraph(e.graph());return ee.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),ee.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function VB(e){var t=ee.map(e.nodes(),function(r){var n={};return ee.forEach(e.outEdges(r),function(o){n[o.w]=(n[o.w]||0)+e.edge(o).weight}),n});return ee.zipObject(e.nodes(),t)}function GB(e){var t=ee.map(e.nodes(),function(r){var n={};return ee.forEach(e.inEdges(r),function(o){n[o.v]=(n[o.v]||0)+e.edge(o).weight}),n});return ee.zipObject(e.nodes(),t)}function UB(e,t){var r=e.x,n=e.y,o=t.x-r,i=t.y-n,a=e.width/2,s=e.height/2;if(!o&&!i)throw new Error("Not possible to find intersection inside of the rectangle");var u,c;return Math.abs(i)*a>Math.abs(o)*s?(i<0&&(s=-s),u=s*o/i,c=s):(o<0&&(a=-a),u=a,c=a*i/o),{x:r+u,y:n+c}}function YB(e){var t=ee.map(ee.range(vx(e)+1),function(){return[]});return ee.forEach(e.nodes(),function(r){var n=e.node(r),o=n.rank;ee.isUndefined(o)||(t[o][n.order]=r)}),t}function jB(e){var t=ee.min(ee.map(e.nodes(),function(r){return e.node(r).rank}));ee.forEach(e.nodes(),function(r){var n=e.node(r);ee.has(n,"rank")&&(n.rank-=t)})}function KB(e){var t=ee.min(ee.map(e.nodes(),function(i){return e.node(i).rank})),r=[];ee.forEach(e.nodes(),function(i){var a=e.node(i).rank-t;r[a]||(r[a]=[]),r[a].push(i)});var n=0,o=e.graph().nodeRankFactor;ee.forEach(r,function(i,a){ee.isUndefined(i)&&a%o!==0?--n:n&&ee.forEach(i,function(s){e.node(s).rank+=n})})}function XB(e,t,r,n){var o={width:0,height:0};return arguments.length>=4&&(o.rank=r,o.order=n),yx(e,"border",o,t)}function vx(e){return ee.max(ee.map(e.nodes(),function(t){var r=e.node(t).rank;if(!ee.isUndefined(r))return r}))}function WB(e,t){var r={lhs:[],rhs:[]};return ee.forEach(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function ZB(e,t){var r=ee.now();try{return t()}finally{console.log(e+" time: "+(ee.now()-r)+"ms")}}function QB(e,t){return t()}});var _x=d((Q7,bx)=>{"use strict";var wx=se(),JB=qe();bx.exports={run:e$,undo:r$};function e$(e){e.graph().dummyChains=[],wx.forEach(e.edges(),function(t){t$(e,t)})}function t$(e,t){var r=t.v,n=e.node(r).rank,o=t.w,i=e.node(o).rank,a=t.name,s=e.edge(t),u=s.labelRank;if(i!==n+1){e.removeEdge(t);var c,l,f;for(f=0,++n;n<i;++f,++n)s.points=[],l={width:0,height:0,edgeLabel:s,edgeObj:t,rank:n},c=JB.addDummyNode(e,"edge",l,"_d"),n===u&&(l.width=s.width,l.height=s.height,l.dummy="edge-label",l.labelpos=s.labelpos),e.setEdge(r,c,{weight:s.weight},a),f===0&&e.graph().dummyChains.push(c),r=c;e.setEdge(r,o,{weight:s.weight},a)}}function r$(e){wx.forEach(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,o;for(e.setEdge(r.edgeObj,n);r.dummy;)o=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=o,r=e.node(t)})}});var Rn=d((J7,Ex)=>{"use strict";var ei=se();Ex.exports={longestPath:n$,slack:o$};function n$(e){var t={};function r(n){var o=e.node(n);if(ei.has(t,n))return o.rank;t[n]=!0;var i=ei.min(ei.map(e.outEdges(n),function(a){return r(a.w)-e.edge(a).minlen}));return(i===Number.POSITIVE_INFINITY||i===void 0||i===null)&&(i=0),o.rank=i}ei.forEach(e.sources(),r)}function o$(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}});var ds=d((ej,Sx)=>{"use strict";var ti=se(),i$=ze().Graph,ri=Rn().slack;Sx.exports=a$;function a$(e){var t=new i$({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var o,i;s$(t,e)<n;)o=u$(t,e),i=t.hasNode(o.v)?ri(e,o):-ri(e,o),c$(t,e,i);return t}function s$(e,t){function r(n){ti.forEach(t.nodeEdges(n),function(o){var i=o.v,a=n===i?o.w:i;!e.hasNode(a)&&!ri(t,o)&&(e.setNode(a,{}),e.setEdge(n,a,{}),r(a))})}return ti.forEach(e.nodes(),r),e.nodeCount()}function u$(e,t){return ti.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return ri(t,r)})}function c$(e,t,r){ti.forEach(e.nodes(),function(n){t.node(n).rank+=r})}});var Ix=d((tj,Ox)=>{"use strict";var nt=se(),l$=ds(),f$=Rn().slack,d$=Rn().longestPath,h$=ze().alg.preorder,p$=ze().alg.postorder,g$=qe().simplify;Ox.exports=Wt;Wt.initLowLimValues=ps;Wt.initCutValues=hs;Wt.calcCutValue=Nx;Wt.leaveEdge=Ax;Wt.enterEdge=Mx;Wt.exchangeEdges=Tx;function Wt(e){e=g$(e),d$(e);var t=l$(e);ps(t),hs(t,e);for(var r,n;r=Ax(t);)n=Mx(t,e,r),Tx(t,e,r,n)}function hs(e,t){var r=p$(e,e.nodes());r=r.slice(0,r.length-1),nt.forEach(r,function(n){m$(e,t,n)})}function m$(e,t,r){var n=e.node(r),o=n.parent;e.edge(r,o).cutvalue=Nx(e,t,r)}function Nx(e,t,r){var n=e.node(r),o=n.parent,i=!0,a=t.edge(r,o),s=0;return a||(i=!1,a=t.edge(o,r)),s=a.weight,nt.forEach(t.nodeEdges(r),function(u){var c=u.v===r,l=c?u.w:u.v;if(l!==o){var f=c===i,h=t.edge(u).weight;if(s+=f?h:-h,v$(e,r,l)){var p=e.edge(r,l).cutvalue;s+=f?-p:p}}}),s}function ps(e,t){arguments.length<2&&(t=e.nodes()[0]),Cx(e,{},1,t)}function Cx(e,t,r,n,o){var i=r,a=e.node(n);return t[n]=!0,nt.forEach(e.neighbors(n),function(s){nt.has(t,s)||(r=Cx(e,t,r,s,n))}),a.low=i,a.lim=r++,o?a.parent=o:delete a.parent,r}function Ax(e){return nt.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function Mx(e,t,r){var n=r.v,o=r.w;t.hasEdge(n,o)||(n=r.w,o=r.v);var i=e.node(n),a=e.node(o),s=i,u=!1;i.lim>a.lim&&(s=a,u=!0);var c=nt.filter(t.edges(),function(l){return u===qx(e,e.node(l.v),s)&&u!==qx(e,e.node(l.w),s)});return nt.minBy(c,function(l){return f$(t,l)})}function Tx(e,t,r,n){var o=r.v,i=r.w;e.removeEdge(o,i),e.setEdge(n.v,n.w,{}),ps(e),hs(e,t),y$(e,t)}function y$(e,t){var r=nt.find(e.nodes(),function(o){return!t.node(o).parent}),n=h$(e,r);n=n.slice(1),nt.forEach(n,function(o){var i=e.node(o).parent,a=t.edge(o,i),s=!1;a||(a=t.edge(i,o),s=!0),t.node(o).rank=t.node(i).rank+(s?a.minlen:-a.minlen)})}function v$(e,t,r){return e.hasEdge(t,r)}function qx(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}});var Dx=d((rj,Rx)=>{"use strict";var x$=Rn(),kx=x$.longestPath,w$=ds(),b$=Ix();Rx.exports=_$;function _$(e){switch(e.graph().ranker){case"network-simplex":Px(e);break;case"tight-tree":S$(e);break;case"longest-path":E$(e);break;default:Px(e)}}var E$=kx;function S$(e){kx(e),w$(e)}function Px(e){b$(e)}});var zx=d((nj,Lx)=>{var gs=se();Lx.exports=q$;function q$(e){var t=C$(e);gs.forEach(e.graph().dummyChains,function(r){for(var n=e.node(r),o=n.edgeObj,i=N$(e,t,o.v,o.w),a=i.path,s=i.lca,u=0,c=a[u],l=!0;r!==o.w;){if(n=e.node(r),l){for(;(c=a[u])!==s&&e.node(c).maxRank<n.rank;)u++;c===s&&(l=!1)}if(!l){for(;u<a.length-1&&e.node(c=a[u+1]).minRank<=n.rank;)u++;c=a[u]}e.setParent(r,c),r=e.successors(r)[0]}})}function N$(e,t,r,n){var o=[],i=[],a=Math.min(t[r].low,t[n].low),s=Math.max(t[r].lim,t[n].lim),u,c;u=r;do u=e.parent(u),o.push(u);while(u&&(t[u].low>a||s>t[u].lim));for(c=u,u=n;(u=e.parent(u))!==c;)i.push(u);return{path:o.concat(i.reverse()),lca:c}}function C$(e){var t={},r=0;function n(o){var i=r;gs.forEach(e.children(o),n),t[o]={low:i,lim:r++}}return gs.forEach(e.children(),n),t}});var Fx=d((oj,$x)=>{var ot=se(),ms=qe();$x.exports={run:A$,cleanup:O$};function A$(e){var t=ms.addDummyNode(e,"root",{},"_root"),r=M$(e),n=ot.max(ot.values(r))-1,o=2*n+1;e.graph().nestingRoot=t,ot.forEach(e.edges(),function(a){e.edge(a).minlen*=o});var i=T$(e)+1;ot.forEach(e.children(),function(a){Bx(e,t,o,i,n,r,a)}),e.graph().nodeRankFactor=o}function Bx(e,t,r,n,o,i,a){var s=e.children(a);if(!s.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:r});return}var u=ms.addBorderNode(e,"_bt"),c=ms.addBorderNode(e,"_bb"),l=e.node(a);e.setParent(u,a),l.borderTop=u,e.setParent(c,a),l.borderBottom=c,ot.forEach(s,function(f){Bx(e,t,r,n,o,i,f);var h=e.node(f),p=h.borderTop?h.borderTop:f,g=h.borderBottom?h.borderBottom:f,m=h.borderTop?n:2*n,_=p!==g?1:o-i[a]+1;e.setEdge(u,p,{weight:m,minlen:_,nestingEdge:!0}),e.setEdge(g,c,{weight:m,minlen:_,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,u,{weight:0,minlen:o+i[a]})}function M$(e){var t={};function r(n,o){var i=e.children(n);i&&i.length&&ot.forEach(i,function(a){r(a,o+1)}),t[n]=o}return ot.forEach(e.children(),function(n){r(n,1)}),t}function T$(e){return ot.reduce(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function O$(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,ot.forEach(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}});var Gx=d((ij,Vx)=>{var ys=se(),I$=qe();Vx.exports=P$;function P$(e){function t(r){var n=e.children(r),o=e.node(r);if(n.length&&ys.forEach(n,t),ys.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var i=o.minRank,a=o.maxRank+1;i<a;++i)Hx(e,"borderLeft","_bl",r,o,i),Hx(e,"borderRight","_br",r,o,i)}}ys.forEach(e.children(),t)}function Hx(e,t,r,n,o,i){var a={width:0,height:0,rank:i,borderType:t},s=o[t][i-1],u=I$.addDummyNode(e,"border",a,r);o[t][i]=u,e.setParent(u,n),s&&e.setEdge(s,u,{weight:1})}});var Kx=d((aj,jx)=>{"use strict";var Ke=se();jx.exports={adjust:k$,undo:R$};function k$(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&Yx(e)}function R$(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&D$(e),(t==="lr"||t==="rl")&&(L$(e),Yx(e))}function Yx(e){Ke.forEach(e.nodes(),function(t){Ux(e.node(t))}),Ke.forEach(e.edges(),function(t){Ux(e.edge(t))})}function Ux(e){var t=e.width;e.width=e.height,e.height=t}function D$(e){Ke.forEach(e.nodes(),function(t){vs(e.node(t))}),Ke.forEach(e.edges(),function(t){var r=e.edge(t);Ke.forEach(r.points,vs),Ke.has(r,"y")&&vs(r)})}function vs(e){e.y=-e.y}function L$(e){Ke.forEach(e.nodes(),function(t){xs(e.node(t))}),Ke.forEach(e.edges(),function(t){var r=e.edge(t);Ke.forEach(r.points,xs),Ke.has(r,"x")&&xs(r)})}function xs(e){var t=e.x;e.x=e.y,e.y=t}});var Wx=d((sj,Xx)=>{"use strict";var it=se();Xx.exports=z$;function z$(e){var t={},r=it.filter(e.nodes(),function(s){return!e.children(s).length}),n=it.max(it.map(r,function(s){return e.node(s).rank})),o=it.map(it.range(n+1),function(){return[]});function i(s){if(!it.has(t,s)){t[s]=!0;var u=e.node(s);o[u.rank].push(s),it.forEach(e.successors(s),i)}}var a=it.sortBy(r,function(s){return e.node(s).rank});return it.forEach(a,i),o}});var Qx=d((uj,Zx)=>{"use strict";var bt=se();Zx.exports=B$;function B$(e,t){for(var r=0,n=1;n<t.length;++n)r+=$$(e,t[n-1],t[n]);return r}function $$(e,t,r){for(var n=bt.zipObject(r,bt.map(r,function(c,l){return l})),o=bt.flatten(bt.map(t,function(c){return bt.sortBy(bt.map(e.outEdges(c),function(l){return{pos:n[l.w],weight:e.edge(l).weight}}),"pos")}),!0),i=1;i<r.length;)i<<=1;var a=2*i-1;i-=1;var s=bt.map(new Array(a),function(){return 0}),u=0;return bt.forEach(o.forEach(function(c){var l=c.pos+i;s[l]+=c.weight;for(var f=0;l>0;)l%2&&(f+=s[l+1]),l=l-1>>1,s[l]+=c.weight;u+=c.weight*f})),u}});var tw=d((cj,ew)=>{var Jx=se();ew.exports=F$;function F$(e,t){return Jx.map(t,function(r){var n=e.inEdges(r);if(n.length){var o=Jx.reduce(n,function(i,a){var s=e.edge(a),u=e.node(a.v);return{sum:i.sum+s.weight*u.order,weight:i.weight+s.weight}},{sum:0,weight:0});return{v:r,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:r}})}});var nw=d((lj,rw)=>{"use strict";var Ie=se();rw.exports=H$;function H$(e,t){var r={};Ie.forEach(e,function(o,i){var a=r[o.v]={indegree:0,in:[],out:[],vs:[o.v],i};Ie.isUndefined(o.barycenter)||(a.barycenter=o.barycenter,a.weight=o.weight)}),Ie.forEach(t.edges(),function(o){var i=r[o.v],a=r[o.w];!Ie.isUndefined(i)&&!Ie.isUndefined(a)&&(a.indegree++,i.out.push(r[o.w]))});var n=Ie.filter(r,function(o){return!o.indegree});return V$(n)}function V$(e){var t=[];function r(i){return function(a){a.merged||(Ie.isUndefined(a.barycenter)||Ie.isUndefined(i.barycenter)||a.barycenter>=i.barycenter)&&G$(i,a)}}function n(i){return function(a){a.in.push(i),--a.indegree===0&&e.push(a)}}for(;e.length;){var o=e.pop();t.push(o),Ie.forEach(o.in.reverse(),r(o)),Ie.forEach(o.out,n(o))}return Ie.map(Ie.filter(t,function(i){return!i.merged}),function(i){return Ie.pick(i,["vs","i","barycenter","weight"])})}function G$(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}});var aw=d((fj,iw)=>{var Dn=se(),U$=qe();iw.exports=Y$;function Y$(e,t){var r=U$.partition(e,function(l){return Dn.has(l,"barycenter")}),n=r.lhs,o=Dn.sortBy(r.rhs,function(l){return-l.i}),i=[],a=0,s=0,u=0;n.sort(j$(!!t)),u=ow(i,o,u),Dn.forEach(n,function(l){u+=l.vs.length,i.push(l.vs),a+=l.barycenter*l.weight,s+=l.weight,u=ow(i,o,u)});var c={vs:Dn.flatten(i,!0)};return s&&(c.barycenter=a/s,c.weight=s),c}function ow(e,t,r){for(var n;t.length&&(n=Dn.last(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function j$(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}});var cw=d((dj,uw)=>{var _t=se(),K$=tw(),X$=nw(),W$=aw();uw.exports=sw;function sw(e,t,r,n){var o=e.children(t),i=e.node(t),a=i?i.borderLeft:void 0,s=i?i.borderRight:void 0,u={};a&&(o=_t.filter(o,function(g){return g!==a&&g!==s}));var c=K$(e,o);_t.forEach(c,function(g){if(e.children(g.v).length){var m=sw(e,g.v,r,n);u[g.v]=m,_t.has(m,"barycenter")&&Q$(g,m)}});var l=X$(c,r);Z$(l,u);var f=W$(l,n);if(a&&(f.vs=_t.flatten([a,f.vs,s],!0),e.predecessors(a).length)){var h=e.node(e.predecessors(a)[0]),p=e.node(e.predecessors(s)[0]);_t.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+p.order)/(f.weight+2),f.weight+=2}return f}function Z$(e,t){_t.forEach(e,function(r){r.vs=_t.flatten(r.vs.map(function(n){return t[n]?t[n].vs:n}),!0)})}function Q$(e,t){_t.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}});var fw=d((hj,lw)=>{var Ln=se(),J$=ze().Graph;lw.exports=eF;function eF(e,t,r){var n=tF(e),o=new J$({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(i){return e.node(i)});return Ln.forEach(e.nodes(),function(i){var a=e.node(i),s=e.parent(i);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(o.setNode(i),o.setParent(i,s||n),Ln.forEach(e[r](i),function(u){var c=u.v===i?u.w:u.v,l=o.edge(c,i),f=Ln.isUndefined(l)?0:l.weight;o.setEdge(c,i,{weight:e.edge(u).weight+f})}),Ln.has(a,"minRank")&&o.setNode(i,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),o}function tF(e){for(var t;e.hasNode(t=Ln.uniqueId("_root")););return t}});var hw=d((pj,dw)=>{var rF=se();dw.exports=nF;function nF(e,t,r){var n={},o;rF.forEach(r,function(i){for(var a=e.parent(i),s,u;a;){if(s=e.parent(a),s?(u=n[s],n[s]=a):(u=o,o=a),u&&u!==a){t.setEdge(u,a);return}a=s}})}});var vw=d((gj,yw)=>{"use strict";var Et=se(),oF=Wx(),iF=Qx(),aF=cw(),sF=fw(),uF=hw(),cF=ze().Graph,pw=qe();yw.exports=lF;function lF(e){var t=pw.maxRank(e),r=gw(e,Et.range(1,t+1),"inEdges"),n=gw(e,Et.range(t-1,-1,-1),"outEdges"),o=oF(e);mw(e,o);for(var i=Number.POSITIVE_INFINITY,a,s=0,u=0;u<4;++s,++u){fF(s%2?r:n,s%4>=2),o=pw.buildLayerMatrix(e);var c=iF(e,o);c<i&&(u=0,a=Et.cloneDeep(o),i=c)}mw(e,a)}function gw(e,t,r){return Et.map(t,function(n){return sF(e,n,r)})}function fF(e,t){var r=new cF;Et.forEach(e,function(n){var o=n.graph().root,i=aF(n,o,r,t);Et.forEach(i.vs,function(a,s){n.node(a).order=s}),uF(n,r,i.vs)})}function mw(e,t){Et.forEach(t,function(r){Et.forEach(r,function(n,o){e.node(n).order=o})})}});var Aw=d((mj,Cw)=>{"use strict";var j=se(),dF=ze().Graph,hF=qe();Cw.exports={positionX:mF,findType1Conflicts:xw,findType2Conflicts:ww,addConflict:ws,hasConflict:bw,verticalAlignment:_w,horizontalCompaction:Ew,alignCoordinates:qw,findSmallestWidthAlignment:Sw,balance:Nw};function xw(e,t){var r={};function n(o,i){var a=0,s=0,u=o.length,c=j.last(i);return j.forEach(i,function(l,f){var h=pF(e,l),p=h?e.node(h).order:u;(h||l===c)&&(j.forEach(i.slice(s,f+1),function(g){j.forEach(e.predecessors(g),function(m){var _=e.node(m),v=_.order;(v<a||p<v)&&!(_.dummy&&e.node(g).dummy)&&ws(r,m,g)})}),s=f+1,a=p)}),i}return j.reduce(t,n),r}function ww(e,t){var r={};function n(i,a,s,u,c){var l;j.forEach(j.range(a,s),function(f){l=i[f],e.node(l).dummy&&j.forEach(e.predecessors(l),function(h){var p=e.node(h);p.dummy&&(p.order<u||p.order>c)&&ws(r,h,l)})})}function o(i,a){var s=-1,u,c=0;return j.forEach(a,function(l,f){if(e.node(l).dummy==="border"){var h=e.predecessors(l);h.length&&(u=e.node(h[0]).order,n(a,c,f,s,u),c=f,s=u)}n(a,c,a.length,u,i.length)}),a}return j.reduce(t,o),r}function pF(e,t){if(e.node(t).dummy)return j.find(e.predecessors(t),function(r){return e.node(r).dummy})}function ws(e,t,r){if(t>r){var n=t;t=r,r=n}var o=e[t];o||(e[t]=o={}),o[r]=!0}function bw(e,t,r){if(t>r){var n=t;t=r,r=n}return j.has(e[t],r)}function _w(e,t,r,n){var o={},i={},a={};return j.forEach(t,function(s){j.forEach(s,function(u,c){o[u]=u,i[u]=u,a[u]=c})}),j.forEach(t,function(s){var u=-1;j.forEach(s,function(c){var l=n(c);if(l.length){l=j.sortBy(l,function(m){return a[m]});for(var f=(l.length-1)/2,h=Math.floor(f),p=Math.ceil(f);h<=p;++h){var g=l[h];i[c]===c&&u<a[g]&&!bw(r,c,g)&&(i[g]=c,i[c]=o[c]=o[g],u=a[g])}}})}),{root:o,align:i}}function Ew(e,t,r,n,o){var i={},a=gF(e,t,r,o),s=o?"borderLeft":"borderRight";function u(f,h){for(var p=a.nodes(),g=p.pop(),m={};g;)m[g]?f(g):(m[g]=!0,p.push(g),p=p.concat(h(g))),g=p.pop()}function c(f){i[f]=a.inEdges(f).reduce(function(h,p){return Math.max(h,i[p.v]+a.edge(p))},0)}function l(f){var h=a.outEdges(f).reduce(function(g,m){return Math.min(g,i[m.w]-a.edge(m))},Number.POSITIVE_INFINITY),p=e.node(f);h!==Number.POSITIVE_INFINITY&&p.borderType!==s&&(i[f]=Math.max(i[f],h))}return u(c,a.predecessors.bind(a)),u(l,a.successors.bind(a)),j.forEach(n,function(f){i[f]=i[r[f]]}),i}function gF(e,t,r,n){var o=new dF,i=e.graph(),a=yF(i.nodesep,i.edgesep,n);return j.forEach(t,function(s){var u;j.forEach(s,function(c){var l=r[c];if(o.setNode(l),u){var f=r[u],h=o.edge(f,l);o.setEdge(f,l,Math.max(a(e,c,u),h||0))}u=c})}),o}function Sw(e,t){return j.minBy(j.values(t),function(r){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return j.forIn(r,function(i,a){var s=vF(e,a)/2;n=Math.max(i+s,n),o=Math.min(i-s,o)}),n-o})}function qw(e,t){var r=j.values(t),n=j.min(r),o=j.max(r);j.forEach(["u","d"],function(i){j.forEach(["l","r"],function(a){var s=i+a,u=e[s],c;if(u!==t){var l=j.values(u);c=a==="l"?n-j.min(l):o-j.max(l),c&&(e[s]=j.mapValues(u,function(f){return f+c}))}})})}function Nw(e,t){return j.mapValues(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var o=j.sortBy(j.map(e,n));return(o[1]+o[2])/2})}function mF(e){var t=hF.buildLayerMatrix(e),r=j.merge(xw(e,t),ww(e,t)),n={},o;j.forEach(["u","d"],function(a){o=a==="u"?t:j.values(t).reverse(),j.forEach(["l","r"],function(s){s==="r"&&(o=j.map(o,function(f){return j.values(f).reverse()}));var u=(a==="u"?e.predecessors:e.successors).bind(e),c=_w(e,o,r,u),l=Ew(e,o,c.root,c.align,s==="r");s==="r"&&(l=j.mapValues(l,function(f){return-f})),n[a+s]=l})});var i=Sw(e,n);return qw(n,i),Nw(n,e.graph().align)}function yF(e,t,r){return function(n,o,i){var a=n.node(o),s=n.node(i),u=0,c;if(u+=a.width/2,j.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=-a.width/2;break;case"r":c=a.width/2;break}if(c&&(u+=r?c:-c),c=0,u+=(a.dummy?t:e)/2,u+=(s.dummy?t:e)/2,u+=s.width/2,j.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=s.width/2;break;case"r":c=-s.width/2;break}return c&&(u+=r?c:-c),c=0,u}}function vF(e,t){return e.node(t).width}});var Ow=d((yj,Tw)=>{"use strict";var zn=se(),Mw=qe(),xF=Aw().positionX;Tw.exports=wF;function wF(e){e=Mw.asNonCompoundGraph(e),bF(e),zn.forEach(xF(e),function(t,r){e.node(r).x=t})}function bF(e){var t=Mw.buildLayerMatrix(e),r=e.graph().ranksep,n=0;zn.forEach(t,function(o){var i=zn.max(zn.map(o,function(a){return e.node(a).height}));zn.forEach(o,function(a){e.node(a).y=n+i/2}),n+=i+r})}});var Lw=d((vj,Dw)=>{"use strict";var X=se(),Iw=gx(),Pw=_x(),_F=Dx(),EF=qe().normalizeRanks,SF=zx(),qF=qe().removeEmptyRanks,kw=Fx(),NF=Gx(),Rw=Kx(),CF=vw(),AF=Ow(),St=qe(),MF=ze().Graph;Dw.exports=TF;function TF(e,t){var r=t&&t.debugTiming?St.time:St.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return FF(e)});r("  runLayout",function(){OF(n,r)}),r("  updateInputGraph",function(){IF(e,n)})})}function OF(e,t){t("    makeSpaceForEdgeLabels",function(){HF(e)}),t("    removeSelfEdges",function(){ZF(e)}),t("    acyclic",function(){Iw.run(e)}),t("    nestingGraph.run",function(){kw.run(e)}),t("    rank",function(){_F(St.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){VF(e)}),t("    removeEmptyRanks",function(){qF(e)}),t("    nestingGraph.cleanup",function(){kw.cleanup(e)}),t("    normalizeRanks",function(){EF(e)}),t("    assignRankMinMax",function(){GF(e)}),t("    removeEdgeLabelProxies",function(){UF(e)}),t("    normalize.run",function(){Pw.run(e)}),t("    parentDummyChains",function(){SF(e)}),t("    addBorderSegments",function(){NF(e)}),t("    order",function(){CF(e)}),t("    insertSelfEdges",function(){QF(e)}),t("    adjustCoordinateSystem",function(){Rw.adjust(e)}),t("    position",function(){AF(e)}),t("    positionSelfEdges",function(){JF(e)}),t("    removeBorderNodes",function(){WF(e)}),t("    normalize.undo",function(){Pw.undo(e)}),t("    fixupEdgeLabelCoords",function(){KF(e)}),t("    undoCoordinateSystem",function(){Rw.undo(e)}),t("    translateGraph",function(){YF(e)}),t("    assignNodeIntersects",function(){jF(e)}),t("    reversePoints",function(){XF(e)}),t("    acyclic.undo",function(){Iw.undo(e)})}function IF(e,t){X.forEach(e.nodes(),function(r){var n=e.node(r),o=t.node(r);n&&(n.x=o.x,n.y=o.y,t.children(r).length&&(n.width=o.width,n.height=o.height))}),X.forEach(e.edges(),function(r){var n=e.edge(r),o=t.edge(r);n.points=o.points,X.has(o,"x")&&(n.x=o.x,n.y=o.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var PF=["nodesep","edgesep","ranksep","marginx","marginy"],kF={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},RF=["acyclicer","ranker","rankdir","align"],DF=["width","height"],LF={width:0,height:0},zF=["minlen","weight","width","height","labeloffset"],BF={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},$F=["labelpos"];function FF(e){var t=new MF({multigraph:!0,compound:!0}),r=_s(e.graph());return t.setGraph(X.merge({},kF,bs(r,PF),X.pick(r,RF))),X.forEach(e.nodes(),function(n){var o=_s(e.node(n));t.setNode(n,X.defaults(bs(o,DF),LF)),t.setParent(n,e.parent(n))}),X.forEach(e.edges(),function(n){var o=_s(e.edge(n));t.setEdge(n,X.merge({},BF,bs(o,zF),X.pick(o,$F)))}),t}function HF(e){var t=e.graph();t.ranksep/=2,X.forEach(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function VF(e){X.forEach(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),o=e.node(t.w),i={rank:(o.rank-n.rank)/2+n.rank,e:t};St.addDummyNode(e,"edge-proxy",i,"_ep")}})}function GF(e){var t=0;X.forEach(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=X.max(t,n.maxRank))}),e.graph().maxRank=t}function UF(e){X.forEach(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function YF(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,o=0,i=e.graph(),a=i.marginx||0,s=i.marginy||0;function u(c){var l=c.x,f=c.y,h=c.width,p=c.height;t=Math.min(t,l-h/2),r=Math.max(r,l+h/2),n=Math.min(n,f-p/2),o=Math.max(o,f+p/2)}X.forEach(e.nodes(),function(c){u(e.node(c))}),X.forEach(e.edges(),function(c){var l=e.edge(c);X.has(l,"x")&&u(l)}),t-=a,n-=s,X.forEach(e.nodes(),function(c){var l=e.node(c);l.x-=t,l.y-=n}),X.forEach(e.edges(),function(c){var l=e.edge(c);X.forEach(l.points,function(f){f.x-=t,f.y-=n}),X.has(l,"x")&&(l.x-=t),X.has(l,"y")&&(l.y-=n)}),i.width=r-t+a,i.height=o-n+s}function jF(e){X.forEach(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),o=e.node(t.w),i,a;r.points?(i=r.points[0],a=r.points[r.points.length-1]):(r.points=[],i=o,a=n),r.points.unshift(St.intersectRect(n,i)),r.points.push(St.intersectRect(o,a))})}function KF(e){X.forEach(e.edges(),function(t){var r=e.edge(t);if(X.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function XF(e){X.forEach(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function WF(e){X.forEach(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),o=e.node(r.borderBottom),i=e.node(X.last(r.borderLeft)),a=e.node(X.last(r.borderRight));r.width=Math.abs(a.x-i.x),r.height=Math.abs(o.y-n.y),r.x=i.x+r.width/2,r.y=n.y+r.height/2}}),X.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function ZF(e){X.forEach(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function QF(e){var t=St.buildLayerMatrix(e);X.forEach(t,function(r){var n=0;X.forEach(r,function(o,i){var a=e.node(o);a.order=i+n,X.forEach(a.selfEdges,function(s){St.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:a.rank,order:i+ ++n,e:s.e,label:s.label},"_se")}),delete a.selfEdges})})}function JF(e){X.forEach(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),o=n.x+n.width/2,i=n.y,a=r.x-o,s=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],r.label.x=r.x,r.label.y=r.y}})}function bs(e,t){return X.mapValues(X.pick(e,t),Number)}function _s(e){var t={};return X.forEach(e,function(r,n){t[n.toLowerCase()]=r}),t}});var Bw=d((xj,zw)=>{var ni=se(),e5=qe(),t5=ze().Graph;zw.exports={debugOrdering:r5};function r5(e){var t=e5.buildLayerMatrix(e),r=new t5({compound:!0,multigraph:!0}).setGraph({});return ni.forEach(e.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+e.node(n).rank)}),ni.forEach(e.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),ni.forEach(t,function(n,o){var i="layer"+o;r.setNode(i,{rank:"same"}),ni.reduce(n,function(a,s){return r.setEdge(a,s,{style:"invis"}),s})}),r}});var Fw=d((wj,$w)=>{$w.exports="0.8.5"});var Vw=d((bj,Hw)=>{Hw.exports={graphlib:ze(),layout:Lw(),debug:Bw(),util:{time:qe().time,notime:qe().notime},version:Fw()}});var Es=Me(tr());var P=Me(kr()),q=Me(tr());function pe(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=pe(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var Ms=e=>{let t,r=new Set,n=(u,c)=>{let l=typeof u=="function"?u(t):u;if(!Object.is(l,t)){let f=t;t=c??typeof l!="object"?l:Object.assign({},t,l),r.forEach(h=>h(t,f))}},o=()=>t,s={setState:n,getState:o,subscribe:u=>(r.add(u),()=>r.delete(u)),destroy:()=>{(import.meta.env&&import.meta.env.MODE)!=="production"&&console.warn("[DEPRECATED] The destroy method will be unsupported in the future version. You should use unsubscribe function returned by subscribe. Everything will be garbage collected if store is garbage collected."),r.clear()}};return t=e(n,o,s),s},Ts=e=>e?Ms(e):Ms;var Rs=Me(tr(),1),Ds=Me(ks(),1),{useSyncExternalStoreWithSelector:kb}=Ds.default;function Ls(e,t=e.getState,r){let n=kb(e.subscribe,e.getState,e.getServerState||e.getState,t,r);return(0,Rs.useDebugValue)(n),n}function _e(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(t,r[n])||!Object.is(e[r[n]],t[r[n]]))return!1;return!0}var Rb={value:()=>{}};function Bs(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new $n(r)}function $n(e){this._=e}function Db(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",o=r.indexOf(".");if(o>=0&&(n=r.slice(o+1),r=r.slice(0,o)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}$n.prototype=Bs.prototype={constructor:$n,on:function(e,t){var r=this._,n=Db(e+"",r),o,i=-1,a=n.length;if(arguments.length<2){for(;++i<a;)if((o=(e=n[i]).type)&&(o=Lb(r[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(o=(e=n[i]).type)r[o]=zs(r[o],e.name,t);else if(t==null)for(o in r)r[o]=zs(r[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new $n(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var r=new Array(o),n=0,o,i;n<o;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,o=i.length;n<o;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],o=0,i=n.length;o<i;++o)n[o].value.apply(t,r)}};function Lb(e,t){for(var r=0,n=e.length,o;r<n;++r)if((o=e[r]).name===t)return o.value}function zs(e,t,r){for(var n=0,o=e.length;n<o;++n)if(e[n].name===t){e[n]=Rb,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Ot=Bs;var Fn="http://www.w3.org/1999/xhtml",si={svg:"http://www.w3.org/2000/svg",xhtml:Fn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ze(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),si.hasOwnProperty(t)?{space:si[t],local:e}:e}function zb(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Fn&&t.documentElement.namespaceURI===Fn?t.createElement(e):t.createElementNS(r,e)}}function Bb(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Hn(e){var t=Ze(e);return(t.local?Bb:zb)(t)}function $b(){}function It(e){return e==null?$b:function(){return this.querySelector(e)}}function $s(e){typeof e!="function"&&(e=It(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var i=t[o],a=i.length,s=n[o]=new Array(a),u,c,l=0;l<a;++l)(u=i[l])&&(c=e.call(u,u.__data__,l,i))&&("__data__"in u&&(c.__data__=u.__data__),s[l]=c);return new le(n,this._parents)}function ui(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Fb(){return[]}function Rr(e){return e==null?Fb:function(){return this.querySelectorAll(e)}}function Hb(e){return function(){return ui(e.apply(this,arguments))}}function Fs(e){typeof e=="function"?e=Hb(e):e=Rr(e);for(var t=this._groups,r=t.length,n=[],o=[],i=0;i<r;++i)for(var a=t[i],s=a.length,u,c=0;c<s;++c)(u=a[c])&&(n.push(e.call(u,u.__data__,c,a)),o.push(u));return new le(n,o)}function Dr(e){return function(){return this.matches(e)}}function Vn(e){return function(t){return t.matches(e)}}var Vb=Array.prototype.find;function Gb(e){return function(){return Vb.call(this.children,e)}}function Ub(){return this.firstElementChild}function Hs(e){return this.select(e==null?Ub:Gb(typeof e=="function"?e:Vn(e)))}var Yb=Array.prototype.filter;function jb(){return Array.from(this.children)}function Kb(e){return function(){return Yb.call(this.children,e)}}function Vs(e){return this.selectAll(e==null?jb:Kb(typeof e=="function"?e:Vn(e)))}function Gs(e){typeof e!="function"&&(e=Dr(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var i=t[o],a=i.length,s=n[o]=[],u,c=0;c<a;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&s.push(u);return new le(n,this._parents)}function Gn(e){return new Array(e.length)}function Us(){return new le(this._enter||this._groups.map(Gn),this._parents)}function Lr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Lr.prototype={constructor:Lr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ys(e){return function(){return e}}function Xb(e,t,r,n,o,i){for(var a=0,s,u=t.length,c=i.length;a<c;++a)(s=t[a])?(s.__data__=i[a],n[a]=s):r[a]=new Lr(e,i[a]);for(;a<u;++a)(s=t[a])&&(o[a]=s)}function Wb(e,t,r,n,o,i,a){var s,u,c=new Map,l=t.length,f=i.length,h=new Array(l),p;for(s=0;s<l;++s)(u=t[s])&&(h[s]=p=a.call(u,u.__data__,s,t)+"",c.has(p)?o[s]=u:c.set(p,u));for(s=0;s<f;++s)p=a.call(e,i[s],s,i)+"",(u=c.get(p))?(n[s]=u,u.__data__=i[s],c.delete(p)):r[s]=new Lr(e,i[s]);for(s=0;s<l;++s)(u=t[s])&&c.get(h[s])===u&&(o[s]=u)}function Zb(e){return e.__data__}function js(e,t){if(!arguments.length)return Array.from(this,Zb);var r=t?Wb:Xb,n=this._parents,o=this._groups;typeof e!="function"&&(e=Ys(e));for(var i=o.length,a=new Array(i),s=new Array(i),u=new Array(i),c=0;c<i;++c){var l=n[c],f=o[c],h=f.length,p=Qb(e.call(l,l&&l.__data__,c,n)),g=p.length,m=s[c]=new Array(g),_=a[c]=new Array(g),v=u[c]=new Array(h);r(l,f,m,_,v,p,t);for(var S=0,A=0,w,E;S<g;++S)if(w=m[S]){for(S>=A&&(A=S+1);!(E=_[A])&&++A<g;);w._next=E||null}}return a=new le(a,n),a._enter=s,a._exit=u,a}function Qb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ks(){return new le(this._exit||this._groups.map(Gn),this._parents)}function Xs(e,t,r){var n=this.enter(),o=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),r==null?i.remove():r(i),n&&o?n.merge(o).order():o}function Ws(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,o=r.length,i=n.length,a=Math.min(o,i),s=new Array(o),u=0;u<a;++u)for(var c=r[u],l=n[u],f=c.length,h=s[u]=new Array(f),p,g=0;g<f;++g)(p=c[g]||l[g])&&(h[g]=p);for(;u<o;++u)s[u]=r[u];return new le(s,this._parents)}function Zs(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],o=n.length-1,i=n[o],a;--o>=0;)(a=n[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function Qs(e){e||(e=Jb);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var r=this._groups,n=r.length,o=new Array(n),i=0;i<n;++i){for(var a=r[i],s=a.length,u=o[i]=new Array(s),c,l=0;l<s;++l)(c=a[l])&&(u[l]=c);u.sort(t)}return new le(o,this._parents).order()}function Jb(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Js(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function eu(){return Array.from(this)}function tu(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,i=n.length;o<i;++o){var a=n[o];if(a)return a}return null}function ru(){let e=0;for(let t of this)++e;return e}function nu(){return!this.node()}function ou(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var o=t[r],i=0,a=o.length,s;i<a;++i)(s=o[i])&&e.call(s,s.__data__,i,o);return this}function e_(e){return function(){this.removeAttribute(e)}}function t_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function r_(e,t){return function(){this.setAttribute(e,t)}}function n_(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function o_(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function i_(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function iu(e,t){var r=Ze(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?t_:e_:typeof t=="function"?r.local?i_:o_:r.local?n_:r_)(r,t))}function Un(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function a_(e){return function(){this.style.removeProperty(e)}}function s_(e,t,r){return function(){this.style.setProperty(e,t,r)}}function u_(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function au(e,t,r){return arguments.length>1?this.each((t==null?a_:typeof t=="function"?u_:s_)(e,t,r??"")):ct(this.node(),e)}function ct(e,t){return e.style.getPropertyValue(t)||Un(e).getComputedStyle(e,null).getPropertyValue(t)}function c_(e){return function(){delete this[e]}}function l_(e,t){return function(){this[e]=t}}function f_(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function su(e,t){return arguments.length>1?this.each((t==null?c_:typeof t=="function"?f_:l_)(e,t)):this.node()[e]}function uu(e){return e.trim().split(/^|\s+/)}function ci(e){return e.classList||new cu(e)}function cu(e){this._node=e,this._names=uu(e.getAttribute("class")||"")}cu.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function lu(e,t){for(var r=ci(e),n=-1,o=t.length;++n<o;)r.add(t[n])}function fu(e,t){for(var r=ci(e),n=-1,o=t.length;++n<o;)r.remove(t[n])}function d_(e){return function(){lu(this,e)}}function h_(e){return function(){fu(this,e)}}function p_(e,t){return function(){(t.apply(this,arguments)?lu:fu)(this,e)}}function du(e,t){var r=uu(e+"");if(arguments.length<2){for(var n=ci(this.node()),o=-1,i=r.length;++o<i;)if(!n.contains(r[o]))return!1;return!0}return this.each((typeof t=="function"?p_:t?d_:h_)(r,t))}function g_(){this.textContent=""}function m_(e){return function(){this.textContent=e}}function y_(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function hu(e){return arguments.length?this.each(e==null?g_:(typeof e=="function"?y_:m_)(e)):this.node().textContent}function v_(){this.innerHTML=""}function x_(e){return function(){this.innerHTML=e}}function w_(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function pu(e){return arguments.length?this.each(e==null?v_:(typeof e=="function"?w_:x_)(e)):this.node().innerHTML}function b_(){this.nextSibling&&this.parentNode.appendChild(this)}function gu(){return this.each(b_)}function __(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mu(){return this.each(__)}function yu(e){var t=typeof e=="function"?e:Hn(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function E_(){return null}function vu(e,t){var r=typeof e=="function"?e:Hn(e),n=t==null?E_:typeof t=="function"?t:It(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function S_(){var e=this.parentNode;e&&e.removeChild(this)}function xu(){return this.each(S_)}function q_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function N_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function wu(e){return this.select(e?N_:q_)}function bu(e){return arguments.length?this.property("__data__",e):this.node().__data__}function C_(e){return function(t){e.call(this,t,this.__data__)}}function A_(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function M_(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,o=t.length,i;r<o;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function T_(e,t,r){return function(){var n=this.__on,o,i=C_(t);if(n){for(var a=0,s=n.length;a<s;++a)if((o=n[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=r),o.value=t;return}}this.addEventListener(e.type,i,r),o={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(o):this.__on=[o]}}function _u(e,t,r){var n=A_(e+""),o,i=n.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,c=s.length,l;u<c;++u)for(o=0,l=s[u];o<i;++o)if((a=n[o]).type===l.type&&a.name===l.name)return l.value}return}for(s=t?T_:M_,o=0;o<i;++o)this.each(s(n[o],t,r));return this}function Eu(e,t,r){var n=Un(e),o=n.CustomEvent;typeof o=="function"?o=new o(t,r):(o=n.document.createEvent("Event"),r?(o.initEvent(t,r.bubbles,r.cancelable),o.detail=r.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function O_(e,t){return function(){return Eu(this,e,t)}}function I_(e,t){return function(){return Eu(this,e,t.apply(this,arguments))}}function Su(e,t){return this.each((typeof t=="function"?I_:O_)(e,t))}function*qu(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],o=0,i=n.length,a;o<i;++o)(a=n[o])&&(yield a)}var li=[null];function le(e,t){this._groups=e,this._parents=t}function Nu(){return new le([[document.documentElement]],li)}function P_(){return this}le.prototype=Nu.prototype={constructor:le,select:$s,selectAll:Fs,selectChild:Hs,selectChildren:Vs,filter:Gs,data:js,enter:Us,exit:Ks,join:Xs,merge:Ws,selection:P_,order:Zs,sort:Qs,call:Js,nodes:eu,node:tu,size:ru,empty:nu,each:ou,attr:iu,style:au,property:su,classed:du,text:hu,html:pu,raise:gu,lower:mu,append:yu,insert:vu,remove:xu,clone:wu,datum:bu,on:_u,dispatch:Su,[Symbol.iterator]:qu};var Qe=Nu;function xe(e){return typeof e=="string"?new le([[document.querySelector(e)]],[document.documentElement]):new le([[e]],li)}function Cu(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ee(e,t){if(e=Cu(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}var Au={passive:!1},Pt={capture:!0,passive:!1};function Yn(e){e.stopImmediatePropagation()}function lt(e){e.preventDefault(),e.stopImmediatePropagation()}function zr(e){var t=e.document.documentElement,r=xe(e).on("dragstart.drag",lt,Pt);"onselectstart"in t?r.on("selectstart.drag",lt,Pt):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Br(e,t){var r=e.document.documentElement,n=xe(e).on("dragstart.drag",null);t&&(n.on("click.drag",lt,Pt),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var $r=e=>()=>e;function Fr(e,{sourceEvent:t,subject:r,target:n,identifier:o,active:i,x:a,y:s,dx:u,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}Fr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function k_(e){return!e.ctrlKey&&!e.button}function R_(){return this.parentNode}function D_(e,t){return t??{x:e.x,y:e.y}}function L_(){return navigator.maxTouchPoints||"ontouchstart"in this}function fi(){var e=k_,t=R_,r=D_,n=L_,o={},i=Ot("start","drag","end"),a=0,s,u,c,l,f=0;function h(w){w.on("mousedown.drag",p).filter(n).on("touchstart.drag",_).on("touchmove.drag",v,Au).on("touchend.drag touchcancel.drag",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(w,E){if(!(l||!e.call(this,w,E))){var N=A(this,t.call(this,w,E),w,E,"mouse");!N||(xe(w.view).on("mousemove.drag",g,Pt).on("mouseup.drag",m,Pt),zr(w.view),Yn(w),c=!1,s=w.clientX,u=w.clientY,N("start",w))}}function g(w){if(lt(w),!c){var E=w.clientX-s,N=w.clientY-u;c=E*E+N*N>f}o.mouse("drag",w)}function m(w){xe(w.view).on("mousemove.drag mouseup.drag",null),Br(w.view,c),lt(w),o.mouse("end",w)}function _(w,E){if(!!e.call(this,w,E)){var N=w.changedTouches,O=t.call(this,w,E),R=N.length,L,F;for(L=0;L<R;++L)(F=A(this,O,w,E,N[L].identifier,N[L]))&&(Yn(w),F("start",w,N[L]))}}function v(w){var E=w.changedTouches,N=E.length,O,R;for(O=0;O<N;++O)(R=o[E[O].identifier])&&(lt(w),R("drag",w,E[O]))}function S(w){var E=w.changedTouches,N=E.length,O,R;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),O=0;O<N;++O)(R=o[E[O].identifier])&&(Yn(w),R("end",w,E[O]))}function A(w,E,N,O,R,L){var F=i.copy(),D=Ee(L||N,E),I,$,y;if((y=r.call(w,new Fr("beforestart",{sourceEvent:N,target:h,identifier:R,active:a,x:D[0],y:D[1],dx:0,dy:0,dispatch:F}),O))!=null)return I=y.x-D[0]||0,$=y.y-D[1]||0,function M(b,x,C){var T=D,k;switch(b){case"start":o[R]=M,k=a++;break;case"end":delete o[R],--a;case"drag":D=Ee(C||x,E),k=a;break}F.call(b,w,new Fr(b,{sourceEvent:x,subject:y,target:h,identifier:R,active:k,x:D[0]+I,y:D[1]+$,dx:D[0]-T[0],dy:D[1]-T[1],dispatch:F}),O)}}return h.filter=function(w){return arguments.length?(e=typeof w=="function"?w:$r(!!w),h):e},h.container=function(w){return arguments.length?(t=typeof w=="function"?w:$r(w),h):t},h.subject=function(w){return arguments.length?(r=typeof w=="function"?w:$r(w),h):r},h.touchable=function(w){return arguments.length?(n=typeof w=="function"?w:$r(!!w),h):n},h.on=function(){var w=i.on.apply(i,arguments);return w===i?h:w},h.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,h):Math.sqrt(f)},h}function jn(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function di(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Gr(){}var Hr=.7,Wn=1/Hr,rr="\\s*([+-]?\\d+)\\s*",Vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ge="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",z_=/^#([0-9a-f]{3,8})$/,B_=new RegExp(`^rgb\\(${rr},${rr},${rr}\\)$`),$_=new RegExp(`^rgb\\(${Ge},${Ge},${Ge}\\)$`),F_=new RegExp(`^rgba\\(${rr},${rr},${rr},${Vr}\\)$`),H_=new RegExp(`^rgba\\(${Ge},${Ge},${Ge},${Vr}\\)$`),V_=new RegExp(`^hsl\\(${Vr},${Ge},${Ge}\\)$`),G_=new RegExp(`^hsla\\(${Vr},${Ge},${Ge},${Vr}\\)$`),Mu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jn(Gr,ft,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Tu,formatHex:Tu,formatHex8:U_,formatHsl:Y_,formatRgb:Ou,toString:Ou});function Tu(){return this.rgb().formatHex()}function U_(){return this.rgb().formatHex8()}function Y_(){return Lu(this).formatHsl()}function Ou(){return this.rgb().formatRgb()}function ft(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=z_.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Iu(t):r===3?new Ne(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Kn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Kn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=B_.exec(e))?new Ne(t[1],t[2],t[3],1):(t=$_.exec(e))?new Ne(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=F_.exec(e))?Kn(t[1],t[2],t[3],t[4]):(t=H_.exec(e))?Kn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=V_.exec(e))?Ru(t[1],t[2]/100,t[3]/100,1):(t=G_.exec(e))?Ru(t[1],t[2]/100,t[3]/100,t[4]):Mu.hasOwnProperty(e)?Iu(Mu[e]):e==="transparent"?new Ne(NaN,NaN,NaN,0):null}function Iu(e){return new Ne(e>>16&255,e>>8&255,e&255,1)}function Kn(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ne(e,t,r,n)}function j_(e){return e instanceof Gr||(e=ft(e)),e?(e=e.rgb(),new Ne(e.r,e.g,e.b,e.opacity)):new Ne}function nr(e,t,r,n){return arguments.length===1?j_(e):new Ne(e,t,r,n??1)}function Ne(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}jn(Ne,nr,di(Gr,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new Ne(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hr:Math.pow(Hr,e),new Ne(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ne(Rt(this.r),Rt(this.g),Rt(this.b),Zn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pu,formatHex:Pu,formatHex8:K_,formatRgb:ku,toString:ku}));function Pu(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}`}function K_(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}${kt((isNaN(this.opacity)?1:this.opacity)*255)}`}function ku(){let e=Zn(this.opacity);return`${e===1?"rgb(":"rgba("}${Rt(this.r)}, ${Rt(this.g)}, ${Rt(this.b)}${e===1?")":`, ${e})`}`}function Zn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kt(e){return e=Rt(e),(e<16?"0":"")+e.toString(16)}function Ru(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Be(e,t,r,n)}function Lu(e){if(e instanceof Be)return new Be(e.h,e.s,e.l,e.opacity);if(e instanceof Gr||(e=ft(e)),!e)return new Be;if(e instanceof Be)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),i=Math.max(t,r,n),a=NaN,s=i-o,u=(i+o)/2;return s?(t===i?a=(r-n)/s+(r<n)*6:r===i?a=(n-t)/s+2:a=(t-r)/s+4,s/=u<.5?i+o:2-i-o,a*=60):s=u>0&&u<1?0:a,new Be(a,s,u,e.opacity)}function zu(e,t,r,n){return arguments.length===1?Lu(e):new Be(e,t,r,n??1)}function Be(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}jn(Be,zu,di(Gr,{brighter(e){return e=e==null?Wn:Math.pow(Wn,e),new Be(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hr:Math.pow(Hr,e),new Be(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new Ne(hi(e>=240?e-240:e+120,o,n),hi(e,o,n),hi(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new Be(Du(this.h),Xn(this.s),Xn(this.l),Zn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Zn(this.opacity);return`${e===1?"hsl(":"hsla("}${Du(this.h)}, ${Xn(this.s)*100}%, ${Xn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Du(e){return e=(e||0)%360,e<0?e+360:e}function Xn(e){return Math.max(0,Math.min(1,e||0))}function hi(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function pi(e,t,r,n,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*r+(1+3*e+3*i-3*a)*n+a*o)/6}function Bu(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),o=e[n],i=e[n+1],a=n>0?e[n-1]:2*o-i,s=n<t-1?e[n+2]:2*i-o;return pi((r-n/t)*t,a,o,i,s)}}function $u(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),o=e[(n+t-1)%t],i=e[n%t],a=e[(n+1)%t],s=e[(n+2)%t];return pi((r-n/t)*t,o,i,a,s)}}var gi=e=>()=>e;function X_(e,t){return function(r){return e+r*t}}function W_(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Fu(e){return(e=+e)==1?Qn:function(t,r){return r-t?W_(t,r,e):gi(isNaN(t)?r:t)}}function Qn(e,t){var r=t-e;return r?X_(e,r):gi(isNaN(e)?t:e)}var Jn=function e(t){var r=Fu(t);function n(o,i){var a=r((o=nr(o)).r,(i=nr(i)).r),s=r(o.g,i.g),u=r(o.b,i.b),c=Qn(o.opacity,i.opacity);return function(l){return o.r=a(l),o.g=s(l),o.b=u(l),o.opacity=c(l),o+""}}return n.gamma=e,n}(1);function Hu(e){return function(t){var r=t.length,n=new Array(r),o=new Array(r),i=new Array(r),a,s;for(a=0;a<r;++a)s=nr(t[a]),n[a]=s.r||0,o[a]=s.g||0,i[a]=s.b||0;return n=e(n),o=e(o),i=e(i),s.opacity=1,function(u){return s.r=n(u),s.g=o(u),s.b=i(u),s+""}}}var Z_=Hu(Bu),Q_=Hu($u);function ke(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var yi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mi=new RegExp(yi.source,"g");function J_(e){return function(){return e}}function eE(e){return function(t){return e(t)+""}}function vi(e,t){var r=yi.lastIndex=mi.lastIndex=0,n,o,i,a=-1,s=[],u=[];for(e=e+"",t=t+"";(n=yi.exec(e))&&(o=mi.exec(t));)(i=o.index)>r&&(i=t.slice(r,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,u.push({i:a,x:ke(n,o)})),r=mi.lastIndex;return r<t.length&&(i=t.slice(r),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?eE(u[0].x):J_(t):(t=u.length,function(c){for(var l=0,f;l<t;++l)s[(f=u[l]).i]=f.x(c);return s.join("")})}var Vu=180/Math.PI,eo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xi(e,t,r,n,o,i){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,u/=s),e*n<t*r&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Vu,skewX:Math.atan(u)*Vu,scaleX:a,scaleY:s}}var to;function Gu(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?eo:xi(t.a,t.b,t.c,t.d,t.e,t.f)}function Uu(e){return e==null?eo:(to||(to=document.createElementNS("http://www.w3.org/2000/svg","g")),to.setAttribute("transform",e),(e=to.transform.baseVal.consolidate())?(e=e.matrix,xi(e.a,e.b,e.c,e.d,e.e,e.f)):eo)}function Yu(e,t,r,n){function o(c){return c.length?c.pop()+" ":""}function i(c,l,f,h,p,g){if(c!==f||l!==h){var m=p.push("translate(",null,t,null,r);g.push({i:m-4,x:ke(c,f)},{i:m-2,x:ke(l,h)})}else(f||h)&&p.push("translate("+f+t+h+r)}function a(c,l,f,h){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),h.push({i:f.push(o(f)+"rotate(",null,n)-2,x:ke(c,l)})):l&&f.push(o(f)+"rotate("+l+n)}function s(c,l,f,h){c!==l?h.push({i:f.push(o(f)+"skewX(",null,n)-2,x:ke(c,l)}):l&&f.push(o(f)+"skewX("+l+n)}function u(c,l,f,h,p,g){if(c!==f||l!==h){var m=p.push(o(p)+"scale(",null,",",null,")");g.push({i:m-4,x:ke(c,f)},{i:m-2,x:ke(l,h)})}else(f!==1||h!==1)&&p.push(o(p)+"scale("+f+","+h+")")}return function(c,l){var f=[],h=[];return c=e(c),l=e(l),i(c.translateX,c.translateY,l.translateX,l.translateY,f,h),a(c.rotate,l.rotate,f,h),s(c.skewX,l.skewX,f,h),u(c.scaleX,c.scaleY,l.scaleX,l.scaleY,f,h),c=l=null,function(p){for(var g=-1,m=h.length,_;++g<m;)f[(_=h[g]).i]=_.x(p);return f.join("")}}}var wi=Yu(Gu,"px, ","px)","deg)"),bi=Yu(Uu,", ",")",")");var tE=1e-12;function ju(e){return((e=Math.exp(e))+1/e)/2}function rE(e){return((e=Math.exp(e))-1/e)/2}function nE(e){return((e=Math.exp(2*e))-1)/(e+1)}var _i=function e(t,r,n){function o(i,a){var s=i[0],u=i[1],c=i[2],l=a[0],f=a[1],h=a[2],p=l-s,g=f-u,m=p*p+g*g,_,v;if(m<tE)v=Math.log(h/c)/t,_=function(O){return[s+O*p,u+O*g,c*Math.exp(t*O*v)]};else{var S=Math.sqrt(m),A=(h*h-c*c+n*m)/(2*c*r*S),w=(h*h-c*c-n*m)/(2*h*r*S),E=Math.log(Math.sqrt(A*A+1)-A),N=Math.log(Math.sqrt(w*w+1)-w);v=(N-E)/t,_=function(O){var R=O*v,L=ju(E),F=c/(r*S)*(L*nE(t*R+E)-rE(E));return[s+F*p,u+F*g,c*L/ju(t*R+E)]}}return _.duration=v*1e3*t/Math.SQRT2,_}return o.rho=function(i){var a=Math.max(.001,+i),s=a*a,u=s*s;return e(a,s,u)},o}(Math.SQRT2,2,4);var or=0,Yr=0,Ur=0,Xu=1e3,ro,jr,no=0,Dt=0,oo=0,Kr=typeof performance=="object"&&performance.now?performance:Date,Wu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Wr(){return Dt||(Wu(oE),Dt=Kr.now()+oo)}function oE(){Dt=0}function Xr(){this._call=this._time=this._next=null}Xr.prototype=io.prototype={constructor:Xr,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Wr():+r)+(t==null?0:+t),!this._next&&jr!==this&&(jr?jr._next=this:ro=this,jr=this),this._call=e,this._time=r,Ei()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ei())}};function io(e,t,r){var n=new Xr;return n.restart(e,t,r),n}function Zu(){Wr(),++or;for(var e=ro,t;e;)(t=Dt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--or}function Ku(){Dt=(no=Kr.now())+oo,or=Yr=0;try{Zu()}finally{or=0,aE(),Dt=0}}function iE(){var e=Kr.now(),t=e-no;t>Xu&&(oo-=t,no=e)}function aE(){for(var e,t=ro,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:ro=r);jr=e,Ei(n)}function Ei(e){if(!or){Yr&&(Yr=clearTimeout(Yr));var t=e-Dt;t>24?(e<1/0&&(Yr=setTimeout(Ku,e-Kr.now()-oo)),Ur&&(Ur=clearInterval(Ur))):(Ur||(no=Kr.now(),Ur=setInterval(iE,Xu)),or=1,Wu(Ku))}}function ao(e,t,r){var n=new Xr;return t=t==null?0:+t,n.restart(o=>{n.stop(),e(o+t)},t,r),n}var sE=Ot("start","end","cancel","interrupt"),uE=[],ec=0,Qu=1,uo=2,so=3,Ju=4,co=5,Zr=6;function dt(e,t,r,n,o,i){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;cE(e,r,{name:t,index:n,group:o,on:sE,tween:uE,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:ec})}function Qr(e,t){var r=ge(e,t);if(r.state>ec)throw new Error("too late; already scheduled");return r}function be(e,t){var r=ge(e,t);if(r.state>so)throw new Error("too late; already running");return r}function ge(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function cE(e,t,r){var n=e.__transition,o;n[t]=r,r.timer=io(i,0,r.time);function i(c){r.state=Qu,r.timer.restart(a,r.delay,r.time),r.delay<=c&&a(c-r.delay)}function a(c){var l,f,h,p;if(r.state!==Qu)return u();for(l in n)if(p=n[l],p.name===r.name){if(p.state===so)return ao(a);p.state===Ju?(p.state=Zr,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[l]):+l<t&&(p.state=Zr,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[l])}if(ao(function(){r.state===so&&(r.state=Ju,r.timer.restart(s,r.delay,r.time),s(c))}),r.state=uo,r.on.call("start",e,e.__data__,r.index,r.group),r.state===uo){for(r.state=so,o=new Array(h=r.tween.length),l=0,f=-1;l<h;++l)(p=r.tween[l].value.call(e,e.__data__,r.index,r.group))&&(o[++f]=p);o.length=f+1}}function s(c){for(var l=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(u),r.state=co,1),f=-1,h=o.length;++f<h;)o[f].call(e,l);r.state===co&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=Zr,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function Lt(e,t){var r=e.__transition,n,o,i=!0,a;if(!!r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){i=!1;continue}o=n.state>uo&&n.state<co,n.state=Zr,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}i&&delete e.__transition}}function tc(e){return this.each(function(){Lt(this,e)})}function lE(e,t){var r,n;return function(){var o=be(this,e),i=o.tween;if(i!==r){n=r=i;for(var a=0,s=n.length;a<s;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}o.tween=n}}function fE(e,t,r){var n,o;if(typeof r!="function")throw new Error;return function(){var i=be(this,e),a=i.tween;if(a!==n){o=(n=a).slice();for(var s={name:t,value:r},u=0,c=o.length;u<c;++u)if(o[u].name===t){o[u]=s;break}u===c&&o.push(s)}i.tween=o}}function rc(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=ge(this.node(),r).tween,o=0,i=n.length,a;o<i;++o)if((a=n[o]).name===e)return a.value;return null}return this.each((t==null?lE:fE)(r,e,t))}function ir(e,t,r){var n=e._id;return e.each(function(){var o=be(this,n);(o.value||(o.value={}))[t]=r.apply(this,arguments)}),function(o){return ge(o,n).value[t]}}function lo(e,t){var r;return(typeof t=="number"?ke:t instanceof ft?Jn:(r=ft(t))?(t=r,Jn):vi)(e,t)}function dE(e){return function(){this.removeAttribute(e)}}function hE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pE(e,t,r){var n,o=r+"",i;return function(){var a=this.getAttribute(e);return a===o?null:a===n?i:i=t(n=a,r)}}function gE(e,t,r){var n,o=r+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===n?i:i=t(n=a,r)}}function mE(e,t,r){var n,o,i;return function(){var a,s=r(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===n&&u===o?i:(o=u,i=t(n=a,s)))}}function yE(e,t,r){var n,o,i;return function(){var a,s=r(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===n&&u===o?i:(o=u,i=t(n=a,s)))}}function nc(e,t){var r=Ze(e),n=r==="transform"?bi:lo;return this.attrTween(e,typeof t=="function"?(r.local?yE:mE)(r,n,ir(this,"attr."+e,t)):t==null?(r.local?hE:dE)(r):(r.local?gE:pE)(r,n,t))}function vE(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function xE(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function wE(e,t){var r,n;function o(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&xE(e,i)),r}return o._value=t,o}function bE(e,t){var r,n;function o(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&vE(e,i)),r}return o._value=t,o}function oc(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Ze(e);return this.tween(r,(n.local?wE:bE)(n,t))}function _E(e,t){return function(){Qr(this,e).delay=+t.apply(this,arguments)}}function EE(e,t){return t=+t,function(){Qr(this,e).delay=t}}function ic(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_E:EE)(t,e)):ge(this.node(),t).delay}function SE(e,t){return function(){be(this,e).duration=+t.apply(this,arguments)}}function qE(e,t){return t=+t,function(){be(this,e).duration=t}}function ac(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?SE:qE)(t,e)):ge(this.node(),t).duration}function NE(e,t){if(typeof t!="function")throw new Error;return function(){be(this,e).ease=t}}function sc(e){var t=this._id;return arguments.length?this.each(NE(t,e)):ge(this.node(),t).ease}function CE(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;be(this,e).ease=r}}function uc(e){if(typeof e!="function")throw new Error;return this.each(CE(this._id,e))}function cc(e){typeof e!="function"&&(e=Dr(e));for(var t=this._groups,r=t.length,n=new Array(r),o=0;o<r;++o)for(var i=t[o],a=i.length,s=n[o]=[],u,c=0;c<a;++c)(u=i[c])&&e.call(u,u.__data__,c,i)&&s.push(u);return new Se(n,this._parents,this._name,this._id)}function lc(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,o=r.length,i=Math.min(n,o),a=new Array(n),s=0;s<i;++s)for(var u=t[s],c=r[s],l=u.length,f=a[s]=new Array(l),h,p=0;p<l;++p)(h=u[p]||c[p])&&(f[p]=h);for(;s<n;++s)a[s]=t[s];return new Se(a,this._parents,this._name,this._id)}function AE(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function ME(e,t,r){var n,o,i=AE(t)?Qr:be;return function(){var a=i(this,e),s=a.on;s!==n&&(o=(n=s).copy()).on(t,r),a.on=o}}function fc(e,t){var r=this._id;return arguments.length<2?ge(this.node(),r).on.on(e):this.each(ME(r,e,t))}function TE(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function dc(){return this.on("end.remove",TE(this._id))}function hc(e){var t=this._name,r=this._id;typeof e!="function"&&(e=It(e));for(var n=this._groups,o=n.length,i=new Array(o),a=0;a<o;++a)for(var s=n[a],u=s.length,c=i[a]=new Array(u),l,f,h=0;h<u;++h)(l=s[h])&&(f=e.call(l,l.__data__,h,s))&&("__data__"in l&&(f.__data__=l.__data__),c[h]=f,dt(c[h],t,r,h,c,ge(l,r)));return new Se(i,this._parents,t,r)}function pc(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Rr(e));for(var n=this._groups,o=n.length,i=[],a=[],s=0;s<o;++s)for(var u=n[s],c=u.length,l,f=0;f<c;++f)if(l=u[f]){for(var h=e.call(l,l.__data__,f,u),p,g=ge(l,r),m=0,_=h.length;m<_;++m)(p=h[m])&&dt(p,t,r,m,h,g);i.push(h),a.push(l)}return new Se(i,a,t,r)}var OE=Qe.prototype.constructor;function gc(){return new OE(this._groups,this._parents)}function IE(e,t){var r,n,o;return function(){var i=ct(this,e),a=(this.style.removeProperty(e),ct(this,e));return i===a?null:i===r&&a===n?o:o=t(r=i,n=a)}}function mc(e){return function(){this.style.removeProperty(e)}}function PE(e,t,r){var n,o=r+"",i;return function(){var a=ct(this,e);return a===o?null:a===n?i:i=t(n=a,r)}}function kE(e,t,r){var n,o,i;return function(){var a=ct(this,e),s=r(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),ct(this,e))),a===u?null:a===n&&u===o?i:(o=u,i=t(n=a,s))}}function RE(e,t){var r,n,o,i="style."+t,a="end."+i,s;return function(){var u=be(this,e),c=u.on,l=u.value[i]==null?s||(s=mc(t)):void 0;(c!==r||o!==l)&&(n=(r=c).copy()).on(a,o=l),u.on=n}}function yc(e,t,r){var n=(e+="")=="transform"?wi:lo;return t==null?this.styleTween(e,IE(e,n)).on("end.style."+e,mc(e)):typeof t=="function"?this.styleTween(e,kE(e,n,ir(this,"style."+e,t))).each(RE(this._id,e)):this.styleTween(e,PE(e,n,t),r).on("end.style."+e,null)}function DE(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function LE(e,t,r){var n,o;function i(){var a=t.apply(this,arguments);return a!==o&&(n=(o=a)&&DE(e,a,r)),n}return i._value=t,i}function vc(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,LE(e,t,r??""))}function zE(e){return function(){this.textContent=e}}function BE(e){return function(){var t=e(this);this.textContent=t??""}}function xc(e){return this.tween("text",typeof e=="function"?BE(ir(this,"text",e)):zE(e==null?"":e+""))}function $E(e){return function(t){this.textContent=e.call(this,t)}}function FE(e){var t,r;function n(){var o=e.apply(this,arguments);return o!==r&&(t=(r=o)&&$E(o)),t}return n._value=e,n}function wc(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,FE(e))}function bc(){for(var e=this._name,t=this._id,r=fo(),n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],s=a.length,u,c=0;c<s;++c)if(u=a[c]){var l=ge(u,t);dt(u,e,r,c,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Se(n,this._parents,e,r)}function _c(){var e,t,r=this,n=r._id,o=r.size();return new Promise(function(i,a){var s={value:a},u={value:function(){--o===0&&i()}};r.each(function(){var c=be(this,n),l=c.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),c.on=t}),o===0&&i()})}var HE=0;function Se(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Ec(e){return Qe().transition(e)}function fo(){return++HE}var Je=Qe.prototype;Se.prototype=Ec.prototype={constructor:Se,select:hc,selectAll:pc,selectChild:Je.selectChild,selectChildren:Je.selectChildren,filter:cc,merge:lc,selection:gc,transition:bc,call:Je.call,nodes:Je.nodes,node:Je.node,size:Je.size,empty:Je.empty,each:Je.each,on:fc,attr:nc,attrTween:oc,style:yc,styleTween:vc,text:xc,textTween:wc,remove:dc,tween:rc,delay:ic,duration:ac,ease:sc,easeVarying:uc,end:_c,[Symbol.iterator]:Je[Symbol.iterator]};function ho(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var VE={time:null,delay:0,duration:250,ease:ho};function GE(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function Sc(e){var t,r;e instanceof Se?(t=e._id,e=e._name):(t=fo(),(r=VE).time=Wr(),e=e==null?null:e+"");for(var n=this._groups,o=n.length,i=0;i<o;++i)for(var a=n[i],s=a.length,u,c=0;c<s;++c)(u=a[c])&&dt(u,e,t,c,a,r||GE(u,t));return new Se(n,this._parents,e,t)}Qe.prototype.interrupt=tc;Qe.prototype.transition=Sc;var Jr=e=>()=>e;function Si(e,{sourceEvent:t,target:r,transform:n,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:o}})}function $e(e,t,r){this.k=e,this.x=t,this.y=r}$e.prototype={constructor:$e,scale:function(e){return e===1?this:new $e(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new $e(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ce=new $e(1,0,0);qi.prototype=$e.prototype;function qi(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ce;return e.__zoom}function po(e){e.stopImmediatePropagation()}function ar(e){e.preventDefault(),e.stopImmediatePropagation()}function UE(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function YE(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function qc(){return this.__zoom||Ce}function jE(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function KE(){return navigator.maxTouchPoints||"ontouchstart"in this}function XE(e,t,r){var n=e.invertX(t[0][0])-r[0][0],o=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],a=e.invertY(t[1][1])-r[1][1];return e.translate(o>n?(n+o)/2:Math.min(0,n)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function en(){var e=UE,t=YE,r=XE,n=jE,o=KE,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=_i,c=Ot("start","zoom","end"),l,f,h,p=500,g=150,m=0,_=10;function v(y){y.property("__zoom",qc).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",L).on("dblclick.zoom",F).filter(o).on("touchstart.zoom",D).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(y,M,b,x){var C=y.selection?y.selection():y;C.property("__zoom",qc),y!==C?E(y,M,b,x):C.interrupt().each(function(){N(this,arguments).event(x).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},v.scaleBy=function(y,M,b,x){v.scaleTo(y,function(){var C=this.__zoom.k,T=typeof M=="function"?M.apply(this,arguments):M;return C*T},b,x)},v.scaleTo=function(y,M,b,x){v.transform(y,function(){var C=t.apply(this,arguments),T=this.__zoom,k=b==null?w(C):typeof b=="function"?b.apply(this,arguments):b,z=T.invert(k),H=typeof M=="function"?M.apply(this,arguments):M;return r(A(S(T,H),k,z),C,a)},b,x)},v.translateBy=function(y,M,b,x){v.transform(y,function(){return r(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof b=="function"?b.apply(this,arguments):b),t.apply(this,arguments),a)},null,x)},v.translateTo=function(y,M,b,x,C){v.transform(y,function(){var T=t.apply(this,arguments),k=this.__zoom,z=x==null?w(T):typeof x=="function"?x.apply(this,arguments):x;return r(Ce.translate(z[0],z[1]).scale(k.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof b=="function"?-b.apply(this,arguments):-b),T,a)},x,C)};function S(y,M){return M=Math.max(i[0],Math.min(i[1],M)),M===y.k?y:new $e(M,y.x,y.y)}function A(y,M,b){var x=M[0]-b[0]*y.k,C=M[1]-b[1]*y.k;return x===y.x&&C===y.y?y:new $e(y.k,x,C)}function w(y){return[(+y[0][0]+ +y[1][0])/2,(+y[0][1]+ +y[1][1])/2]}function E(y,M,b,x){y.on("start.zoom",function(){N(this,arguments).event(x).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(x).end()}).tween("zoom",function(){var C=this,T=arguments,k=N(C,T).event(x),z=t.apply(C,T),H=b==null?w(z):typeof b=="function"?b.apply(C,T):b,K=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),G=C.__zoom,J=typeof M=="function"?M.apply(C,T):M,ne=u(G.invert(H).concat(K/G.k),J.invert(H).concat(K/J.k));return function(U){if(U===1)U=J;else{var Z=ne(U),oe=K/Z[2];U=new $e(oe,H[0]-Z[0]*oe,H[1]-Z[1]*oe)}k.zoom(null,U)}})}function N(y,M,b){return!b&&y.__zooming||new O(y,M)}function O(y,M){this.that=y,this.args=M,this.active=0,this.sourceEvent=null,this.extent=t.apply(y,M),this.taps=0}O.prototype={event:function(y){return y&&(this.sourceEvent=y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(y,M){return this.mouse&&y!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&y!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&y!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(y){var M=xe(this.that).datum();c.call(y,this.that,new Si(y,{sourceEvent:this.sourceEvent,target:v,type:y,transform:this.that.__zoom,dispatch:c}),M)}};function R(y,...M){if(!e.apply(this,arguments))return;var b=N(this,M).event(y),x=this.__zoom,C=Math.max(i[0],Math.min(i[1],x.k*Math.pow(2,n.apply(this,arguments)))),T=Ee(y);if(b.wheel)(b.mouse[0][0]!==T[0]||b.mouse[0][1]!==T[1])&&(b.mouse[1]=x.invert(b.mouse[0]=T)),clearTimeout(b.wheel);else{if(x.k===C)return;b.mouse=[T,x.invert(T)],Lt(this),b.start()}ar(y),b.wheel=setTimeout(k,g),b.zoom("mouse",r(A(S(x,C),b.mouse[0],b.mouse[1]),b.extent,a));function k(){b.wheel=null,b.end()}}function L(y,...M){if(h||!e.apply(this,arguments))return;var b=y.currentTarget,x=N(this,M,!0).event(y),C=xe(y.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",K,!0),T=Ee(y,b),k=y.clientX,z=y.clientY;zr(y.view),po(y),x.mouse=[T,this.__zoom.invert(T)],Lt(this),x.start();function H(G){if(ar(G),!x.moved){var J=G.clientX-k,ne=G.clientY-z;x.moved=J*J+ne*ne>m}x.event(G).zoom("mouse",r(A(x.that.__zoom,x.mouse[0]=Ee(G,b),x.mouse[1]),x.extent,a))}function K(G){C.on("mousemove.zoom mouseup.zoom",null),Br(G.view,x.moved),ar(G),x.event(G).end()}}function F(y,...M){if(!!e.apply(this,arguments)){var b=this.__zoom,x=Ee(y.changedTouches?y.changedTouches[0]:y,this),C=b.invert(x),T=b.k*(y.shiftKey?.5:2),k=r(A(S(b,T),x,C),t.apply(this,M),a);ar(y),s>0?xe(this).transition().duration(s).call(E,k,x,y):xe(this).call(v.transform,k,x,y)}}function D(y,...M){if(!!e.apply(this,arguments)){var b=y.touches,x=b.length,C=N(this,M,y.changedTouches.length===x).event(y),T,k,z,H;for(po(y),k=0;k<x;++k)z=b[k],H=Ee(z,this),H=[H,this.__zoom.invert(H),z.identifier],C.touch0?!C.touch1&&C.touch0[2]!==H[2]&&(C.touch1=H,C.taps=0):(C.touch0=H,T=!0,C.taps=1+!!l);l&&(l=clearTimeout(l)),T&&(C.taps<2&&(f=H[0],l=setTimeout(function(){l=null},p)),Lt(this),C.start())}}function I(y,...M){if(!!this.__zooming){var b=N(this,M).event(y),x=y.changedTouches,C=x.length,T,k,z,H;for(ar(y),T=0;T<C;++T)k=x[T],z=Ee(k,this),b.touch0&&b.touch0[2]===k.identifier?b.touch0[0]=z:b.touch1&&b.touch1[2]===k.identifier&&(b.touch1[0]=z);if(k=b.that.__zoom,b.touch1){var K=b.touch0[0],G=b.touch0[1],J=b.touch1[0],ne=b.touch1[1],U=(U=J[0]-K[0])*U+(U=J[1]-K[1])*U,Z=(Z=ne[0]-G[0])*Z+(Z=ne[1]-G[1])*Z;k=S(k,Math.sqrt(U/Z)),z=[(K[0]+J[0])/2,(K[1]+J[1])/2],H=[(G[0]+ne[0])/2,(G[1]+ne[1])/2]}else if(b.touch0)z=b.touch0[0],H=b.touch0[1];else return;b.zoom("touch",r(A(k,z,H),b.extent,a))}}function $(y,...M){if(!!this.__zooming){var b=N(this,M).event(y),x=y.changedTouches,C=x.length,T,k;for(po(y),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),T=0;T<C;++T)k=x[T],b.touch0&&b.touch0[2]===k.identifier?delete b.touch0:b.touch1&&b.touch1[2]===k.identifier&&delete b.touch1;if(b.touch1&&!b.touch0&&(b.touch0=b.touch1,delete b.touch1),b.touch0)b.touch0[1]=this.__zoom.invert(b.touch0[0]);else if(b.end(),b.taps===2&&(k=Ee(k,this),Math.hypot(f[0]-k[0],f[1]-k[1])<_)){var z=xe(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return v.wheelDelta=function(y){return arguments.length?(n=typeof y=="function"?y:Jr(+y),v):n},v.filter=function(y){return arguments.length?(e=typeof y=="function"?y:Jr(!!y),v):e},v.touchable=function(y){return arguments.length?(o=typeof y=="function"?y:Jr(!!y),v):o},v.extent=function(y){return arguments.length?(t=typeof y=="function"?y:Jr([[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]]),v):t},v.scaleExtent=function(y){return arguments.length?(i[0]=+y[0],i[1]=+y[1],v):[i[0],i[1]]},v.translateExtent=function(y){return arguments.length?(a[0][0]=+y[0][0],a[1][0]=+y[1][0],a[0][1]=+y[0][1],a[1][1]=+y[1][1],v):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},v.constrain=function(y){return arguments.length?(r=y,v):r},v.duration=function(y){return arguments.length?(s=+y,v):s},v.interpolate=function(y){return arguments.length?(u=y,v):u},v.on=function(){var y=c.on.apply(c,arguments);return y===c?v:y},v.clickDistance=function(y){return arguments.length?(m=(y=+y)*y,v):Math.sqrt(m)},v.tapDistance=function(y){return arguments.length?(_=+y,v):_},v}var WE=Me(qb()),_o=(0,q.createContext)(null),ZE=_o.Provider,et={"001":()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001","002":()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.","003":e=>`Node type "${e}" not found. Using fallback type "default".`,"004":()=>"The React Flow parent container needs a width and a height to render the graph.","005":()=>"Only child nodes can use a parent extent.","006":()=>"Can't create edge. An edge needs a source and a target.","007":e=>`The old edge with id=${e} does not exist.`,"009":e=>`Marker type "${e}" doesn't exist.`,"008":(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,"010":()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.","011":e=>`Edge type "${e}" not found. Using fallback type "default".`},jc=et["001"]();function ce(e,t){let r=(0,q.useContext)(_o);if(r===null)throw new Error(jc);return Ls(r,e,t)}var de=()=>{let e=(0,q.useContext)(_o);if(e===null)throw new Error(jc);return(0,q.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},QE=e=>e.userSelectionActive?"none":"all";function un({position:e,children:t,className:r,style:n,...o}){let i=ce(QE),a=`${e}`.split("-");return(0,P.jsx)("div",{className:pe(["react-flow__panel",r,...a]),style:{...n,pointerEvents:i},...o,children:t})}function JE({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:(0,P.jsx)(un,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,P.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}var eS=({x:e,y:t,label:r,labelStyle:n={},labelShowBg:o=!0,labelBgStyle:i={},labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:u,className:c,...l})=>{let f=(0,q.useRef)(null),[h,p]=(0,q.useState)({x:0,y:0,width:0,height:0}),g=pe(["react-flow__edge-textwrapper",c]);return(0,q.useEffect)(()=>{if(f.current){let m=f.current.getBBox();p({x:m.x,y:m.y,width:m.width,height:m.height})}},[r]),typeof r>"u"||!r?null:(0,P.jsxs)("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:g,visibility:h.width?"visible":"hidden",...l,children:[o&&(0,P.jsx)("rect",{width:h.width+2*a[0],x:-a[0],y:-a[1],height:h.height+2*a[1],className:"react-flow__edge-textbg",style:i,rx:s,ry:s}),(0,P.jsx)("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:n,children:r}),u]})},tS=(0,q.memo)(eS),$i=e=>({width:e.offsetWidth,height:e.offsetHeight}),hr=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Fi=(e={x:0,y:0},t)=>({x:hr(e.x,t[0][0],t[1][0]),y:hr(e.y,t[0][1],t[1][1])}),Nc=(e,t,r)=>e<t?hr(Math.abs(e-t),1,50)/50:e>r?-hr(Math.abs(e-r),1,50)/50:0,Kc=(e,t)=>{let r=Nc(e.x,35,t.width-35)*20,n=Nc(e.y,35,t.height-35)*20;return[r,n]},Xc=e=>e.getRootNode?.()||window?.document,Wc=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),vo=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),Zc=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),Cc=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Qc=(e,t)=>Zc(Wc(vo(e),vo(t))),Ii=(e,t)=>{let r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},rS=e=>Re(e.width)&&Re(e.height)&&Re(e.x)&&Re(e.y),Re=e=>!isNaN(e)&&isFinite(e),me=Symbol.for("internals"),Jc=["Enter"," ","Escape"],el=(e,t)=>{},nS=e=>"nativeEvent"in e;function Pi(e){let r=(nS(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return e.ctrlKey||e.metaKey||e.shiftKey?!1:["INPUT","SELECT","TEXTAREA"].includes(r?.nodeName)||r?.hasAttribute("contenteditable")||!!r?.closest(".nokey")}var tl=e=>"clientX"in e,$t=(e,t)=>{let r=tl(e),n=r?e.clientX:e.touches?.[0].clientX,o=r?e.clientY:e.touches?.[0].clientY;return{x:n-(t?.left??0),y:o-(t?.top??0)}},cn=({path:e,labelX:t,labelY:r,label:n,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:u,style:c,markerEnd:l,markerStart:f,interactionWidth:h=20})=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("path",{style:c,d:e,fill:"none",className:"react-flow__edge-path",markerEnd:l,markerStart:f}),h&&(0,P.jsx)("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),n&&Re(t)&&Re(r)?(0,P.jsx)(tS,{x:t,y:r,label:n,labelStyle:o,labelShowBg:i,labelBgStyle:a,labelBgPadding:s,labelBgBorderRadius:u}):null]});cn.displayName="BaseEdge";function tn(e,t,r){return r===void 0?r:n=>{let o=t().edges.find(i=>i.id===e);o&&r(n,{...o})}}function rl({sourceX:e,sourceY:t,targetX:r,targetY:n}){let o=Math.abs(r-e)/2,i=r<e?r+o:r-o,a=Math.abs(n-t)/2,s=n<t?n+a:n-a;return[i,s,o,a]}function nl({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:s}){let u=e*.125+o*.375+a*.375+r*.125,c=t*.125+i*.375+s*.375+n*.125,l=Math.abs(u-e),f=Math.abs(c-t);return[u,c,l,f]}var Ft;(function(e){e.Strict="strict",e.Loose="loose"})(Ft||(Ft={}));var fr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(fr||(fr={}));var an;(function(e){e.Partial="partial",e.Full="full"})(an||(an={}));var Fe;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Fe||(Fe={}));var xo;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(xo||(xo={}));var V;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(V||(V={}));function Ac({pos:e,x1:t,y1:r,x2:n,y2:o}){return e===V.Left||e===V.Right?[.5*(t+n),r]:[t,.5*(r+o)]}function ol({sourceX:e,sourceY:t,sourcePosition:r=V.Bottom,targetX:n,targetY:o,targetPosition:i=V.Top}){let[a,s]=Ac({pos:r,x1:e,y1:t,x2:n,y2:o}),[u,c]=Ac({pos:i,x1:n,y1:o,x2:e,y2:t}),[l,f,h,p]=nl({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:a,sourceControlY:s,targetControlX:u,targetControlY:c});return[`M${e},${t} C${a},${s} ${u},${c} ${n},${o}`,l,f,h,p]}var Hi=(0,q.memo)(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:o=V.Bottom,targetPosition:i=V.Top,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:g,interactionWidth:m})=>{let[_,v,S]=ol({sourceX:e,sourceY:t,sourcePosition:o,targetX:r,targetY:n,targetPosition:i});return(0,P.jsx)(cn,{path:_,labelX:v,labelY:S,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:g,interactionWidth:m})});Hi.displayName="SimpleBezierEdge";var Mc={[V.Left]:{x:-1,y:0},[V.Right]:{x:1,y:0},[V.Top]:{x:0,y:-1},[V.Bottom]:{x:0,y:1}},oS=({source:e,sourcePosition:t=V.Bottom,target:r})=>t===V.Left||t===V.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Tc=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function iS({source:e,sourcePosition:t=V.Bottom,target:r,targetPosition:n=V.Top,center:o,offset:i}){let a=Mc[t],s=Mc[n],u={x:e.x+a.x*i,y:e.y+a.y*i},c={x:r.x+s.x*i,y:r.y+s.y*i},l=oS({source:u,sourcePosition:t,target:c}),f=l.x!==0?"x":"y",h=l[f],p=[],g,m,[_,v,S,A]=rl({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(a[f]*s[f]===-1){g=o.x||_,m=o.y||v;let E=[{x:g,y:u.y},{x:g,y:c.y}],N=[{x:u.x,y:m},{x:c.x,y:m}];a[f]===h?p=f==="x"?E:N:p=f==="x"?N:E}else{let E=[{x:u.x,y:c.y}],N=[{x:c.x,y:u.y}];if(f==="x"?p=a.x===h?N:E:p=a.y===h?E:N,t!==n){let O=f==="x"?"y":"x",R=a[f]===s[O],L=u[O]>c[O],F=u[O]<c[O];(a[f]===1&&(!R&&L||R&&F)||a[f]!==1&&(!R&&F||R&&L))&&(p=f==="x"?E:N)}g=p[0].x,m=p[0].y}return[[e,u,...p,c,r],g,m,S,A]}function aS(e,t,r,n){let o=Math.min(Tc(e,t)/2,Tc(t,r)/2,n),{x:i,y:a}=t;if(e.x===i&&i===r.x||e.y===a&&a===r.y)return`L${i} ${a}`;if(e.y===a){let c=e.x<r.x?-1:1,l=e.y<r.y?1:-1;return`L ${i+o*c},${a}Q ${i},${a} ${i},${a+o*l}`}let s=e.x<r.x?1:-1,u=e.y<r.y?-1:1;return`L ${i},${a+o*u}Q ${i},${a} ${i+o*s},${a}`}function ki({sourceX:e,sourceY:t,sourcePosition:r=V.Bottom,targetX:n,targetY:o,targetPosition:i=V.Top,borderRadius:a=5,centerX:s,centerY:u,offset:c=20}){let[l,f,h,p,g]=iS({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:o},targetPosition:i,center:{x:s,y:u},offset:c});return[l.reduce((_,v,S)=>{let A="";return S>0&&S<l.length-1?A=aS(l[S-1],v,l[S+1],a):A=`${S===0?"M":"L"}${v.x} ${v.y}`,_+=A,_},""),f,h,p,g]}var Eo=(0,q.memo)(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:c,style:l,sourcePosition:f=V.Bottom,targetPosition:h=V.Top,markerEnd:p,markerStart:g,pathOptions:m,interactionWidth:_})=>{let[v,S,A]=ki({sourceX:e,sourceY:t,sourcePosition:f,targetX:r,targetY:n,targetPosition:h,borderRadius:m?.borderRadius,offset:m?.offset});return(0,P.jsx)(cn,{path:v,labelX:S,labelY:A,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:c,style:l,markerEnd:p,markerStart:g,interactionWidth:_})});Eo.displayName="SmoothStepEdge";var Vi=(0,q.memo)(e=>(0,P.jsx)(Eo,{...e,pathOptions:(0,q.useMemo)(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));Vi.displayName="StepEdge";function sS({sourceX:e,sourceY:t,targetX:r,targetY:n}){let[o,i,a,s]=rl({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,o,i,a,s]}var Gi=(0,q.memo)(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:c,style:l,markerEnd:f,markerStart:h,interactionWidth:p})=>{let[g,m,_]=sS({sourceX:e,sourceY:t,targetX:r,targetY:n});return(0,P.jsx)(cn,{path:g,labelX:m,labelY:_,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:s,labelBgPadding:u,labelBgBorderRadius:c,style:l,markerEnd:f,markerStart:h,interactionWidth:p})});Gi.displayName="StraightEdge";function go(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Oc({pos:e,x1:t,y1:r,x2:n,y2:o,c:i}){switch(e){case V.Left:return[t-go(t-n,i),r];case V.Right:return[t+go(n-t,i),r];case V.Top:return[t,r-go(r-o,i)];case V.Bottom:return[t,r+go(o-r,i)]}}function il({sourceX:e,sourceY:t,sourcePosition:r=V.Bottom,targetX:n,targetY:o,targetPosition:i=V.Top,curvature:a=.25}){let[s,u]=Oc({pos:r,x1:e,y1:t,x2:n,y2:o,c:a}),[c,l]=Oc({pos:i,x1:n,y1:o,x2:e,y2:t,c:a}),[f,h,p,g]=nl({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:c,targetControlY:l});return[`M${e},${t} C${s},${u} ${c},${l} ${n},${o}`,f,h,p,g]}var wo=(0,q.memo)(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:o=V.Bottom,targetPosition:i=V.Top,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:g,pathOptions:m,interactionWidth:_})=>{let[v,S,A]=il({sourceX:e,sourceY:t,sourcePosition:o,targetX:r,targetY:n,targetPosition:i,curvature:m?.curvature});return(0,P.jsx)(cn,{path:v,labelX:S,labelY:A,label:a,labelStyle:s,labelShowBg:u,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:g,interactionWidth:_})});wo.displayName="BezierEdge";var Ui=(0,q.createContext)(null),uS=Ui.Provider;Ui.Consumer;var cS=()=>(0,q.useContext)(Ui),lS=e=>"id"in e&&"source"in e&&"target"in e;var fS=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${r}${n||""}`,Ri=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,dS=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),Yi=(e,t)=>{if(!e.source||!e.target)return el("006",et["006"]()),t;let r;return lS(e)?r={...e}:r={...e,id:fS(e)},dS(r,t)?t:t.concat(r)};var al=({x:e,y:t},[r,n,o],i,[a,s])=>{let u={x:(e-r)/o,y:(t-n)/o};return i?{x:a*Math.round(u.x/a),y:s*Math.round(u.y/s)}:u},hS=({x:e,y:t},[r,n,o])=>({x:e*o+r,y:t*o+n}),pt=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};let r=(e.width??0)*t[0],n=(e.height??0)*t[1],o={x:e.position.x-r,y:e.position.y-n};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-n}:o}},So=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};let r=e.reduce((n,o)=>{let{x:i,y:a}=pt(o,t).positionAbsolute;return Wc(n,vo({x:i,y:a,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Zc(r)},sl=(e,t,[r,n,o]=[0,0,1],i=!1,a=!1,s=[0,0])=>{let u={x:(t.x-r)/o,y:(t.y-n)/o,width:t.width/o,height:t.height/o},c=[];return e.forEach(l=>{let{width:f,height:h,selectable:p=!0,hidden:g=!1}=l;if(a&&!p||g)return!1;let{positionAbsolute:m}=pt(l,s),_={x:m.x,y:m.y,width:f||0,height:h||0},v=Ii(u,_),S=typeof f>"u"||typeof h>"u"||f===null||h===null,A=i&&v>0,w=(f||0)*(h||0);(S||A||v>=w||l.dragging)&&c.push(l)}),c},ul=(e,t)=>{let r=e.map(n=>n.id);return t.filter(n=>r.includes(n.source)||r.includes(n.target))},cl=(e,t,r,n,o,i=.1)=>{let a=t/(e.width*(1+i)),s=r/(e.height*(1+i)),u=Math.min(a,s),c=hr(u,n,o),l=e.x+e.width/2,f=e.y+e.height/2,h=t/2-l*c,p=r/2-f*c;return[h,p,c]},Bt=(e,t=0)=>e.transition().duration(t);function Ic(e,t,r,n){return(t[r]||[]).reduce((o,i)=>(`${e.id}-${i.id}-${r}`!==n&&o.push({id:i.id||null,type:r,nodeId:e.id,x:(e.positionAbsolute?.x??0)+i.x+i.width/2,y:(e.positionAbsolute?.y??0)+i.y+i.height/2}),o),[])}function pS(e,t,r){let n=null,o=1/0;return r.forEach(i=>{let a=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2));a<=t&&a<o&&(o=a,n=i)}),n}function Di(e,t,r,n,o,i,a){let s=o==="target",u=a.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),c={handleDomNode:u,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null}};if(u){let l=e.type==="target",f=e.type==="source",h=u.getAttribute("data-nodeid"),p=u.getAttribute("data-handleid"),g={source:s?e.nodeId:r,sourceHandle:s?e.id:n,target:s?r:e.nodeId,targetHandle:s?n:e.id};c.connection=g,(t===Ft.Strict?s&&f||!s&&l:h!==r||p!==n)&&(c.isValid=i(g))}return c}function gS({nodes:e,nodeId:t,handleId:r,handleType:n}){return e.reduce((o,i)=>{if(i[me]){let{handleBounds:a}=i[me],s=[],u=[];a&&(s=Ic(i,a,"source",`${t}-${r}-${n}`),u=Ic(i,a,"target",`${t}-${r}-${n}`)),o.push(...s,...u)}return o},[])}function mS(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function Ni(e){e?.classList.remove("react-flow__handle-valid"),e?.classList.remove("react-flow__handle-connecting")}function ll({event:e,handleId:t,nodeId:r,onConnect:n,isTarget:o,getState:i,setState:a,isValidConnection:s,edgeUpdaterType:u,onEdgeUpdateEnd:c}){let l=Xc(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:p,connectionRadius:g,onConnectStart:m,onConnectEnd:_,panBy:v,getNodes:S,cancelConnection:A}=i(),w=0,E,{x:N,y:O}=$t(e),R=l?.elementFromPoint(N,O),L=mS(u,R),F=h?.getBoundingClientRect();if(!F||!L)return;let D,I=$t(e,F),$=!1,y=gS({nodes:S(),nodeId:r,handleId:t,handleType:L}),M=()=>{if(!p)return;let[C,T]=Kc(I,F);v({x:C,y:T}),w=requestAnimationFrame(M)};a({connectionPosition:I,connectionNodeId:r,connectionHandleId:t,connectionHandleType:L}),m?.(e,{nodeId:r,handleId:t,handleType:L});function b(C){let{transform:T}=i();if(I=$t(C,F),E=pS(al(I,T,!1,[1,1]),g,y),$||(M(),$=!0),a({connectionPosition:E?hS({x:E.x,y:E.y},T):I}),!E)return Ni(D);let{connection:k,handleDomNode:z,isValid:H}=Di(E,f,r,t,o?"target":"source",s,l);k.source!==k.target&&z&&(Ni(D),D=z,z.classList.add("react-flow__handle-connecting"),z.classList.toggle("react-flow__handle-valid",H))}function x(C){if(cancelAnimationFrame(w),$=!1,E){let{connection:T,isValid:k}=Di(E,f,r,t,o?"target":"source",s,l);k&&n?.(T)}_?.(C),u&&c?.(C),Ni(D),A(),l.removeEventListener("mousemove",b),l.removeEventListener("mouseup",x),l.removeEventListener("touchmove",b),l.removeEventListener("touchend",x)}l.addEventListener("mousemove",b),l.addEventListener("mouseup",x),l.addEventListener("touchmove",b),l.addEventListener("touchend",x)}var yS=()=>!0,vS=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),fl=(0,q.forwardRef)(({type:e="source",position:t=V.Top,isValidConnection:r=yS,isConnectable:n=!0,id:o,onConnect:i,children:a,className:s,onMouseDown:u,onTouchStart:c,...l},f)=>{let h=de(),p=cS();if(!p)return h.getState().onError?.("010",et["010"]()),null;let{connectionStartHandle:g,connectOnClick:m,noPanClassName:_}=ce(vS,_e),v=o||null,S=e==="target",A=N=>{let{defaultEdgeOptions:O,onConnect:R,hasDefaultEdges:L}=h.getState(),F={...O,...N};if(L){let{edges:D}=h.getState();h.setState({edges:Yi(F,D)})}R?.(F),i?.(F)},w=N=>{let O=tl(N);(O&&N.button===0||!O)&&ll({event:N,handleId:v,nodeId:p,onConnect:A,isTarget:S,getState:h.getState,setState:h.setState,isValidConnection:r}),O?u?.(N):c?.(N)},E=N=>{let{onClickConnectStart:O,onClickConnectEnd:R,connectionMode:L}=h.getState();if(!g){O?.(N,{nodeId:p,handleId:v,handleType:e}),h.setState({connectionStartHandle:{nodeId:p,type:e,handleId:v}});return}let F=Xc(N.target),{connection:D,isValid:I}=Di({nodeId:p,id:v,type:e},L,g.nodeId,g.handleId||null,g.type,r,F);I&&A(D),R?.(N),h.setState({connectionStartHandle:null})};return(0,P.jsx)("div",{"data-handleid":v,"data-nodeid":p,"data-handlepos":t,"data-id":`${p}-${v}-${e}`,className:pe(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",_,s,{source:!S,target:S,connectable:n,connecting:g?.nodeId===p&&g?.handleId===v&&g?.type===e}]),onMouseDown:w,onTouchStart:w,onClick:m?E:void 0,ref:f,...l,children:a})});fl.displayName="Handle";var bo=(0,q.memo)(fl),dl=({data:e,isConnectable:t,targetPosition:r=V.Top,sourcePosition:n=V.Bottom})=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(bo,{type:"target",position:r,isConnectable:t}),e?.label,(0,P.jsx)(bo,{type:"source",position:n,isConnectable:t})]});dl.displayName="DefaultNode";var Li=(0,q.memo)(dl),hl=({data:e,isConnectable:t,sourcePosition:r=V.Bottom})=>(0,P.jsxs)(P.Fragment,{children:[e?.label,(0,P.jsx)(bo,{type:"source",position:r,isConnectable:t})]});hl.displayName="InputNode";var pl=(0,q.memo)(hl),gl=({data:e,isConnectable:t,targetPosition:r=V.Top})=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(bo,{type:"target",position:r,isConnectable:t}),e?.label]});gl.displayName="OutputNode";var ml=(0,q.memo)(gl),ji=()=>null;ji.displayName="GroupNode";var xS=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),mo=e=>e.id;function wS(e,t){return _e(e.selectedNodes.map(mo),t.selectedNodes.map(mo))&&_e(e.selectedEdges.map(mo),t.selectedEdges.map(mo))}var yl=(0,q.memo)(({onSelectionChange:e})=>{let t=de(),{selectedNodes:r,selectedEdges:n}=ce(xS,wS);return(0,q.useEffect)(()=>{let o={nodes:r,edges:n};e?.(o),t.getState().onSelectionChange?.(o)},[r,n,e]),null});yl.displayName="SelectionListener";var bS=e=>!!e.onSelectionChange;function _S({onSelectionChange:e}){let t=ce(bS);return e||t?(0,P.jsx)(yl,{onSelectionChange:e}):null}var ES=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function sr(e,t){(0,q.useEffect)(()=>{typeof e<"u"&&t(e)},[e])}function Q(e,t,r){(0,q.useEffect)(()=>{typeof t<"u"&&r({[e]:t})},[t])}var SS=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:o,onConnectStart:i,onConnectEnd:a,onClickConnectStart:s,onClickConnectEnd:u,nodesDraggable:c,nodesConnectable:l,nodesFocusable:f,edgesFocusable:h,elevateNodesOnSelect:p,minZoom:g,maxZoom:m,nodeExtent:_,onNodesChange:v,onEdgesChange:S,elementsSelectable:A,connectionMode:w,snapGrid:E,snapToGrid:N,translateExtent:O,connectOnClick:R,defaultEdgeOptions:L,fitView:F,fitViewOptions:D,onNodesDelete:I,onEdgesDelete:$,onNodeDrag:y,onNodeDragStart:M,onNodeDragStop:b,onSelectionDrag:x,onSelectionDragStart:C,onSelectionDragStop:T,noPanClassName:k,nodeOrigin:z,rfId:H,autoPanOnConnect:K,autoPanOnNodeDrag:G,onError:J,connectionRadius:ne})=>{let{setNodes:U,setEdges:Z,setDefaultNodesAndEdges:oe,setMinZoom:ue,setMaxZoom:ye,setTranslateExtent:ve,setNodeExtent:ie,reset:we}=ce(ES,_e),B=de();return(0,q.useEffect)(()=>{let he=n?.map(Pe=>({...Pe,...L}));return oe(r,he),()=>{we()}},[]),Q("defaultEdgeOptions",L,B.setState),Q("connectionMode",w,B.setState),Q("onConnect",o,B.setState),Q("onConnectStart",i,B.setState),Q("onConnectEnd",a,B.setState),Q("onClickConnectStart",s,B.setState),Q("onClickConnectEnd",u,B.setState),Q("nodesDraggable",c,B.setState),Q("nodesConnectable",l,B.setState),Q("nodesFocusable",f,B.setState),Q("edgesFocusable",h,B.setState),Q("elementsSelectable",A,B.setState),Q("elevateNodesOnSelect",p,B.setState),Q("snapToGrid",N,B.setState),Q("snapGrid",E,B.setState),Q("onNodesChange",v,B.setState),Q("onEdgesChange",S,B.setState),Q("connectOnClick",R,B.setState),Q("fitViewOnInit",F,B.setState),Q("fitViewOnInitOptions",D,B.setState),Q("onNodesDelete",I,B.setState),Q("onEdgesDelete",$,B.setState),Q("onNodeDrag",y,B.setState),Q("onNodeDragStart",M,B.setState),Q("onNodeDragStop",b,B.setState),Q("onSelectionDrag",x,B.setState),Q("onSelectionDragStart",C,B.setState),Q("onSelectionDragStop",T,B.setState),Q("noPanClassName",k,B.setState),Q("nodeOrigin",z,B.setState),Q("rfId",H,B.setState),Q("autoPanOnConnect",K,B.setState),Q("autoPanOnNodeDrag",G,B.setState),Q("onError",J,B.setState),Q("connectionRadius",ne,B.setState),sr(e,U),sr(t,Z),sr(g,ue),sr(m,ye),sr(O,ve),sr(_,ie),null},Pc={display:"none"},qS={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},vl="react-flow__node-desc",xl="react-flow__edge-desc",NS="react-flow__aria-live",CS=e=>e.ariaLiveMessage;function AS({rfId:e}){let t=ce(CS);return(0,P.jsx)("div",{id:`${NS}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:qS,children:t})}function MS({rfId:e,disableKeyboardA11y:t}){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{id:`${vl}-${e}`,style:Pc,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),(0,P.jsx)("div",{id:`${xl}-${e}`,style:Pc,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&(0,P.jsx)(AS,{rfId:e})]})}var TS=(e,t,r)=>r===V.Left?e-t:r===V.Right?e+t:e,OS=(e,t,r)=>r===V.Top?e-t:r===V.Bottom?e+t:e,kc="react-flow__edgeupdater",Rc=({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:o,onMouseEnter:i,onMouseOut:a,type:s})=>(0,P.jsx)("circle",{onMouseDown:o,onMouseEnter:i,onMouseOut:a,className:pe([kc,`${kc}-${s}`]),cx:TS(t,n,e),cy:OS(r,n,e),r:n,stroke:"transparent",fill:"transparent"}),ur=e=>{let t=({id:r,className:n,type:o,data:i,onClick:a,onEdgeDoubleClick:s,selected:u,animated:c,label:l,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:m,style:_,source:v,target:S,sourceX:A,sourceY:w,targetX:E,targetY:N,sourcePosition:O,targetPosition:R,elementsSelectable:L,hidden:F,sourceHandleId:D,targetHandleId:I,onContextMenu:$,onMouseEnter:y,onMouseMove:M,onMouseLeave:b,edgeUpdaterRadius:x,onEdgeUpdate:C,onEdgeUpdateStart:T,onEdgeUpdateEnd:k,markerEnd:z,markerStart:H,rfId:K,ariaLabel:G,isFocusable:J,pathOptions:ne,interactionWidth:U})=>{let Z=(0,q.useRef)(null),[oe,ue]=(0,q.useState)(!1),[ye,ve]=(0,q.useState)(!1),ie=de(),we=(0,q.useMemo)(()=>`url(#${Ri(H,K)})`,[H,K]),B=(0,q.useMemo)(()=>`url(#${Ri(z,K)})`,[z,K]);if(F)return null;let he=Ae=>{let{edges:Ve,addSelectedEdges:At}=ie.getState();if(L&&(ie.setState({nodesSelectionActive:!1}),At([r])),a){let Mt=Ve.find(ut=>ut.id===r);a(Ae,Mt)}},Pe=tn(r,ie.getState,s),Xe=tn(r,ie.getState,$),qt=tn(r,ie.getState,y),Nt=tn(r,ie.getState,M),Ct=tn(r,ie.getState,b),at=(Ae,Ve)=>{let At=Ve?S:v,Mt=(Ve?I:D)||null,ut=Ve?"target":"source",Ir=()=>!0,oi=Ve,Pr=ie.getState().edges.find(Tt=>Tt.id===r);ve(!0),T?.(Ae,Pr,ut);let ii=Tt=>{ve(!1),k?.(Tt,Pr,ut)};ll({event:Ae,handleId:Mt,nodeId:At,onConnect:Tt=>C?.(Pr,Tt),isTarget:oi,getState:ie.getState,setState:ie.setState,isValidConnection:Ir,edgeUpdaterType:ut,onEdgeUpdateEnd:ii})},Zt=Ae=>at(Ae,!0),st=Ae=>at(Ae,!1),Qt=()=>ue(!0),We=()=>ue(!1),Tr=!L&&!a,Or=typeof C<"u",Jt=Ae=>{if(Jc.includes(Ae.key)&&L){let{unselectNodesAndEdges:Ve,addSelectedEdges:At,edges:Mt}=ie.getState();Ae.key==="Escape"?(Z.current?.blur(),Ve({edges:[Mt.find(Ir=>Ir.id===r)]})):At([r])}};return(0,P.jsxs)("g",{className:pe(["react-flow__edge",`react-flow__edge-${o}`,n,{selected:u,animated:c,inactive:Tr,updating:oe}]),onClick:he,onDoubleClick:Pe,onContextMenu:Xe,onMouseEnter:qt,onMouseMove:Nt,onMouseLeave:Ct,onKeyDown:J?Jt:void 0,tabIndex:J?0:void 0,role:J?"button":void 0,"data-testid":`rf__edge-${r}`,"aria-label":G===null?void 0:G||`Edge from ${v} to ${S}`,"aria-describedby":J?`${xl}-${K}`:void 0,ref:Z,children:[!ye&&(0,P.jsx)(e,{id:r,source:v,target:S,selected:u,animated:c,label:l,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:g,labelBgBorderRadius:m,data:i,style:_,sourceX:A,sourceY:w,targetX:E,targetY:N,sourcePosition:O,targetPosition:R,sourceHandleId:D,targetHandleId:I,markerStart:we,markerEnd:B,pathOptions:ne,interactionWidth:U}),Or&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Rc,{position:O,centerX:A,centerY:w,radius:x,onMouseDown:Zt,onMouseEnter:Qt,onMouseOut:We,type:"source"}),(0,P.jsx)(Rc,{position:R,centerX:E,centerY:N,radius:x,onMouseDown:st,onMouseEnter:Qt,onMouseOut:We,type:"target"})]})]})};return t.displayName="EdgeWrapper",(0,q.memo)(t)};function IS(e){let t={default:ur(e.default||wo),straight:ur(e.bezier||Gi),step:ur(e.step||Vi),smoothstep:ur(e.step||Eo),simplebezier:ur(e.simplebezier||Hi)},r={},n=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,i)=>(o[i]=ur(e[i]||wo),o),r);return{...t,...n}}function Dc(e,t,r=null){let n=(r?.x||0)+t.x,o=(r?.y||0)+t.y,i=r?.width||t.width,a=r?.height||t.height;switch(e){case V.Top:return{x:n+i/2,y:o};case V.Right:return{x:n+i,y:o+a/2};case V.Bottom:return{x:n+i/2,y:o+a};case V.Left:return{x:n,y:o+a/2}}}function Lc(e,t){return e?t?e.find(r=>r.id===t):e.length===1?e[0]:null:null}var PS=(e,t,r,n,o,i)=>{let a=Dc(r,e,t),s=Dc(i,n,o);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}};function kS({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:n,targetWidth:o,targetHeight:i,width:a,height:s,transform:u}){let c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+o),y2:Math.max(e.y+n,t.y+i)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);let l=vo({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:a/u[2],height:s/u[2]}),f=Math.max(0,Math.min(l.x2,c.x2)-Math.max(l.x,c.x)),h=Math.max(0,Math.min(l.y2,c.y2)-Math.max(l.y,c.y));return Math.ceil(f*h)>0}function zc(e){let t=e?.[me]?.handleBounds||null,r=t&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!r]}function wl(e,t){if(!e.parentNode)return!1;let r=t.get(e.parentNode);return r?r.selected?!0:wl(r,t):!1}function Bc(e,t,r){let n=e;do{if(n?.matches(t))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function RS(e,t,r){return Array.from(e.values()).filter(n=>(n.selected||n.id===r)&&(!n.parentNode||!wl(n,e))).map(n=>({id:n.id,position:n.position||{x:0,y:0},positionAbsolute:n.positionAbsolute||{x:0,y:0},distance:{x:t.x-(n.positionAbsolute?.x??0),y:t.y-(n.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:n.extent,parentNode:n.parentNode,width:n.width,height:n.height}))}function bl(e,t,r,n,o=[0,0],i){let a=e.extent||n;if(e.extent==="parent")if(e.parentNode&&e.width&&e.height){let c=r.get(e.parentNode),{x:l,y:f}=pt(c,o).positionAbsolute;a=c&&Re(l)&&Re(f)&&Re(c.width)&&Re(c.height)?[[l+e.width*o[0],f+e.height*o[1]],[l+c.width-e.width+e.width*o[0],f+c.height-e.height+e.height*o[1]]]:a}else i?.("005",et["005"]()),a=n;else if(e.extent&&e.parentNode){let c=r.get(e.parentNode),{x:l,y:f}=pt(c,o).positionAbsolute;a=[[e.extent[0][0]+l,e.extent[0][1]+f],[e.extent[1][0]+l,e.extent[1][1]+f]]}let s={x:0,y:0};if(e.parentNode){let c=r.get(e.parentNode);s=pt(c,o).positionAbsolute}let u=a?Fi(t,a):t;return{position:{x:u.x-s.x,y:u.y-s.y},positionAbsolute:u}}function Ci({nodeId:e,dragItems:t,nodeInternals:r}){let n=t.map(o=>({...r.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?n.find(o=>o.id===e):n[0],n]}var $c=(e,t,r,n)=>{let o=t.querySelectorAll(e);if(!o||!o.length)return null;let i=Array.from(o),a=t.getBoundingClientRect(),s={x:a.width*n[0],y:a.height*n[1]};return i.map(u=>{let c=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(c.left-a.left-s.x)/r,y:(c.top-a.top-s.y)/r,...$i(u)}})};function rn(e,t,r){return r===void 0?r:n=>{let o=t().nodeInternals.get(e);r(n,{...o})}}function zi({id:e,store:t,unselect:r=!1}){let{addSelectedNodes:n,unselectNodesAndEdges:o,multiSelectionActive:i,nodeInternals:a}=t.getState(),s=a.get(e);t.setState({nodesSelectionActive:!1}),s.selected?(r||s.selected&&i)&&o({nodes:[s]}):n([e])}function DS(){let e=de();return(0,q.useCallback)(({sourceEvent:r})=>{let{transform:n,snapGrid:o,snapToGrid:i}=e.getState(),a=r.touches?r.touches[0].clientX:r.clientX,s=r.touches?r.touches[0].clientY:r.clientY,u={x:(a-n[0])/n[2],y:(s-n[1])/n[2]};return{xSnapped:i?o[0]*Math.round(u.x/o[0]):u.x,ySnapped:i?o[1]*Math.round(u.y/o[1]):u.y,...u}},[])}function Ai(e){return(t,r,n)=>e?.(t,n)}function _l({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:o,isSelectable:i,selectNodesOnDrag:a}){let s=de(),[u,c]=(0,q.useState)(!1),l=(0,q.useRef)([]),f=(0,q.useRef)({x:null,y:null}),h=(0,q.useRef)(0),p=(0,q.useRef)(null),g=(0,q.useRef)({x:0,y:0}),m=(0,q.useRef)(null),_=(0,q.useRef)(!1),v=DS();return(0,q.useEffect)(()=>{if(e?.current){let S=xe(e.current),A=({x:E,y:N})=>{let{nodeInternals:O,onNodeDrag:R,onSelectionDrag:L,updateNodePositions:F,nodeExtent:D,snapGrid:I,snapToGrid:$,nodeOrigin:y,onError:M}=s.getState();f.current={x:E,y:N};let b=!1;if(l.current=l.current.map(C=>{let T={x:E-C.distance.x,y:N-C.distance.y};$&&(T.x=I[0]*Math.round(T.x/I[0]),T.y=I[1]*Math.round(T.y/I[1]));let k=bl(C,T,O,D,y,M);return b=b||C.position.x!==k.position.x||C.position.y!==k.position.y,C.position=k.position,C.positionAbsolute=k.positionAbsolute,C}),!b)return;F(l.current,!0,!0),c(!0);let x=o?R:Ai(L);if(x&&m.current){let[C,T]=Ci({nodeId:o,dragItems:l.current,nodeInternals:O});x(m.current,C,T)}},w=()=>{if(!p.current)return;let[E,N]=Kc(g.current,p.current);if(E!==0||N!==0){let{transform:O,panBy:R}=s.getState();f.current.x=(f.current.x??0)-E/O[2],f.current.y=(f.current.y??0)-N/O[2],A(f.current),R({x:E,y:N})}h.current=requestAnimationFrame(w)};if(t)S.on(".drag",null);else{let E=fi().on("start",N=>{let{nodeInternals:O,multiSelectionActive:R,unselectNodesAndEdges:L,onNodeDragStart:F,onSelectionDragStart:D,domNode:I}=s.getState(),$=o?F:Ai(D);!a&&!R&&o&&(O.get(o)?.selected||L()),o&&i&&a&&zi({id:o,store:s});let y=v(N);if(f.current=y,l.current=RS(O,y,o),$&&l.current){let[M,b]=Ci({nodeId:o,dragItems:l.current,nodeInternals:O});$(N.sourceEvent,M,b)}p.current=I?.getBoundingClientRect()||null,g.current=$t(N.sourceEvent,p.current)}).on("drag",N=>{let O=v(N),{autoPanOnNodeDrag:R}=s.getState();!_.current&&R&&(_.current=!0,w()),(f.current.x!==O.xSnapped||f.current.y!==O.ySnapped)&&l.current&&(m.current=N.sourceEvent,g.current=$t(N.sourceEvent,p.current),A(O))}).on("end",N=>{if(c(!1),_.current=!1,cancelAnimationFrame(h.current),l.current){let{updateNodePositions:O,nodeInternals:R,onNodeDragStop:L,onSelectionDragStop:F}=s.getState(),D=o?L:Ai(F);if(O(l.current,!1,!1),D){let[I,$]=Ci({nodeId:o,dragItems:l.current,nodeInternals:R});D(N.sourceEvent,I,$)}}}).filter(N=>{let O=N.target;return!N.button&&(!r||!Bc(O,`.${r}`,e))&&(!n||Bc(O,n,e))});return S.call(E),()=>{S.on(".drag",null)}}}},[e,t,r,n,i,s,o,a,v]),u}function El(){let e=de();return(0,q.useCallback)(r=>{let{nodeInternals:n,nodeExtent:o,updateNodePositions:i,getNodes:a,snapToGrid:s,snapGrid:u,onError:c}=e.getState(),l=a().filter(v=>v.selected),f=s?u[0]:5,h=s?u[1]:5,p=r.isShiftPressed?4:1,g=r.x*f*p,m=r.y*h*p,_=l.map(v=>{if(v.positionAbsolute){let S={x:v.positionAbsolute.x+g,y:v.positionAbsolute.y+m};s&&(S.x=u[0]*Math.round(S.x/u[0]),S.y=u[1]*Math.round(S.y/u[1]));let{positionAbsolute:A,position:w}=bl(v,S,n,o,void 0,c);v.position=w,v.positionAbsolute=A}return v});i(_,!0,!1)},[])}var dr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},nn=e=>{let t=({id:r,type:n,data:o,xPos:i,yPos:a,xPosOrigin:s,yPosOrigin:u,selected:c,onClick:l,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onContextMenu:g,onDoubleClick:m,style:_,className:v,isDraggable:S,isSelectable:A,isConnectable:w,isFocusable:E,selectNodesOnDrag:N,sourcePosition:O,targetPosition:R,hidden:L,resizeObserver:F,dragHandle:D,zIndex:I,isParent:$,noDragClassName:y,noPanClassName:M,initialized:b,disableKeyboardA11y:x,ariaLabel:C,rfId:T})=>{let k=de(),z=(0,q.useRef)(null),H=(0,q.useRef)(O),K=(0,q.useRef)(R),G=(0,q.useRef)(n),J=A||S||l||f||h||p,ne=El(),U=rn(r,k.getState,f),Z=rn(r,k.getState,h),oe=rn(r,k.getState,p),ue=rn(r,k.getState,g),ye=rn(r,k.getState,m),ve=B=>{if(A&&(!N||!S)&&zi({id:r,store:k}),l){let he=k.getState().nodeInternals.get(r);l(B,{...he})}},ie=B=>{if(!Pi(B))if(Jc.includes(B.key)&&A){let he=B.key==="Escape";he&&z.current?.blur(),zi({id:r,store:k,unselect:he})}else!x&&S&&c&&Object.prototype.hasOwnProperty.call(dr,B.key)&&(k.setState({ariaLiveMessage:`Moved selected node ${B.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~a}`}),ne({x:dr[B.key].x,y:dr[B.key].y,isShiftPressed:B.shiftKey}))};(0,q.useEffect)(()=>{if(z.current&&!L){let B=z.current;return F?.observe(B),()=>F?.unobserve(B)}},[L]),(0,q.useEffect)(()=>{let B=G.current!==n,he=H.current!==O,Pe=K.current!==R;z.current&&(B||he||Pe)&&(B&&(G.current=n),he&&(H.current=O),Pe&&(K.current=R),k.getState().updateNodeDimensions([{id:r,nodeElement:z.current,forceUpdate:!0}]))},[r,n,O,R]);let we=_l({nodeRef:z,disabled:L||!S,noDragClassName:y,handleSelector:D,nodeId:r,isSelectable:A,selectNodesOnDrag:N});return L?null:(0,P.jsx)("div",{className:pe(["react-flow__node",`react-flow__node-${n}`,{[M]:S},v,{selected:c,selectable:A,parent:$,dragging:we}]),ref:z,style:{zIndex:I,transform:`translate(${s}px,${u}px)`,pointerEvents:J?"all":"none",visibility:b?"visible":"hidden",..._},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:U,onMouseMove:Z,onMouseLeave:oe,onContextMenu:ue,onClick:ve,onDoubleClick:ye,onKeyDown:E?ie:void 0,tabIndex:E?0:void 0,role:E?"button":void 0,"aria-describedby":x?void 0:`${vl}-${T}`,"aria-label":C,children:(0,P.jsx)(uS,{value:r,children:(0,P.jsx)(e,{id:r,data:o,type:n,xPos:i,yPos:a,selected:c,isConnectable:w,sourcePosition:O,targetPosition:R,dragging:we,dragHandle:D,zIndex:I})})})};return t.displayName="NodeWrapper",(0,q.memo)(t)};function LS(e){let t={input:nn(e.input||pl),default:nn(e.default||Li),output:nn(e.output||ml),group:nn(e.group||ji)},r={},n=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,i)=>(o[i]=nn(e[i]||Li),o),r);return{...t,...n}}var zS=({x:e,y:t,width:r,height:n,origin:o})=>!r||!n?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-r*o[0],y:t-n*o[1]},BS=typeof document<"u"?document:null,sn=(e=null,t={target:BS})=>{let[r,n]=(0,q.useState)(!1),o=(0,q.useRef)(new Set([])),[i,a]=(0,q.useMemo)(()=>{if(e!==null){let u=(Array.isArray(e)?e:[e]).filter(l=>typeof l=="string").map(l=>l.split("+")),c=u.reduce((l,f)=>l.concat(...f),[]);return[u,c]}return[[],[]]},[e]);return(0,q.useEffect)(()=>{if(e!==null){let s=l=>{if(Pi(l))return!1;let f=Hc(l.code,a);o.current.add(l[f]),Fc(i,o.current,!1)&&(l.preventDefault(),n(!0))},u=l=>{if(Pi(l))return!1;let f=Hc(l.code,a);Fc(i,o.current,!0)?(n(!1),o.current.clear()):o.current.delete(l[f])},c=()=>{o.current.clear(),n(!1)};return t?.target?.addEventListener("keydown",s),t?.target?.addEventListener("keyup",u),window.addEventListener("blur",c),()=>{t?.target?.removeEventListener("keydown",s),t?.target?.removeEventListener("keyup",u),window.removeEventListener("blur",c)}}},[e,n]),r};function Fc(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(o=>t.has(o)))}function Hc(e,t){return t.includes(e)?"code":"key"}function Sl(e,t,r,n){if(!e.parentNode)return r;let o=t.get(e.parentNode),i=pt(o,n);return Sl(o,t,{x:(r.x??0)+i.x,y:(r.y??0)+i.y,z:(o[me]?.z??0)>(r.z??0)?o[me]?.z??0:r.z??0},n)}function ql(e,t,r){e.forEach(n=>{if(n.parentNode&&!e.has(n.parentNode))throw new Error(`Parent node ${n.parentNode} not found`);if(n.parentNode||r?.[n.id]){let{x:o,y:i,z:a}=Sl(n,e,{...n.position,z:n[me]?.z??0},t);n.positionAbsolute={x:o,y:i},n[me].z=a,r?.[n.id]&&(n[me].isParent=!0)}})}function Mi(e,t,r,n){let o=new Map,i={},a=n?1e3:0;return e.forEach(s=>{let u=(Re(s.zIndex)?s.zIndex:0)+(s.selected?a:0),c=t.get(s.id),l={width:c?.width,height:c?.height,...s,positionAbsolute:{x:s.position.x,y:s.position.y}};s.parentNode&&(l.parentNode=s.parentNode,i[s.parentNode]=!0),Object.defineProperty(l,me,{enumerable:!1,value:{handleBounds:c?.[me]?.handleBounds,z:u}}),o.set(s.id,l)}),ql(o,r,i),o}function Nl(e,t={}){let{getNodes:r,width:n,height:o,minZoom:i,maxZoom:a,d3Zoom:s,d3Selection:u,fitViewOnInitDone:c,fitViewOnInit:l,nodeOrigin:f}=e();if((t.initial&&!c&&l||!t.initial)&&s&&u){let h=r().filter(g=>t.includeHiddenNodes?g.width&&g.height:!g.hidden),p=h.every(g=>g.width&&g.height);if(h.length>0&&p){let g=So(h,f),[m,_,v]=cl(g,n,o,t.minZoom??i,t.maxZoom??a,t.padding??.1),S=Ce.translate(m,_).scale(v);return typeof t.duration=="number"&&t.duration>0?s.transform(Bt(u,t.duration),S):s.transform(u,S),!0}}return!1}function $S(e,t){return e.forEach(r=>{let n=t.get(r.id);n&&t.set(n.id,{...n,[me]:n[me],selected:r.selected})}),new Map(t)}function FS(e,t){return t.map(r=>{let n=e.find(o=>o.id===r.id);return n&&(r.selected=n.selected),r})}function yo({changedNodes:e,changedEdges:t,get:r,set:n}){let{nodeInternals:o,edges:i,onNodesChange:a,onEdgesChange:s,hasDefaultNodes:u,hasDefaultEdges:c}=r();e?.length&&(u&&n({nodeInternals:$S(e,o)}),a?.(e)),t?.length&&(c&&n({edges:FS(t,i)}),s?.(t))}var zt=()=>{},HS={zoomIn:zt,zoomOut:zt,zoomTo:zt,getZoom:()=>1,setViewport:zt,getViewport:()=>({x:0,y:0,zoom:1}),fitView:zt,setCenter:zt,fitBounds:zt,project:e=>e,viewportInitialized:!1},VS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),GS=()=>{let e=de(),{d3Zoom:t,d3Selection:r}=ce(VS,_e);return(0,q.useMemo)(()=>r&&t?{zoomIn:o=>t.scaleBy(Bt(r,o?.duration),1.2),zoomOut:o=>t.scaleBy(Bt(r,o?.duration),1/1.2),zoomTo:(o,i)=>t.scaleTo(Bt(r,i?.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,i)=>{let[a,s,u]=e.getState().transform,c=Ce.translate(o.x??a,o.y??s).scale(o.zoom??u);t.transform(Bt(r,i?.duration),c)},getViewport:()=>{let[o,i,a]=e.getState().transform;return{x:o,y:i,zoom:a}},fitView:o=>Nl(e.getState,o),setCenter:(o,i,a)=>{let{width:s,height:u,maxZoom:c}=e.getState(),l=typeof a?.zoom<"u"?a.zoom:c,f=s/2-o*l,h=u/2-i*l,p=Ce.translate(f,h).scale(l);t.transform(Bt(r,a?.duration),p)},fitBounds:(o,i)=>{let{width:a,height:s,minZoom:u,maxZoom:c}=e.getState(),[l,f,h]=cl(o,a,s,u,c,i?.padding??.1),p=Ce.translate(l,f).scale(h);t.transform(Bt(r,i?.duration),p)},project:o=>{let{transform:i,snapToGrid:a,snapGrid:s}=e.getState();return al(o,i,a,s)},viewportInitialized:!0}:HS,[t,r])};function qo(){let e=GS(),t=de(),r=(0,q.useCallback)(()=>t.getState().getNodes().map(m=>({...m})),[]),n=(0,q.useCallback)(m=>t.getState().nodeInternals.get(m),[]),o=(0,q.useCallback)(()=>{let{edges:m=[]}=t.getState();return m.map(_=>({..._}))},[]),i=(0,q.useCallback)(m=>{let{edges:_=[]}=t.getState();return _.find(v=>v.id===m)},[]),a=(0,q.useCallback)(m=>{let{getNodes:_,setNodes:v,hasDefaultNodes:S,onNodesChange:A}=t.getState(),w=_(),E=typeof m=="function"?m(w):m;if(S)v(E);else if(A){let N=E.length===0?w.map(O=>({type:"remove",id:O.id})):E.map(O=>({item:O,type:"reset"}));A(N)}},[]),s=(0,q.useCallback)(m=>{let{edges:_=[],setEdges:v,hasDefaultEdges:S,onEdgesChange:A}=t.getState(),w=typeof m=="function"?m(_):m;if(S)v(w);else if(A){let E=w.length===0?_.map(N=>({type:"remove",id:N.id})):w.map(N=>({item:N,type:"reset"}));A(E)}},[]),u=(0,q.useCallback)(m=>{let _=Array.isArray(m)?m:[m],{getNodes:v,setNodes:S,hasDefaultNodes:A,onNodesChange:w}=t.getState();if(A){let N=[...v(),..._];S(N)}else if(w){let E=_.map(N=>({item:N,type:"add"}));w(E)}},[]),c=(0,q.useCallback)(m=>{let _=Array.isArray(m)?m:[m],{edges:v=[],setEdges:S,hasDefaultEdges:A,onEdgesChange:w}=t.getState();if(A)S([...v,..._]);else if(w){let E=_.map(N=>({item:N,type:"add"}));w(E)}},[]),l=(0,q.useCallback)(()=>{let{getNodes:m,edges:_=[],transform:v}=t.getState(),[S,A,w]=v;return{nodes:m().map(E=>({...E})),edges:_.map(E=>({...E})),viewport:{x:S,y:A,zoom:w}}},[]),f=(0,q.useCallback)(({nodes:m,edges:_})=>{let{nodeInternals:v,getNodes:S,edges:A,hasDefaultNodes:w,hasDefaultEdges:E,onNodesDelete:N,onEdgesDelete:O,onNodesChange:R,onEdgesChange:L}=t.getState(),F=(m||[]).map(M=>M.id),D=(_||[]).map(M=>M.id),I=S().reduce((M,b)=>{let x=!F.includes(b.id)&&b.parentNode&&M.find(T=>T.id===b.parentNode);return(typeof b.deletable=="boolean"?b.deletable:!0)&&(F.includes(b.id)||x)&&M.push(b),M},[]),$=A.filter(M=>typeof M.deletable=="boolean"?M.deletable:!0),y=$.filter(M=>D.includes(M.id));if(I||y){let M=ul(I,$),b=[...y,...M],x=b.reduce((C,T)=>(C.includes(T.id)||C.push(T.id),C),[]);if((E||w)&&(E&&t.setState({edges:A.filter(C=>!x.includes(C.id))}),w&&(I.forEach(C=>{v.delete(C.id)}),t.setState({nodeInternals:new Map(v)}))),x.length>0&&(O?.(b),L&&L(x.map(C=>({id:C,type:"remove"})))),I.length>0&&(N?.(I),R)){let C=I.map(T=>({id:T.id,type:"remove"}));R(C)}}},[]),h=(0,q.useCallback)(m=>{let _=rS(m),v=_?null:t.getState().nodeInternals.get(m.id);return[_?m:Cc(v),v,_]},[]),p=(0,q.useCallback)((m,_=!0,v)=>{let[S,A,w]=h(m);return S?(v||t.getState().getNodes()).filter(E=>{if(!w&&(E.id===A.id||!E.positionAbsolute))return!1;let N=Cc(E),O=Ii(N,S);return _&&O>0||O>=m.width*m.height}):[]},[]),g=(0,q.useCallback)((m,_,v=!0)=>{let[S]=h(m);if(!S)return!1;let A=Ii(S,_);return v&&A>0||A>=m.width*m.height},[]);return(0,q.useMemo)(()=>({...e,getNodes:r,getNode:n,getEdges:o,getEdge:i,setNodes:a,setEdges:s,addNodes:u,addEdges:c,toObject:l,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:g}),[e,r,n,o,i,a,s,u,c,l,f,p,g])}var US=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{let r=de(),{deleteElements:n}=qo(),o=sn(e),i=sn(t);(0,q.useEffect)(()=>{if(o){let{edges:a,getNodes:s}=r.getState(),u=s().filter(l=>l.selected),c=a.filter(l=>l.selected);n({nodes:u,edges:c}),r.setState({nodesSelectionActive:!1})}},[o]),(0,q.useEffect)(()=>{r.setState({multiSelectionActive:i})},[i])};function YS(e){let t=de();(0,q.useEffect)(()=>{let r,n=()=>{if(!e.current)return;let o=$i(e.current);(o.height===0||o.width===0)&&t.getState().onError?.("004",et["004"]()),t.setState({width:o.width||500,height:o.height||500})};return n(),window.addEventListener("resize",n),e.current&&(r=new ResizeObserver(()=>n()),r.observe(e.current)),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}},[])}var Ki={position:"absolute",width:"100%",height:"100%",top:0,left:0},jS=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ti=e=>({x:e.x,y:e.y,zoom:e.k}),cr=(e,t)=>e.target.closest(`.${t}`),Vc=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),KS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),XS=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:o=!0,zoomOnPinch:i=!0,panOnScroll:a=!1,panOnScrollSpeed:s=.5,panOnScrollMode:u=fr.Free,zoomOnDoubleClick:c=!0,elementsSelectable:l,panOnDrag:f=!0,defaultViewport:h,translateExtent:p,minZoom:g,maxZoom:m,zoomActivationKeyCode:_,preventScrolling:v=!0,children:S,noWheelClassName:A,noPanClassName:w})=>{let E=(0,q.useRef)(),N=de(),O=(0,q.useRef)(!1),R=(0,q.useRef)(!1),L=(0,q.useRef)(null),F=(0,q.useRef)({x:0,y:0,zoom:0}),{d3Zoom:D,d3Selection:I,d3ZoomHandler:$,userSelectionActive:y}=ce(KS,_e),M=sn(_),b=(0,q.useRef)(0);return YS(L),(0,q.useEffect)(()=>{if(L.current){let x=L.current.getBoundingClientRect(),C=en().scaleExtent([g,m]).translateExtent(p),T=xe(L.current).call(C),k=Ce.translate(h.x,h.y).scale(hr(h.zoom,g,m)),z=[[0,0],[x.width,x.height]],H=C.constrain()(k,z,p);C.transform(T,H),N.setState({d3Zoom:C,d3Selection:T,d3ZoomHandler:T.on("wheel.zoom"),transform:[H.x,H.y,H.k],domNode:L.current.closest(".react-flow")})}},[]),(0,q.useEffect)(()=>{I&&D&&(a&&!M&&!y?I.on("wheel.zoom",x=>{if(cr(x,A))return!1;x.preventDefault(),x.stopImmediatePropagation();let C=I.property("__zoom").k||1;if(x.ctrlKey&&i){let H=Ee(x),K=-x.deltaY*(x.deltaMode===1?.05:x.deltaMode?1:.002)*10,G=C*Math.pow(2,K);D.scaleTo(I,G,H);return}let T=x.deltaMode===1?20:1,k=u===fr.Vertical?0:x.deltaX*T,z=u===fr.Horizontal?0:x.deltaY*T;D.translateBy(I,-(k/C)*s,-(z/C)*s)}):typeof $<"u"&&I.on("wheel.zoom",function(x,C){if(!v||cr(x,A))return null;x.preventDefault(),$.call(this,x,C)}))},[y,a,u,I,D,$,M,i,v,A]),(0,q.useEffect)(()=>{D&&D.on("start",x=>{if(!x.sourceEvent)return null;b.current=x.sourceEvent.button;let{onViewportChangeStart:C}=N.getState();if(O.current=!0,x.sourceEvent?.type==="mousedown"&&N.setState({paneDragging:!0}),t||C){let T=Ti(x.transform);F.current=T,C?.(T),t?.(x.sourceEvent,T)}})},[D,t]),(0,q.useEffect)(()=>{D&&(y&&!O.current?D.on("zoom",null):y||D.on("zoom",x=>{let{onViewportChange:C}=N.getState();if(N.setState({transform:[x.transform.x,x.transform.y,x.transform.k]}),R.current=!!(n&&Vc(f,b.current??0)),e||C){let T=Ti(x.transform);C?.(T),e?.(x.sourceEvent,T)}}))},[y,D,e,f,n]),(0,q.useEffect)(()=>{D&&D.on("end",x=>{if(!x.sourceEvent)return null;let{onViewportChangeEnd:C}=N.getState();if(O.current=!1,N.setState({paneDragging:!1}),n&&Vc(f,b.current??0)&&!R.current&&n(x.sourceEvent),R.current=!1,(r||C)&&jS(F.current,x.transform)){let T=Ti(x.transform);F.current=T,clearTimeout(E.current),E.current=setTimeout(()=>{C?.(T),r?.(x.sourceEvent,T)},a?150:0)}})},[D,a,f,r,n]),(0,q.useEffect)(()=>{D&&D.filter(x=>{let C=M||o,T=i&&x.ctrlKey;if(x.button===1&&x.type==="mousedown"&&(cr(x,"react-flow__node")||cr(x,"react-flow__edge")))return!0;if(!f&&!C&&!a&&!c&&!i||y||!c&&x.type==="dblclick"||cr(x,A)&&x.type==="wheel"||cr(x,w)&&x.type!=="wheel"||!i&&x.ctrlKey&&x.type==="wheel"||!C&&!a&&!T&&x.type==="wheel"||!f&&(x.type==="mousedown"||x.type==="touchstart")||Array.isArray(f)&&!f.includes(x.button)&&(x.type==="mousedown"||x.type==="touchstart"))return!1;let k=Array.isArray(f)&&f.includes(x.button)||!x.button||x.button<=1;return(!x.ctrlKey||x.type==="wheel")&&k})},[y,D,o,i,a,c,f,l,M]),(0,P.jsx)("div",{className:"react-flow__renderer",ref:L,style:Ki,children:S})},WS=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function ZS(){let{userSelectionActive:e,userSelectionRect:t}=ce(WS,_e);return e&&t?(0,P.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Gc(e,t){let r=e.find(n=>n.id===t.parentNode);if(r){let n=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(n>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,n>0&&(r.style.width+=n),o>0&&(r.style.height+=o),t.position.x<0){let i=Math.abs(t.position.x);r.position.x=r.position.x-i,r.style.width+=i,t.position.x=0}if(t.position.y<0){let i=Math.abs(t.position.y);r.position.y=r.position.y-i,r.style.height+=i,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Cl(e,t){if(e.some(n=>n.type==="reset"))return e.filter(n=>n.type==="reset").map(n=>n.item);let r=e.filter(n=>n.type==="add").map(n=>n.item);return t.reduce((n,o)=>{let i=e.filter(s=>s.id===o.id);if(i.length===0)return n.push(o),n;let a={...o};for(let s of i)if(s)switch(s.type){case"select":{a.selected=s.selected;break}case"position":{typeof s.position<"u"&&(a.position=s.position),typeof s.positionAbsolute<"u"&&(a.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(a.dragging=s.dragging),a.expandParent&&Gc(n,a);break}case"dimensions":{typeof s.dimensions<"u"&&(a.width=s.dimensions.width,a.height=s.dimensions.height),typeof s.updateStyle<"u"&&(a.style={...a.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(a.resizing=s.resizing),a.expandParent&&Gc(n,a);break}case"remove":return n}return n.push(a),n},r)}function Al(e,t){return Cl(e,t)}function QS(e,t){return Cl(e,t)}var ht=(e,t)=>({id:e,type:"select",selected:t});function lr(e,t){return e.reduce((r,n)=>{let o=t.includes(n.id);return!n.selected&&o?(n.selected=!0,r.push(ht(n.id,!0))):n.selected&&!o&&(n.selected=!1,r.push(ht(n.id,!1))),r},[])}var Oi=(e,t)=>r=>{r.target===t.current&&e?.(r)},JS=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Ml=(0,q.memo)(({isSelecting:e,selectionMode:t=an.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:o,onPaneClick:i,onPaneContextMenu:a,onPaneScroll:s,onPaneMouseEnter:u,onPaneMouseMove:c,onPaneMouseLeave:l,children:f})=>{let h=(0,q.useRef)(null),p=de(),g=(0,q.useRef)(0),m=(0,q.useRef)(0),_=(0,q.useRef)(),{userSelectionActive:v,elementsSelectable:S,dragging:A}=ce(JS,_e),w=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),g.current=0,m.current=0},E=$=>{i?.($),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},N=$=>{if(Array.isArray(r)&&r?.includes(2)){$.preventDefault();return}a?.($)},O=s?$=>s($):void 0,R=$=>{let{resetSelectedElements:y,domNode:M}=p.getState();if(_.current=M?.getBoundingClientRect(),!S||!e||$.button!==0||$.target!==h.current||!_.current)return;let{x:b,y:x}=$t($,_.current);y(),p.setState({userSelectionRect:{width:0,height:0,startX:b,startY:x,x:b,y:x}}),n?.($)},L=$=>{let{userSelectionRect:y,nodeInternals:M,edges:b,transform:x,onNodesChange:C,onEdgesChange:T,nodeOrigin:k,getNodes:z}=p.getState();if(!e||!_.current||!y)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});let H=$t($,_.current),K=y.startX??0,G=y.startY??0,J={...y,x:H.x<K?H.x:K,y:H.y<G?H.y:G,width:Math.abs(H.x-K),height:Math.abs(H.y-G)},ne=z(),U=sl(M,J,x,t===an.Partial,!0,k),Z=ul(U,b).map(ue=>ue.id),oe=U.map(ue=>ue.id);if(g.current!==oe.length){g.current=oe.length;let ue=lr(ne,oe);ue.length&&C?.(ue)}if(m.current!==Z.length){m.current=Z.length;let ue=lr(b,Z);ue.length&&T?.(ue)}p.setState({userSelectionRect:J})},F=$=>{if($.button!==0)return;let{userSelectionRect:y}=p.getState();!v&&y&&$.target===h.current&&E?.($),p.setState({nodesSelectionActive:g.current>0}),w(),o?.($)},D=$=>{v&&(p.setState({nodesSelectionActive:g.current>0}),o?.($)),w()},I=S&&(e||v);return(0,P.jsxs)("div",{className:pe(["react-flow__pane",{dragging:A,selection:e}]),onClick:I?void 0:Oi(E,h),onContextMenu:Oi(N,h),onWheel:Oi(O,h),onMouseEnter:I?void 0:u,onMouseDown:I?R:void 0,onMouseMove:I?L:c,onMouseUp:I?F:void 0,onMouseLeave:I?D:l,ref:h,style:Ki,children:[f,(0,P.jsx)(ZS,{})]})});Ml.displayName="Pane";var e1=e=>{let t=e.getNodes().filter(r=>r.selected);return{...So(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function t1({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){let n=de(),{width:o,height:i,x:a,y:s,transformString:u,userSelectionActive:c}=ce(e1,_e),l=El(),f=(0,q.useRef)(null);if((0,q.useEffect)(()=>{r||f.current?.focus({preventScroll:!0})},[r]),_l({nodeRef:f}),c||!o||!i)return null;let h=e?g=>{let m=n.getState().getNodes().filter(_=>_.selected);e(g,m)}:void 0,p=g=>{Object.prototype.hasOwnProperty.call(dr,g.key)&&l({x:dr[g.key].x,y:dr[g.key].y,isShiftPressed:g.shiftKey})};return(0,P.jsx)("div",{className:pe(["react-flow__nodesselection","react-flow__container",t]),style:{transform:u},children:(0,P.jsx)("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:r?void 0:-1,onKeyDown:r?void 0:p,style:{width:o,height:i,top:s,left:a}})})}var r1=(0,q.memo)(t1),n1=e=>e.nodesSelectionActive,Tl=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:a,deleteKeyCode:s,onMove:u,onMoveStart:c,onMoveEnd:l,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:g,onSelectionEnd:m,multiSelectionKeyCode:_,panActivationKeyCode:v,zoomActivationKeyCode:S,elementsSelectable:A,zoomOnScroll:w,zoomOnPinch:E,panOnScroll:N,panOnScrollSpeed:O,panOnScrollMode:R,zoomOnDoubleClick:L,panOnDrag:F,defaultViewport:D,translateExtent:I,minZoom:$,maxZoom:y,preventScrolling:M,onSelectionContextMenu:b,noWheelClassName:x,noPanClassName:C,disableKeyboardA11y:T})=>{let k=ce(n1),z=sn(f),K=sn(v)||F,G=z||h&&K!==!0;return US({deleteKeyCode:s,multiSelectionKeyCode:_}),(0,P.jsx)(XS,{onMove:u,onMoveStart:c,onMoveEnd:l,onPaneContextMenu:i,elementsSelectable:A,zoomOnScroll:w,zoomOnPinch:E,panOnScroll:N,panOnScrollSpeed:O,panOnScrollMode:R,zoomOnDoubleClick:L,panOnDrag:!z&&K,defaultViewport:D,translateExtent:I,minZoom:$,maxZoom:y,zoomActivationKeyCode:S,preventScrolling:M,noWheelClassName:x,noPanClassName:C,children:(0,P.jsxs)(Ml,{onSelectionStart:g,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:o,onPaneContextMenu:i,onPaneScroll:a,panOnDrag:K,isSelecting:!!G,selectionMode:p,children:[e,k&&(0,P.jsx)(r1,{onSelectionContextMenu:b,noPanClassName:C,disableKeyboardA11y:T})]})})};Tl.displayName="FlowRenderer";var o1=(0,q.memo)(Tl);function i1(e){return ce((0,q.useCallback)(r=>e?sl(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}var a1=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Ol=e=>{let{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:o,updateNodeDimensions:i,onError:a}=ce(a1,_e),s=i1(e.onlyRenderVisibleElements),u=(0,q.useRef)(),c=(0,q.useMemo)(()=>{if(typeof ResizeObserver>"u")return null;let l=new ResizeObserver(f=>{let h=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));i(h)});return u.current=l,l},[]);return(0,q.useEffect)(()=>()=>{u?.current?.disconnect()},[]),(0,P.jsx)("div",{className:"react-flow__nodes",style:Ki,children:s.map(l=>{let f=l.type||"default";e.nodeTypes[f]||(a?.("003",et["003"](f)),f="default");let h=e.nodeTypes[f]||e.nodeTypes.default,p=!!(l.draggable||t&&typeof l.draggable>"u"),g=!!(l.selectable||o&&typeof l.selectable>"u"),m=!!(l.connectable||r&&typeof l.connectable>"u"),_=!!(l.focusable||n&&typeof l.focusable>"u"),v=e.nodeExtent?Fi(l.positionAbsolute,e.nodeExtent):l.positionAbsolute,S=v?.x??0,A=v?.y??0,w=zS({x:S,y:A,width:l.width??0,height:l.height??0,origin:e.nodeOrigin});return(0,P.jsx)(h,{id:l.id,className:l.className,style:l.style,type:f,data:l.data,sourcePosition:l.sourcePosition||V.Bottom,targetPosition:l.targetPosition||V.Top,hidden:l.hidden,xPos:S,yPos:A,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!l.selected,isDraggable:p,isSelectable:g,isConnectable:m,isFocusable:_,resizeObserver:c,dragHandle:l.dragHandle,zIndex:l[me]?.z??0,isParent:!!l[me]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!l.width&&!!l.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:l.ariaLabel},l.id)})})};Ol.displayName="NodeRenderer";var s1=(0,q.memo)(Ol),u1=[{level:0,isMaxLevel:!0,edges:[]}];function c1(e,t,r=!1){let n=-1,o=e.reduce((a,s)=>{let u=Re(s.zIndex),c=u?s.zIndex:0;return r&&(c=u?s.zIndex:Math.max(t.get(s.source)?.[me]?.z||0,t.get(s.target)?.[me]?.z||0)),a[c]?a[c].push(s):a[c]=[s],n=c>n?c:n,a},{}),i=Object.entries(o).map(([a,s])=>{let u=+a;return{edges:s,level:u,isMaxLevel:u===n}});return i.length===0?u1:i}function l1(e,t,r){let n=ce((0,q.useCallback)(o=>e?o.edges.filter(i=>{let a=t.get(i.source),s=t.get(i.target);return a?.width&&a?.height&&s?.width&&s?.height&&kS({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:s.width,targetHeight:s.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return c1(n,t,r)}var f1=({color:e="none",strokeWidth:t=1})=>(0,P.jsx)("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:"none",points:"-5,-4 0,0 -5,4"}),d1=({color:e="none",strokeWidth:t=1})=>(0,P.jsx)("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:t,fill:e,points:"-5,-4 0,0 -5,4 -5,-4"}),Uc={[xo.Arrow]:f1,[xo.ArrowClosed]:d1};function h1(e){let t=de();return(0,q.useMemo)(()=>Object.prototype.hasOwnProperty.call(Uc,e)?Uc[e]:(t.getState().onError?.("009",et["009"](e)),null),[e])}var p1=({id:e,type:t,color:r,width:n=12.5,height:o=12.5,markerUnits:i="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{let u=h1(t);return u?(0,P.jsx)("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:s,refX:"0",refY:"0",children:(0,P.jsx)(u,{color:r,strokeWidth:a})}):null},g1=({defaultColor:e,rfId:t})=>r=>{let n=[];return r.edges.reduce((o,i)=>([i.markerStart,i.markerEnd].forEach(a=>{if(a&&typeof a=="object"){let s=Ri(a,t);n.includes(s)||(o.push({id:s,color:a.color||e,...a}),n.push(s))}}),o),[]).sort((o,i)=>o.id.localeCompare(i.id))},Il=({defaultColor:e,rfId:t})=>{let r=ce((0,q.useCallback)(g1({defaultColor:e,rfId:t}),[e,t]),(n,o)=>!(n.length!==o.length||n.some((i,a)=>i.id!==o[a].id)));return(0,P.jsx)("defs",{children:r.map(n=>(0,P.jsx)(p1,{id:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient},n.id))})};Il.displayName="MarkerDefinitions";var m1=(0,q.memo)(Il),y1=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Pl=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:n,edgeTypes:o,noPanClassName:i,onEdgeUpdate:a,onEdgeContextMenu:s,onEdgeMouseEnter:u,onEdgeMouseMove:c,onEdgeMouseLeave:l,onEdgeClick:f,edgeUpdaterRadius:h,onEdgeDoubleClick:p,onEdgeUpdateStart:g,onEdgeUpdateEnd:m,children:_})=>{let{edgesFocusable:v,elementsSelectable:S,width:A,height:w,connectionMode:E,nodeInternals:N,onError:O}=ce(y1,_e),R=l1(t,N,r);return A?(0,P.jsxs)(P.Fragment,{children:[R.map(({level:L,edges:F,isMaxLevel:D})=>(0,P.jsxs)("svg",{style:{zIndex:L},width:A,height:w,className:"react-flow__edges react-flow__container",children:[D&&(0,P.jsx)(m1,{defaultColor:e,rfId:n}),(0,P.jsx)("g",{children:F.map(I=>{let[$,y,M]=zc(N.get(I.source)),[b,x,C]=zc(N.get(I.target));if(!M||!C)return null;let T=I.type||"default";o[T]||(O?.("011",et["011"](T)),T="default");let k=o[T]||o.default,z=E===Ft.Strict?x.target:(x.target??[]).concat(x.source??[]),H=Lc(y.source,I.sourceHandle),K=Lc(z,I.targetHandle),G=H?.position||V.Bottom,J=K?.position||V.Top,ne=!!(I.focusable||v&&typeof I.focusable>"u");if(!H||!K)return O?.("008",et["008"](H,I)),null;let{sourceX:U,sourceY:Z,targetX:oe,targetY:ue}=PS($,H,G,b,K,J);return(0,P.jsx)(k,{id:I.id,className:pe([I.className,i]),type:T,data:I.data,selected:!!I.selected,animated:!!I.animated,hidden:!!I.hidden,label:I.label,labelStyle:I.labelStyle,labelShowBg:I.labelShowBg,labelBgStyle:I.labelBgStyle,labelBgPadding:I.labelBgPadding,labelBgBorderRadius:I.labelBgBorderRadius,style:I.style,source:I.source,target:I.target,sourceHandleId:I.sourceHandle,targetHandleId:I.targetHandle,markerEnd:I.markerEnd,markerStart:I.markerStart,sourceX:U,sourceY:Z,targetX:oe,targetY:ue,sourcePosition:G,targetPosition:J,elementsSelectable:S,onEdgeUpdate:a,onContextMenu:s,onMouseEnter:u,onMouseMove:c,onMouseLeave:l,onClick:f,edgeUpdaterRadius:h,onEdgeDoubleClick:p,onEdgeUpdateStart:g,onEdgeUpdateEnd:m,rfId:n,ariaLabel:I.ariaLabel,isFocusable:ne,pathOptions:"pathOptions"in I?I.pathOptions:void 0,interactionWidth:I.interactionWidth},I.id)})})]},L)),_]}):null};Pl.displayName="EdgeRenderer";var v1=(0,q.memo)(Pl),x1=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function w1({children:e}){let t=ce(x1);return(0,P.jsx)("div",{className:"react-flow__viewport react-flow__container",style:{transform:t},children:e})}function b1(e){let t=qo(),r=(0,q.useRef)(!1);(0,q.useEffect)(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}var _1={[V.Left]:V.Right,[V.Right]:V.Left,[V.Top]:V.Bottom,[V.Bottom]:V.Top},kl=({nodeId:e,handleType:t,style:r,type:n=Fe.Bezier,CustomComponent:o})=>{let{fromNode:i,handleId:a,toX:s,toY:u,connectionMode:c}=ce((0,q.useCallback)(E=>({fromNode:E.nodeInternals.get(e),handleId:E.connectionHandleId,toX:(E.connectionPosition.x-E.transform[0])/E.transform[2],toY:(E.connectionPosition.y-E.transform[1])/E.transform[2],connectionMode:E.connectionMode}),[e]),_e),l=i?.[me]?.handleBounds,f=l?.[t];if(c===Ft.Loose&&(f=f||l?.[t==="source"?"target":"source"]),!i||!f)return null;let h=a?f.find(E=>E.id===a):f[0],p=h?h.x+h.width/2:(i.width??0)/2,g=h?h.y+h.height/2:i.height??0,m=(i.positionAbsolute?.x??0)+p,_=(i.positionAbsolute?.y??0)+g,v=h?.position,S=v?_1[v]:null;if(!v||!S)return null;if(o)return(0,P.jsx)(o,{connectionLineType:n,connectionLineStyle:r,fromNode:i,fromHandle:h,fromX:m,fromY:_,toX:s,toY:u,fromPosition:v,toPosition:S});let A="",w={sourceX:m,sourceY:_,sourcePosition:v,targetX:s,targetY:u,targetPosition:S};return n===Fe.Bezier?[A]=il(w):n===Fe.Step?[A]=ki({...w,borderRadius:0}):n===Fe.SmoothStep?[A]=ki(w):n===Fe.SimpleBezier?[A]=ol(w):A=`M${m},${_} ${s},${u}`,(0,P.jsx)("path",{d:A,fill:"none",className:"react-flow__connection-path",style:r})};kl.displayName="ConnectionLine";var E1=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,width:e.width,height:e.height});function S1({containerStyle:e,style:t,type:r,component:n}){let{nodeId:o,handleType:i,nodesConnectable:a,width:s,height:u}=ce(E1,_e);return!(o&&i&&s&&a)?null:(0,P.jsx)("svg",{style:e,width:s,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container",children:(0,P.jsx)("g",{className:"react-flow__connection",children:(0,P.jsx)(kl,{nodeId:o,handleType:i,style:t,type:r,CustomComponent:n})})})}var Rl=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:n,onMoveEnd:o,onInit:i,onNodeClick:a,onEdgeClick:s,onNodeDoubleClick:u,onEdgeDoubleClick:c,onNodeMouseEnter:l,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:g,onSelectionStart:m,onSelectionEnd:_,connectionLineType:v,connectionLineStyle:S,connectionLineComponent:A,connectionLineContainerStyle:w,selectionKeyCode:E,selectionOnDrag:N,selectionMode:O,multiSelectionKeyCode:R,panActivationKeyCode:L,zoomActivationKeyCode:F,deleteKeyCode:D,onlyRenderVisibleElements:I,elementsSelectable:$,selectNodesOnDrag:y,defaultViewport:M,translateExtent:b,minZoom:x,maxZoom:C,preventScrolling:T,defaultMarkerColor:k,zoomOnScroll:z,zoomOnPinch:H,panOnScroll:K,panOnScrollSpeed:G,panOnScrollMode:J,zoomOnDoubleClick:ne,panOnDrag:U,onPaneClick:Z,onPaneMouseEnter:oe,onPaneMouseMove:ue,onPaneMouseLeave:ye,onPaneScroll:ve,onPaneContextMenu:ie,onEdgeUpdate:we,onEdgeContextMenu:B,onEdgeMouseEnter:he,onEdgeMouseMove:Pe,onEdgeMouseLeave:Xe,edgeUpdaterRadius:qt,onEdgeUpdateStart:Nt,onEdgeUpdateEnd:Ct,noDragClassName:at,noWheelClassName:Zt,noPanClassName:st,elevateEdgesOnSelect:Qt,disableKeyboardA11y:We,nodeOrigin:Tr,nodeExtent:Or,rfId:Jt})=>(b1(i),(0,P.jsx)(o1,{onPaneClick:Z,onPaneMouseEnter:oe,onPaneMouseMove:ue,onPaneMouseLeave:ye,onPaneContextMenu:ie,onPaneScroll:ve,deleteKeyCode:D,selectionKeyCode:E,selectionOnDrag:N,selectionMode:O,onSelectionStart:m,onSelectionEnd:_,multiSelectionKeyCode:R,panActivationKeyCode:L,zoomActivationKeyCode:F,elementsSelectable:$,onMove:r,onMoveStart:n,onMoveEnd:o,zoomOnScroll:z,zoomOnPinch:H,zoomOnDoubleClick:ne,panOnScroll:K,panOnScrollSpeed:G,panOnScrollMode:J,panOnDrag:U,defaultViewport:M,translateExtent:b,minZoom:x,maxZoom:C,onSelectionContextMenu:g,preventScrolling:T,noDragClassName:at,noWheelClassName:Zt,noPanClassName:st,disableKeyboardA11y:We,children:(0,P.jsxs)(w1,{children:[(0,P.jsx)(v1,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:c,onEdgeUpdate:we,onlyRenderVisibleElements:I,onEdgeContextMenu:B,onEdgeMouseEnter:he,onEdgeMouseMove:Pe,onEdgeMouseLeave:Xe,onEdgeUpdateStart:Nt,onEdgeUpdateEnd:Ct,edgeUpdaterRadius:qt,defaultMarkerColor:k,noPanClassName:st,elevateEdgesOnSelect:!!Qt,disableKeyboardA11y:We,rfId:Jt,children:(0,P.jsx)(S1,{style:S,type:v,component:A,containerStyle:w})}),(0,P.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,P.jsx)(s1,{nodeTypes:e,onNodeClick:a,onNodeDoubleClick:u,onNodeMouseEnter:l,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:y,onlyRenderVisibleElements:I,noPanClassName:st,noDragClassName:at,disableKeyboardA11y:We,nodeOrigin:Tr,nodeExtent:Or,rfId:Jt})]})}));Rl.displayName="GraphView";var q1=(0,q.memo)(Rl),Bi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],on={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Bi,nodeExtent:Bi,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:Ft.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,multiSelectionActive:!1,connectionStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:el},N1=()=>Ts((e,t)=>({...on,setNodes:r=>{let{nodeInternals:n,nodeOrigin:o,elevateNodesOnSelect:i}=t();e({nodeInternals:Mi(r,n,o,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{let{defaultEdgeOptions:n={}}=t();e({edges:r.map(o=>({...n,...o}))})},setDefaultNodesAndEdges:(r,n)=>{let o=typeof r<"u",i=typeof n<"u",a=o?Mi(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:i?n:[],hasDefaultNodes:o,hasDefaultEdges:i})},updateNodeDimensions:r=>{let{onNodesChange:n,nodeInternals:o,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:s,domNode:u,nodeOrigin:c}=t(),l=u?.querySelector(".react-flow__viewport");if(!l)return;let f=window.getComputedStyle(l),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=r.reduce((m,_)=>{let v=o.get(_.id);if(v){let S=$i(_.nodeElement);!!(S.width&&S.height&&(v.width!==S.width||v.height!==S.height||_.forceUpdate))&&(o.set(v.id,{...v,[me]:{...v[me],handleBounds:{source:$c(".source",_.nodeElement,h,c),target:$c(".target",_.nodeElement,h,c)}},...S}),m.push({id:v.id,type:"dimensions",dimensions:S}))}return m},[]);ql(o,c);let g=a||i&&!a&&Nl(t,{initial:!0,...s});e({nodeInternals:new Map(o),fitViewOnInitDone:g}),p?.length>0&&n?.(p)},updateNodePositions:(r,n=!0,o=!1)=>{let{triggerNodeChanges:i}=t(),a=r.map(s=>{let u={id:s.id,type:"position",dragging:o};return n&&(u.positionAbsolute=s.positionAbsolute,u.position=s.position),u});i(a)},triggerNodeChanges:r=>{let{onNodesChange:n,nodeInternals:o,hasDefaultNodes:i,nodeOrigin:a,getNodes:s,elevateNodesOnSelect:u}=t();if(r?.length){if(i){let c=Al(r,s()),l=Mi(c,o,a,u);e({nodeInternals:l})}n?.(r)}},addSelectedNodes:r=>{let{multiSelectionActive:n,edges:o,getNodes:i}=t(),a,s=null;n?a=r.map(u=>ht(u,!0)):(a=lr(i(),r),s=lr(o,[])),yo({changedNodes:a,changedEdges:s,get:t,set:e})},addSelectedEdges:r=>{let{multiSelectionActive:n,edges:o,getNodes:i}=t(),a,s=null;n?a=r.map(u=>ht(u,!0)):(a=lr(o,r),s=lr(i(),[])),yo({changedNodes:s,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{let{edges:o,getNodes:i}=t(),a=r||i(),s=n||o,u=a.map(l=>(l.selected=!1,ht(l.id,!1))),c=s.map(l=>ht(l.id,!1));yo({changedNodes:u,changedEdges:c,get:t,set:e})},setMinZoom:r=>{let{d3Zoom:n,maxZoom:o}=t();n?.scaleExtent([r,o]),e({minZoom:r})},setMaxZoom:r=>{let{d3Zoom:n,minZoom:o}=t();n?.scaleExtent([o,r]),e({maxZoom:r})},setTranslateExtent:r=>{t().d3Zoom?.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{let{edges:r,getNodes:n}=t(),i=n().filter(s=>s.selected).map(s=>ht(s.id,!1)),a=r.filter(s=>s.selected).map(s=>ht(s.id,!1));yo({changedNodes:i,changedEdges:a,get:t,set:e})},setNodeExtent:r=>{let{nodeInternals:n}=t();n.forEach(o=>{o.positionAbsolute=Fi(o.position,r)}),e({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{let{transform:n,width:o,height:i,d3Zoom:a,d3Selection:s,translateExtent:u}=t();if(!a||!s||!r.x&&!r.y)return;let c=Ce.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),l=[[0,0],[o,i]],f=a?.constrain()(c,l,u);a.transform(s,f)},cancelConnection:()=>e({connectionNodeId:on.connectionNodeId,connectionHandleId:on.connectionHandleId,connectionHandleType:on.connectionHandleType}),reset:()=>e({...on})})),Dl=({children:e})=>{let t=(0,q.useRef)(null);return t.current||(t.current=N1()),(0,P.jsx)(ZE,{value:t.current,children:e})};Dl.displayName="ReactFlowProvider";var Ll=({children:e})=>(0,q.useContext)(_o)?(0,P.jsx)(P.Fragment,{children:e}):(0,P.jsx)(Dl,{children:e});Ll.displayName="ReactFlowWrapper";function Yc(e,t){let r=(0,q.useRef)(null);return(0,q.useMemo)(()=>t(e),[e])}var C1={input:pl,default:Li,output:ml,group:ji},A1={default:wo,straight:Gi,step:Vi,smoothstep:Eo,simplebezier:Hi},M1=[0,0],T1=[15,15],O1={x:0,y:0,zoom:1},I1={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},No=(0,q.forwardRef)(({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:o,nodeTypes:i=C1,edgeTypes:a=A1,onNodeClick:s,onEdgeClick:u,onInit:c,onMove:l,onMoveStart:f,onMoveEnd:h,onConnect:p,onConnectStart:g,onConnectEnd:m,onClickConnectStart:_,onClickConnectEnd:v,onNodeMouseEnter:S,onNodeMouseMove:A,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:N,onNodeDragStart:O,onNodeDrag:R,onNodeDragStop:L,onNodesDelete:F,onEdgesDelete:D,onSelectionChange:I,onSelectionDragStart:$,onSelectionDrag:y,onSelectionDragStop:M,onSelectionContextMenu:b,onSelectionStart:x,onSelectionEnd:C,connectionMode:T=Ft.Strict,connectionLineType:k=Fe.Bezier,connectionLineStyle:z,connectionLineComponent:H,connectionLineContainerStyle:K,deleteKeyCode:G="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:ne=!1,selectionMode:U=an.Full,panActivationKeyCode:Z="Space",multiSelectionKeyCode:oe="Meta",zoomActivationKeyCode:ue="Meta",snapToGrid:ye=!1,snapGrid:ve=T1,onlyRenderVisibleElements:ie=!1,selectNodesOnDrag:we=!0,nodesDraggable:B,nodesConnectable:he,nodesFocusable:Pe,nodeOrigin:Xe=M1,edgesFocusable:qt,elementsSelectable:Nt,defaultViewport:Ct=O1,minZoom:at=.5,maxZoom:Zt=2,translateExtent:st=Bi,preventScrolling:Qt=!0,nodeExtent:We,defaultMarkerColor:Tr="#b1b1b7",zoomOnScroll:Or=!0,zoomOnPinch:Jt=!0,panOnScroll:Ae=!1,panOnScrollSpeed:Ve=.5,panOnScrollMode:At=fr.Free,zoomOnDoubleClick:Mt=!0,panOnDrag:ut=!0,onPaneClick:Ir,onPaneMouseEnter:oi,onPaneMouseMove:Pr,onPaneMouseLeave:ii,onPaneScroll:qs,onPaneContextMenu:Tt,children:jw,onEdgeUpdate:Kw,onEdgeContextMenu:Xw,onEdgeDoubleClick:Ww,onEdgeMouseEnter:Zw,onEdgeMouseMove:Qw,onEdgeMouseLeave:Jw,onEdgeUpdateStart:eb,onEdgeUpdateEnd:tb,edgeUpdaterRadius:rb=10,onNodesChange:nb,onEdgesChange:ob,noDragClassName:ib="nodrag",noWheelClassName:ab="nowheel",noPanClassName:Ns="nopan",fitView:sb=!1,fitViewOptions:ub,connectOnClick:cb=!0,attributionPosition:lb,proOptions:fb,defaultEdgeOptions:db,elevateNodesOnSelect:hb=!0,elevateEdgesOnSelect:pb=!1,disableKeyboardA11y:Cs=!1,autoPanOnConnect:gb=!0,autoPanOnNodeDrag:mb=!0,connectionRadius:yb=20,onError:vb,style:xb,id:As,...wb},bb)=>{let _b=Yc(i,LS),Eb=Yc(a,IS),ai=As||"1";return(0,P.jsx)("div",{...wb,style:{...xb,...I1},ref:bb,className:pe(["react-flow",o]),"data-testid":"rf__wrapper",id:As,children:(0,P.jsxs)(Ll,{children:[(0,P.jsx)(q1,{onInit:c,onMove:l,onMoveStart:f,onMoveEnd:h,onNodeClick:s,onEdgeClick:u,onNodeMouseEnter:S,onNodeMouseMove:A,onNodeMouseLeave:w,onNodeContextMenu:E,onNodeDoubleClick:N,nodeTypes:_b,edgeTypes:Eb,connectionLineType:k,connectionLineStyle:z,connectionLineComponent:H,connectionLineContainerStyle:K,selectionKeyCode:J,selectionOnDrag:ne,selectionMode:U,deleteKeyCode:G,multiSelectionKeyCode:oe,panActivationKeyCode:Z,zoomActivationKeyCode:ue,onlyRenderVisibleElements:ie,selectNodesOnDrag:we,defaultViewport:Ct,translateExtent:st,minZoom:at,maxZoom:Zt,preventScrolling:Qt,zoomOnScroll:Or,zoomOnPinch:Jt,zoomOnDoubleClick:Mt,panOnScroll:Ae,panOnScrollSpeed:Ve,panOnScrollMode:At,panOnDrag:ut,onPaneClick:Ir,onPaneMouseEnter:oi,onPaneMouseMove:Pr,onPaneMouseLeave:ii,onPaneScroll:qs,onPaneContextMenu:Tt,onSelectionContextMenu:b,onSelectionStart:x,onSelectionEnd:C,onEdgeUpdate:Kw,onEdgeContextMenu:Xw,onEdgeDoubleClick:Ww,onEdgeMouseEnter:Zw,onEdgeMouseMove:Qw,onEdgeMouseLeave:Jw,onEdgeUpdateStart:eb,onEdgeUpdateEnd:tb,edgeUpdaterRadius:rb,defaultMarkerColor:Tr,noDragClassName:ib,noWheelClassName:ab,noPanClassName:Ns,elevateEdgesOnSelect:pb,rfId:ai,disableKeyboardA11y:Cs,nodeOrigin:Xe,nodeExtent:We}),(0,P.jsx)(SS,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:p,onConnectStart:g,onConnectEnd:m,onClickConnectStart:_,onClickConnectEnd:v,nodesDraggable:B,nodesConnectable:he,nodesFocusable:Pe,edgesFocusable:qt,elementsSelectable:Nt,elevateNodesOnSelect:hb,minZoom:at,maxZoom:Zt,nodeExtent:We,onNodesChange:nb,onEdgesChange:ob,snapToGrid:ye,snapGrid:ve,connectionMode:T,translateExtent:st,connectOnClick:cb,defaultEdgeOptions:db,fitView:sb,fitViewOptions:ub,onNodesDelete:F,onEdgesDelete:D,onNodeDragStart:O,onNodeDrag:R,onNodeDragStop:L,onSelectionDrag:y,onSelectionDragStart:$,onSelectionDragStop:M,noPanClassName:Ns,nodeOrigin:Xe,rfId:ai,autoPanOnConnect:gb,autoPanOnNodeDrag:mb,onError:vb,connectionRadius:yb}),(0,P.jsx)(_S,{onSelectionChange:I}),jw,(0,P.jsx)(JE,{proOptions:fb,position:lb}),(0,P.jsx)(MS,{rfId:ai,disableKeyboardA11y:Cs})]})})});No.displayName="ReactFlow";function zl(e){return t=>{let[r,n]=(0,q.useState)(t),o=(0,q.useCallback)(i=>n(a=>e(i,a)),[]);return[r,n,o]}}var Bl=zl(Al),$l=zl(QS);var gt=Me(kr()),mt=Me(tr());var Fl=({id:e,x:t,y:r,width:n,height:o,style:i,color:a,strokeColor:s,strokeWidth:u,className:c,borderRadius:l,shapeRendering:f,onClick:h})=>{let{background:p,backgroundColor:g}=i||{},m=a||p||g;return(0,gt.jsx)("rect",{className:pe(["react-flow__minimap-node",c]),x:t,y:r,rx:l,ry:l,width:n,height:o,fill:m,stroke:s,strokeWidth:u,shapeRendering:f,onClick:h?_=>h(_,e):void 0})};Fl.displayName="MiniMapNode";var P1=(0,mt.memo)(Fl),k1=200,R1=150,D1=e=>{let t=e.getNodes(),r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{nodes:t.filter(n=>!n.hidden&&n.width&&n.height),viewBB:r,boundingRect:t.length>0?Qc(So(t,e.nodeOrigin),r):r,rfId:e.rfId,nodeOrigin:e.nodeOrigin}},Xi=e=>e instanceof Function?e:()=>e,L1="react-flow__minimap-desc";function Hl({style:e,className:t,nodeStrokeColor:r="transparent",nodeColor:n="#e2e2e2",nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:a=2,maskColor:s="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:l="bottom-right",onClick:f,onNodeClick:h,pannable:p=!1,zoomable:g=!1,ariaLabel:m="React Flow mini map"}){let _=de(),v=(0,mt.useRef)(null),{boundingRect:S,viewBB:A,nodes:w,rfId:E,nodeOrigin:N}=ce(D1,_e),O=e?.width??k1,R=e?.height??R1,L=Xi(n),F=Xi(r),D=Xi(o),I=S.width/O,$=S.height/R,y=Math.max(I,$),M=y*O,b=y*R,x=5*y,C=S.x-(M-S.width)/2-x,T=S.y-(b-S.height)/2-x,k=M+x*2,z=b+x*2,H=typeof window>"u"||!!window.chrome?"crispEdges":"geometricPrecision",K=`${L1}-${E}`,G=(0,mt.useRef)(0);G.current=y,(0,mt.useEffect)(()=>{if(v.current){let U=xe(v.current),Z=ye=>{let{transform:ve,d3Selection:ie,d3Zoom:we}=_.getState();if(ye.sourceEvent.type!=="wheel"||!ie||!we)return;let B=-ye.sourceEvent.deltaY*(ye.sourceEvent.deltaMode===1?.05:ye.sourceEvent.deltaMode?1:.002)*10,he=ve[2]*Math.pow(2,B);we.scaleTo(ie,he)},oe=ye=>{let{transform:ve,d3Selection:ie,d3Zoom:we,translateExtent:B,width:he,height:Pe}=_.getState();if(ye.sourceEvent.type!=="mousemove"||!ie||!we)return;let Xe={x:ve[0]-ye.sourceEvent.movementX*G.current*Math.max(1,ve[2]),y:ve[1]-ye.sourceEvent.movementY*G.current*Math.max(1,ve[2])},qt=[[0,0],[he,Pe]],Nt=Ce.translate(Xe.x,Xe.y).scale(ve[2]),Ct=we.constrain()(Nt,qt,B);we.transform(ie,Ct)},ue=en().on("zoom",p?oe:null).on("zoom.wheel",g?Z:null);return U.call(ue),()=>{U.on("zoom",null)}}},[p,g]);let J=f?U=>{let Z=Ee(U);f(U,{x:Z[0],y:Z[1]})}:void 0,ne=h?(U,Z)=>{let oe=_.getState().nodeInternals.get(Z);h(U,oe)}:void 0;return(0,gt.jsx)(un,{position:l,style:e,className:pe(["react-flow__minimap",t]),children:(0,gt.jsxs)("svg",{width:O,height:R,viewBox:`${C} ${T} ${k} ${z}`,role:"img","aria-labelledby":K,ref:v,onClick:J,children:[m&&(0,gt.jsx)("title",{id:K,children:m}),w.map(U=>{let{x:Z,y:oe}=pt(U,N).positionAbsolute;return(0,gt.jsx)(P1,{x:Z,y:oe,width:U.width,height:U.height,style:U.style,className:D(U),color:L(U),borderRadius:i,strokeColor:F(U),strokeWidth:a,shapeRendering:H,onClick:ne,id:U.id},U.id)}),(0,gt.jsx)("path",{className:"react-flow__minimap-mask",d:`M${C-x},${T-x}h${k+x*2}v${z+x*2}h${-k-x*2}z
        M${A.x},${A.y}h${A.width}v${A.height}h${-A.width}z`,fill:s,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})]})})}Hl.displayName="MiniMap";var Vl=(0,mt.memo)(Hl);var te=Me(kr()),pr=Me(tr());function z1(){return(0,te.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,te.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function B1(){return(0,te.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,te.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function $1(){return(0,te.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,te.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function F1(){return(0,te.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,te.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function H1(){return(0,te.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,te.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}var ln=({children:e,className:t,...r})=>(0,te.jsx)("button",{type:"button",className:pe(["react-flow__controls-button",t]),...r,children:e});ln.displayName="ControlButton";var V1=e=>e.nodesDraggable&&e.nodesConnectable&&e.elementsSelectable,Gl=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:o,onZoomIn:i,onZoomOut:a,onFitView:s,onInteractiveChange:u,className:c,children:l,position:f="bottom-left"})=>{let h=de(),[p,g]=(0,pr.useState)(!1),m=ce(V1),{zoomIn:_,zoomOut:v,fitView:S}=qo();if((0,pr.useEffect)(()=>{g(!0)},[]),!p)return null;let A=()=>{_(),i?.()},w=()=>{v(),a?.()},E=()=>{S(o),s?.()},N=()=>{h.setState({nodesDraggable:!m,nodesConnectable:!m,elementsSelectable:!m}),u?.(!m)};return(0,te.jsxs)(un,{className:pe(["react-flow__controls",c]),position:f,style:e,children:[t&&(0,te.jsxs)(te.Fragment,{children:[(0,te.jsx)(ln,{onClick:A,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",children:(0,te.jsx)(z1,{})}),(0,te.jsx)(ln,{onClick:w,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",children:(0,te.jsx)(B1,{})})]}),r&&(0,te.jsx)(ln,{className:"react-flow__controls-fitview",onClick:E,title:"fit view","aria-label":"fit view",children:(0,te.jsx)($1,{})}),n&&(0,te.jsx)(ln,{className:"react-flow__controls-interactive",onClick:N,title:"toggle interactivity","aria-label":"toggle interactivity",children:m?(0,te.jsx)(H1,{}):(0,te.jsx)(F1,{})}),l]})};Gl.displayName="Controls";var Ul=(0,pr.memo)(Gl);var Ss=Me(Vw()),Mr=Me(kr()),Ar=new Ss.default.graphlib.Graph;Ar.setDefaultEdgeLabel(()=>({}));var Gw=172,Uw=36,Yw=(e,t,r="TB")=>{let n=r==="LR";return Ar.setGraph({rankdir:r}),e.forEach(o=>{Ar.setNode(o.id,{width:Gw,height:Uw})}),t.forEach(o=>{Ar.setEdge(o.source,o.target)}),Ss.default.layout(Ar),e.forEach(o=>{let i=Ar.node(o.id);return o.targetPosition=n?"left":"top",o.sourcePosition=n?"right":"bottom",o.position={x:i.x-Gw/2,y:i.y-Uw/2},o}),{nodes:e,edges:t}};function n5({pnode:e,pedge:t}){let{nodes:r,edges:n}=Yw(e,t),[o,i,a]=Bl(r),[s,u,c]=$l(n),l=(0,Es.useCallback)(h=>u(p=>Yi({...h,type:Fe.SmoothStep,animated:!0},p)),[]),f=(0,Es.useCallback)(h=>{let{nodes:p,edges:g}=Yw(o,s,h);i([...p]),u([...g])},[o,s]);return(0,Mr.jsx)("div",{className:"h-full",children:(0,Mr.jsxs)(No,{nodes:o,edges:s,onNodesChange:a,onEdgesChange:c,onConnect:l,connectionLineType:Fe.SmoothStep,fitView:!0,children:[(0,Mr.jsx)(Ul,{}),(0,Mr.jsx)(Vl,{zoomable:!0,pannable:!0})]})})}var Sj=n5;export{Sj as a};
